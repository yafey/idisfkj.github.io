<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Idisfkj</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://idisfkj.github.io/"/>
  <updated>2017-01-26T16:37:59.000Z</updated>
  <id>https://idisfkj.github.io/</id>
  
  <author>
    <name>idisfkj</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>git使用杂记</title>
    <link href="https://idisfkj.github.io/2017/01/26/git%E4%BD%BF%E7%94%A8%E6%9D%82%E8%AE%B0/"/>
    <id>https://idisfkj.github.io/2017/01/26/git使用杂记/</id>
    <published>2017-01-26T02:53:22.000Z</published>
    <updated>2017-01-26T16:37:59.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h1&gt;&lt;p&gt;&amp;#x4F5C;&amp;#x4E3A;&amp;#x4E00;&amp;#x4E2A;&amp;#x5F00;&amp;#x53D1;&amp;#x8005;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x73B0;&amp;#x5728;&amp;#x8FD8;&amp;#x4E0D;&amp;#x77E5;&amp;#x9053;&lt;code&gt;git&lt;/code&gt;&amp;#x6216;&amp;#x8005;&amp;#x8FD8;&amp;#x4E0D;&amp;#x4F1A;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;git&lt;/code&gt;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x4F60;&amp;#x5E94;&amp;#x8BE5;&amp;#x597D;&amp;#x597D;&amp;#x7684;&amp;#x53CD;&amp;#x7701;&amp;#x3002;&amp;#x81EA;&amp;#x5DF1;&amp;#x53BB;&amp;#x597D;&amp;#x597D;&amp;#x770B;&amp;#x4E00;&amp;#x904D;&amp;#x7684;&amp;#x5165;&amp;#x95E8;&amp;#x4ECB;&amp;#x7ECD;&amp;#x5427;&amp;#x3002;&amp;#x4ECA;&amp;#x5929;&amp;#x53EA;&amp;#x662F;&amp;#x5BF9;&amp;#x81EA;&amp;#x5DF1;&amp;#x5728;&amp;#x65E5;&amp;#x5E38;&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;git&lt;/code&gt;&amp;#x7684;&amp;#x4E00;&amp;#x4E9B;&amp;#x5E38;&amp;#x7528;&amp;#x547D;&amp;#x4EE4;&amp;#x7684;&amp;#x4ECB;&amp;#x7ECD;&amp;#x4E0E;&amp;#x81EA;&amp;#x5DF1;&amp;#x8BA4;&amp;#x4E3A;&amp;#x4E0D;&amp;#x9519;&amp;#x4E14;&amp;#x80FD;&amp;#x63D0;&amp;#x9AD8;&amp;#x6211;&amp;#x4EEC;&amp;#x529E;&amp;#x516C;&amp;#x6548;&amp;#x7387;&amp;#x7684;&amp;#x547D;&amp;#x4EE4;&amp;#x3002;&amp;#x5185;&amp;#x5BB9;&amp;#x53EF;&amp;#x80FD;&amp;#x4F1A;&amp;#x6709;&amp;#x70B9;&amp;#x6742;&amp;#x4E71;&amp;#xFF0C;&amp;#x4F46;&amp;#x7EDD;&amp;#x5BF9;&amp;#x90FD;&amp;#x662F;&amp;#x7ECF;&amp;#x5178;&amp;#x7684;&amp;#x547D;&amp;#x4EE4;&amp;#xFF0C;&amp;#x5728;&amp;#x6B64;&amp;#x8BB0;&amp;#x4E0B;&amp;#x7B14;&amp;#x8BB0;&amp;#xFF0C;&amp;#x4E5F;&amp;#x5E0C;&amp;#x671B;&amp;#x80FD;&amp;#x5E2E;&amp;#x52A9;&amp;#x6765;&amp;#x8D4F;&amp;#x8138;&amp;#x5173;&amp;#x987E;&amp;#x7684;&amp;#x4F60;&amp;#x4EEC;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x533A;&amp;#x57DF;&quot;&gt;&lt;a href=&quot;#&amp;#x533A;&amp;#x57DF;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x533A;&amp;#x57DF;&quot;&gt;&lt;/a&gt;&amp;#x533A;&amp;#x57DF;&lt;/h2&gt;&lt;p&gt;&amp;#x5728;&amp;#x8FD9;&amp;#x4E4B;&amp;#x524D;&amp;#xFF0C;&amp;#x6765;&amp;#x4ECB;&amp;#x7ECD;&amp;#x4E00;&amp;#x4E0B;&lt;code&gt;git&lt;/code&gt;&amp;#x7684;&amp;#x4E09;&amp;#x4E2A;&amp;#x533A;&amp;#x57DF;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;#x5DE5;&amp;#x4F5C;&amp;#x533A;&amp;#xFF08;working directory&amp;#xFF09;&lt;/li&gt;
&lt;li&gt;&amp;#x6682;&amp;#x5B58;&amp;#x533A;&amp;#xFF08;stage index&amp;#xFF09;&lt;/li&gt;
&lt;li&gt;&amp;#x672C;&amp;#x5730;&amp;#x5386;&amp;#x53F2;&amp;#x533A;&amp;#xFF08;history&amp;#xFF09;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x4E00;&amp;#x5F20;&amp;#x56FE;&amp;#x5C31;&amp;#x80FD;&amp;#x7B80;&amp;#x6D01;&amp;#x6613;&amp;#x61C2;&amp;#x7684;&amp;#x660E;&amp;#x767D;&amp;#x5B83;&amp;#x4EEC;&amp;#x4E4B;&amp;#x95F4;&amp;#x7684;&amp;#x8F6C;&amp;#x5316;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2017/01/26/git&amp;#x4F7F;&amp;#x7528;&amp;#x6742;&amp;#x8BB0;/5.png&quot; alt=&quot;git&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;clone&quot;&gt;&lt;a href=&quot;#clone&quot; class=&quot;headerlink&quot; title=&quot;clone&quot;&gt;&lt;/a&gt;clone&lt;/h2&gt;&lt;p&gt;&amp;#x5148;&amp;#x4ECE;&lt;code&gt;clone&lt;/code&gt;&amp;#x547D;&amp;#x4EE4;&amp;#x6765;&amp;#x4ECB;&amp;#x7ECD;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x8FC7;&lt;code&gt;git&lt;/code&gt;&amp;#x7684;&amp;#x90FD;&amp;#x77E5;&amp;#x9053;&amp;#x5B83;&amp;#x3002;&lt;code&gt;git colne&lt;/code&gt;&amp;#x547D;&amp;#x4EE4;&amp;#x62C9;&amp;#x53D6;&amp;#x8FDC;&amp;#x7A0B;&amp;#x4ED3;&amp;#x5E93;&amp;#x5230;&amp;#x672C;&amp;#x5730;&amp;#x3002;&amp;#x4F46;&amp;#x5F53;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x62C9;&amp;#x53D6;&amp;#x5230;&amp;#x6307;&amp;#x5B9A;&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x5939;&amp;#x4E0B;&amp;#x65F6;&amp;#xFF0C;&amp;#x4F60;&amp;#x53EF;&amp;#x80FD;&amp;#x4F1A;&amp;#x76F4;&amp;#x63A5;&lt;code&gt;mkdir&lt;/code&gt;&amp;#xFF0C;&amp;#x5176;&amp;#x5B9E;&amp;#x65E0;&amp;#x9700;&amp;#x5982;&amp;#x6B64;&amp;#xFF0C;&amp;#x4E00;&amp;#x6761;&amp;#x547D;&amp;#x4EE4;&amp;#x5C31;&amp;#x80FD;&amp;#x641E;&amp;#x5B9A;&lt;code&gt;git clone &amp;#x8FDC;&amp;#x7A0B;&amp;#x4ED3;&amp;#x5E93; &amp;#x6587;&amp;#x4EF6;&amp;#x540D;&lt;/code&gt;&amp;#xFF0C;&amp;#x5C31;&amp;#x662F;&amp;#x5982;&amp;#x6B64;&amp;#x7B80;&amp;#x5355;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;rm&quot;&gt;&lt;a href=&quot;#rm&quot; class=&quot;headerlink&quot; title=&quot;rm&quot;&gt;&lt;/a&gt;rm&lt;/h2&gt;&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;&amp;#x5DE5;&amp;#x4F5C;&amp;#x4E2D;&amp;#x53EF;&amp;#x80FD;&amp;#x4F1A;&amp;#x9047;&amp;#x5230;&amp;#x8FD9;&amp;#x4E48;&amp;#x4E00;&amp;#x79CD;&amp;#x60C5;&amp;#x51B5;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;git add .&lt;/code&gt;&amp;#x76F4;&amp;#x63A5;&amp;#x5C06;&amp;#x5DE5;&amp;#x4F5C;&amp;#x533A;&amp;#x7684;&amp;#x6240;&amp;#x6709;&amp;#x4FEE;&amp;#x6539;&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x6682;&amp;#x5B58;&amp;#x533A;&amp;#x4E86;&amp;#xFF0C;&amp;#x4F46;&amp;#x662F;&amp;#x540E;&amp;#x9762;&amp;#x53D1;&amp;#x73B0;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x6587;&amp;#x4EF6;&amp;#x5148;&amp;#x4E0D;&amp;#x8981;&amp;#x52A0;&amp;#x8FDB;&amp;#x53BB;&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;&amp;#x6211;&amp;#x4EEC;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&amp;#x5982;&amp;#x4E0B;&amp;#x547D;&amp;#x4EE4;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x5C06;&amp;#x8BE5;&amp;#x6587;&amp;#x4EF6;&amp;#x9000;&amp;#x56DE;&amp;#x5230;&amp;#x5DE5;&amp;#x4F5C;&amp;#x533A;&amp;#x4E2D;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git rm --cached &amp;lt;file&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;stash&quot;&gt;&lt;a href=&quot;#stash&quot; class=&quot;headerlink&quot; title=&quot;stash&quot;&gt;&lt;/a&gt;stash&lt;/h2&gt;&lt;p&gt;&amp;#x6709;&amp;#x8FD9;&amp;#x4E48;&amp;#x4E00;&amp;#x79CD;&amp;#x60C5;&amp;#x51B5;&amp;#xFF0C;&amp;#x5F53;&amp;#x4F60;&amp;#x6B63;&amp;#x5728;&amp;#x5F00;&amp;#x53D1;&amp;#x4E2D;&amp;#x65F6;&amp;#xFF0C;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x7EBF;&amp;#x4E0A;&amp;#x7684;&amp;#x7D27;&amp;#x6025;&lt;code&gt;bug&lt;/code&gt;&amp;#x9700;&amp;#x8981;&amp;#x4FEE;&amp;#x590D;&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;&amp;#x5F00;&amp;#x53D1;&amp;#x4E2D;&amp;#x7684;&amp;#x529F;&amp;#x80FD;&amp;#x53C8;&amp;#x6CA1;&amp;#x6709;&amp;#x5B8C;&amp;#x6210;&amp;#x4F60;&amp;#x4E0D;&amp;#x60F3;&amp;#x63D0;&amp;#x4EA4;&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;&amp;#x4F60;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;git stash&lt;/code&gt;&amp;#x5C06;&amp;#x5DE5;&amp;#x4F5C;&amp;#x533A;&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x90FD;&amp;#x5B58;&amp;#x653E;&amp;#x8D77;&amp;#x6765;&amp;#x3002;&amp;#x8FD9;&amp;#x65F6;&amp;#x4F60;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x653E;&amp;#x5FC3;&amp;#x7684;&amp;#x53BB;&amp;#x5207;&amp;#x5206;&amp;#x652F;&amp;#x4FEE;&amp;#x590D;&lt;code&gt;bug&lt;/code&gt;&amp;#xFF0C;&amp;#x4FEE;&amp;#x590D;&amp;#x5B8C;&amp;#x4E4B;&amp;#x540E;&amp;#x6267;&amp;#x884C;&lt;code&gt;git stash pop&lt;/code&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x5C06;&amp;#x5148;&amp;#x524D;&amp;#x5B58;&amp;#x653E;&amp;#x7684;&amp;#x53D6;&amp;#x51FA;&amp;#xFF0C;&amp;#x5F53;&amp;#x7136;&amp;#x4E5F;&amp;#x6709;&amp;#x4E00;&amp;#x4E9B;&amp;#x5176;&amp;#x4ED6;&amp;#x7684;&amp;#x76F8;&amp;#x5173;&amp;#x547D;&amp;#x4EE4;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;&lt;code&gt;git stash list&lt;/code&gt;&amp;#x67E5;&amp;#x770B;&amp;#x5B58;&amp;#x653E;&amp;#x7684;&amp;#x8BB0;&amp;#x5F55;,&lt;code&gt;git stash drop&lt;/code&gt;&amp;#x4E22;&amp;#x5F03;&amp;#x5B58;&amp;#x653E;&amp;#x7684;&amp;#x8BB0;&amp;#x5F55;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;tag&quot;&gt;&lt;a href=&quot;#tag&quot; class=&quot;headerlink&quot; title=&quot;tag&quot;&gt;&lt;/a&gt;tag&lt;/h2&gt;&lt;p&gt;&amp;#x53EF;&amp;#x80FD;&amp;#x5728;&amp;#x5F00;&amp;#x53D1;&amp;#x4E2D;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x6253;&amp;#x6807;&amp;#x7B7E;&lt;code&gt;git tag tagName&lt;/code&gt;&amp;#xFF0C;&amp;#x5E76;&amp;#x4E14;&amp;#x8981;&amp;#x5C06;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&amp;#x6807;&amp;#x7B7E;&amp;#x63A8;&amp;#x9001;&amp;#x5230;&amp;#x8FDC;&amp;#x7A0B;&amp;#x4ED3;&amp;#x5E93;&amp;#x4E2D;&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&amp;#x5982;&amp;#x4E0B;&amp;#x547D;&amp;#x4EE4;&amp;#x8FDB;&amp;#x884C;&amp;#x63A8;&amp;#x9001;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git push --tags tagName&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;amend&quot;&gt;&lt;a href=&quot;#amend&quot; class=&quot;headerlink&quot; title=&quot;amend&quot;&gt;&lt;/a&gt;amend&lt;/h2&gt;&lt;p&gt;&amp;#x5F53;&amp;#x4F60;&lt;code&gt;commit&lt;/code&gt;&amp;#x4EE5;&amp;#x540E;&amp;#xFF0C;&amp;#x53D1;&amp;#x73B0;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x6587;&amp;#x4EF6;&amp;#x6CA1;&amp;#x6709;&amp;#x52A0;&amp;#x8FDB;&amp;#x4E0A;&amp;#x6B21;&amp;#x7684;&lt;code&gt;commit&lt;/code&gt;&amp;#x4E2D;&amp;#xFF0C;&amp;#x6216;&amp;#x8005;&amp;#x53C8;&amp;#x4FEE;&amp;#x6539;&amp;#x4E86;&amp;#x4E00;&amp;#x4E9B;&amp;#x6587;&amp;#x4EF6;&amp;#x3002;&amp;#x6B64;&amp;#x65F6;&amp;#x4F60;&amp;#x5E76;&amp;#x4E0D;&amp;#x60F3;&amp;#x589E;&amp;#x52A0;&amp;#x65B0;&amp;#x7684;&lt;code&gt;commit&lt;/code&gt;&amp;#x4FE1;&amp;#x606F;&amp;#xFF0C;&amp;#x53EA;&amp;#x662F;&amp;#x60F3;&amp;#x5C06;&amp;#x5176;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x4E0A;&amp;#x6B21;&amp;#x7684;&lt;code&gt;commit&lt;/code&gt;&amp;#x4E2D;&amp;#x3002;&amp;#x8FD9;&amp;#x65F6;&amp;#x4F60;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git commit --amend &amp;lt;file&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5C06;&amp;#x6682;&amp;#x5B58;&amp;#x533A;&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x52A0;&amp;#x5165;&amp;#x5176;&amp;#x4E2D;,&amp;#x5E76;&amp;#x4E14;&amp;#x4F60;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x4FEE;&amp;#x6539;&amp;#x6B64;&amp;#x65F6;&amp;#x7684;&lt;code&gt;commit&lt;/code&gt;&amp;#x4FE1;&amp;#x606F;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;reset&quot;&gt;&lt;a href=&quot;#reset&quot; class=&quot;headerlink&quot; title=&quot;reset&quot;&gt;&lt;/a&gt;reset&lt;/h2&gt;&lt;p&gt;&lt;code&gt;reset&lt;/code&gt;&amp;#x4E5F;&amp;#x80FD;&amp;#x5B9E;&amp;#x73B0;&amp;#x524D;&amp;#x9762;&amp;#x7684;&lt;code&gt;rm&lt;/code&gt;&amp;#x7684;&amp;#x6548;&amp;#x679C;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&amp;#x5982;&amp;#x4E0B;&amp;#x547D;&amp;#x4EE4;&amp;#x6765;&amp;#x66FF;&amp;#x4EE3;&amp;#x524D;&amp;#x9762;&amp;#x7684;&lt;code&gt;git rm --cached &amp;lt;file&amp;gt;&lt;/code&gt;&amp;#x547D;&amp;#x4EE4;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git reset HEAD &amp;lt;file&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4F46;&lt;code&gt;reset&lt;/code&gt;&amp;#x7528;&amp;#x9014;&amp;#x66F4;&amp;#x5E7F;&amp;#xFF0C;&amp;#x7ED3;&amp;#x5408;&lt;code&gt;soft&lt;/code&gt;&amp;#x53C2;&amp;#x6570;&amp;#x53EF;&amp;#x4EE5;&amp;#x56DE;&amp;#x64A4;&amp;#x5230;&amp;#x4EFB;&amp;#x610F;&amp;#x7684;&lt;code&gt;commit&lt;/code&gt;&amp;#x8282;&amp;#x70B9;&amp;#x8FDB;&amp;#x884C;&amp;#x64CD;&amp;#x4F5C;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git reset --soft index&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6267;&amp;#x884C;&amp;#x8BE5;&amp;#x547D;&amp;#x4EE4;&amp;#x4E4B;&amp;#x540E;&amp;#xFF0C;&amp;#x5C31;&amp;#x56DE;&amp;#x5230;&lt;code&gt;index&lt;/code&gt;&amp;#x5904;&amp;#xFF0C;&amp;#x5DE5;&amp;#x4F5C;&amp;#x533A;&amp;#x4E0D;&amp;#x53D8;&amp;#x3001;&amp;#x6682;&amp;#x5B58;&amp;#x533A;&amp;#x56DE;&amp;#x5230;&amp;#x5F53;&amp;#x65F6;&amp;#x7684;&lt;code&gt;index&lt;/code&gt;&amp;#x5904;&amp;#x3002;&amp;#x53E6;&amp;#x5916;&amp;#x8FD8;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;hard&lt;/code&gt;&amp;#x53C2;&amp;#x6570;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git reset --hard index&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E0E;&lt;code&gt;soft&lt;/code&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x8BF4;&amp;#x5BF9;&amp;#x7ACB;&amp;#xFF0C;&amp;#x5B83;&amp;#x7684;&amp;#x6548;&amp;#x679C;&amp;#x5C31;&amp;#x5728;&amp;#x4E8E;&amp;#x5DE5;&amp;#x4F5C;&amp;#x533A;&amp;#x4E0E;&amp;#x6682;&amp;#x5B58;&amp;#x533A;&amp;#x7684;&amp;#x4E0D;&amp;#x540C;&amp;#xFF0C;&amp;#x5B83;&amp;#x4F1A;&amp;#x6E05;&amp;#x7A7A;&amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x533A;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;rebase&quot;&gt;&lt;a href=&quot;#rebase&quot; class=&quot;headerlink&quot; title=&quot;rebase&quot;&gt;&lt;/a&gt;rebase&lt;/h2&gt;&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&lt;code&gt;rebase&lt;/code&gt;&amp;#x662F;&amp;#x91CD;&amp;#x5B9A;&amp;#x5411;&amp;#x7684;&amp;#x610F;&amp;#x601D;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x5F53;&amp;#x524D;&amp;#x7684;&amp;#x5206;&amp;#x652F;&amp;#x4E0E;&amp;#x8FDC;&amp;#x7A0B;&amp;#x7684;&amp;#x5206;&amp;#x652F;&lt;code&gt;commit&lt;/code&gt;&amp;#x4FE1;&amp;#x606F;&amp;#x5B58;&amp;#x5728;&amp;#x5DEE;&amp;#x5F02;&amp;#x65F6;&amp;#xFF0C;&amp;#x4F1A;&amp;#x63D0;&amp;#x9192;&amp;#x4F60;&amp;#x6B64;&amp;#x65F6;&amp;#x4E0D;&amp;#x80FD;&amp;#x8FDB;&amp;#x884C;&lt;code&gt;push&lt;/code&gt;&amp;#xFF0C;&amp;#x5FC5;&amp;#x987B;&amp;#x5148;&amp;#x5C06;&amp;#x8FDC;&amp;#x7A0B;&amp;#x7684;&lt;code&gt;commit&lt;/code&gt;&amp;#x4FE1;&amp;#x606F;&amp;#x62C9;&amp;#x53BB;&amp;#x5230;&amp;#x672C;&amp;#x5730;&amp;#x6765;&amp;#xFF0C;&amp;#x624D;&amp;#x80FD;&amp;#x8FDB;&amp;#x884C;&amp;#x63D0;&amp;#x4EA4;&amp;#x3002;&amp;#x5BF9;&amp;#x4E8E;&amp;#x8FD9;&amp;#x79CD;&amp;#x60C5;&amp;#x51B5;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;rebase&lt;/code&gt;&amp;#x547D;&amp;#x4EE4;&amp;#x4E86;&amp;#x3002;&amp;#x5982;&amp;#x4E0B;&amp;#x5F53;&amp;#x524D;&amp;#x5904;&amp;#x5728;&lt;code&gt;develop&lt;/code&gt;&amp;#x5206;&amp;#x652F;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2017/01/26/git&amp;#x4F7F;&amp;#x7528;&amp;#x6742;&amp;#x8BB0;/1.png&quot; alt=&quot;rebase&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x6B64;&amp;#x65F6;&amp;#x5E94;&amp;#x8BE5;&amp;#x5148;&amp;#x6267;&amp;#x884C;&lt;code&gt;rebase&lt;/code&gt;&amp;#x547D;&amp;#x4EE4;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git fetch&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git rebase origin/master&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6267;&amp;#x884C;&amp;#x5B8C;&amp;#x4E4B;&amp;#x540E;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x518D;&lt;code&gt;push&lt;/code&gt;&amp;#x5230;&amp;#x8FDC;&amp;#x7A0B;&lt;code&gt;master&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git push origin master&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6700;&amp;#x7EC8;&amp;#x5404;&amp;#x4E2A;&amp;#x5206;&amp;#x652F;&amp;#x7684;&amp;#x60C5;&amp;#x51B5;&amp;#x5C31;&amp;#x662F;&amp;#x4E0A;&amp;#x56FE;&amp;#x7684;&amp;#x6548;&amp;#x679C;&amp;#x4E86;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x89C9;&amp;#x5F97;&amp;#x547D;&amp;#x4EE4;&amp;#x591A;&amp;#x96BE;&amp;#x8BB0;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x4E5F;&amp;#x53EF;&amp;#x7528;&amp;#x4E00;&amp;#x6761;&amp;#x547D;&amp;#x4EE4;&amp;#x6765;&amp;#x5B8C;&amp;#x6210;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x6548;&amp;#x679C;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git pull --rebase origin master&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x662F;&lt;code&gt;rebase&lt;/code&gt;&amp;#x7684;&amp;#x7B80;&amp;#x5355;&amp;#x8FD0;&amp;#x7528;&amp;#xFF0C;&amp;#x4E5F;&amp;#x662F;&amp;#x5E38;&amp;#x89C1;&amp;#x7684;&amp;#x547D;&amp;#x4EE4;&amp;#x4E86;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x4ECB;&amp;#x7ECD;&lt;code&gt;rebase&lt;/code&gt;&amp;#x7684;&amp;#x4E00;&amp;#x4E2A;&amp;#x53EF;&amp;#x9009;&amp;#x53C2;&amp;#x6570;&lt;code&gt;--onto&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x2013;onto&quot;&gt;&lt;a href=&quot;#&amp;#x2013;onto&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x2013;onto&quot;&gt;&lt;/a&gt;&amp;#x2013;onto&lt;/h3&gt;&lt;p&gt;&amp;#x4F7F;&amp;#x7528;&amp;#x573A;&amp;#x666F;&amp;#xFF1A;&amp;#x5F00;&amp;#x53D1;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x6211;&amp;#x4EEC;&amp;#x90FD;&amp;#x4F1A;&amp;#x521B;&amp;#x5EFA;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x5206;&amp;#x652F;&amp;#x8FDB;&amp;#x884C;&amp;#x5F00;&amp;#x53D1;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x529F;&amp;#x80FD;&amp;#xFF0C;&amp;#x5F53;&amp;#x4F60;&amp;#x5728;&amp;#x5206;&amp;#x652F;&lt;code&gt;A&lt;/code&gt;&amp;#x4E0A;&amp;#x521B;&amp;#x5EFA;&amp;#x4E86;&amp;#x65B0;&amp;#x5206;&amp;#x652F;&lt;code&gt;B&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x5F00;&amp;#x53D1;&amp;#x529F;&amp;#x80FD;&amp;#x5E76;&amp;#x4E14;&amp;#x4E5F;&amp;#x63D0;&amp;#x4EA4;&amp;#x4E86;&amp;#x4E00;&amp;#x4E9B;&lt;code&gt;commit&lt;/code&gt;&amp;#x65F6;&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;&amp;#x4F60;&amp;#x53D1;&amp;#x73B0;&amp;#x539F;&amp;#x6765;&lt;code&gt;A&lt;/code&gt;&amp;#x5206;&amp;#x652F;&amp;#x4E0A;&amp;#x6709;&amp;#x9519;&amp;#x8BEF;&amp;#x7684;&lt;code&gt;commit&lt;/code&gt;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x8981;&lt;code&gt;rebase&lt;/code&gt;&amp;#x5230;&lt;code&gt;master&lt;/code&gt;&amp;#x4E0A;&amp;#x65F6;&amp;#xFF0C;&amp;#x4E0D;&amp;#x80FD;&amp;#x5C06;&amp;#x8FD9;&amp;#x4E2A;&amp;#x9519;&amp;#x8BEF;&amp;#x7684;&lt;code&gt;commit&lt;/code&gt;&amp;#x4E5F;&amp;#x9644;&amp;#x5E26;&amp;#x4E0A;&amp;#x3002;&amp;#x8FD9;&amp;#x4E2A;&amp;#x65F6;&amp;#x5019;&amp;#x5C31;&amp;#x8BE5;&lt;code&gt;--onto&lt;/code&gt;&amp;#x5927;&amp;#x663E;&amp;#x795E;&amp;#x901A;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2017/01/26/git&amp;#x4F7F;&amp;#x7528;&amp;#x6742;&amp;#x8BB0;/3.png&quot; alt=&quot;--onto&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5F53;&amp;#x524D;&amp;#x5904;&amp;#x5728;&lt;code&gt;B&lt;/code&gt;&amp;#x5206;&amp;#x652F;&amp;#xFF0C;&amp;#x8981;&amp;#x5F97;&amp;#x5230;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x7ED3;&amp;#x679C;&amp;#xFF0C;&amp;#x53EA;&amp;#x9700;&amp;#x6267;&amp;#x884C;&amp;#x5982;&amp;#x4E0B;&amp;#x547D;&amp;#x4EE4;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git rebase --onto master &amp;lt;b&amp;#x7684;commit hash code&amp;gt; B&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x4E2A;&amp;#x4E0D;&amp;#x4EC5;&amp;#x53EF;&amp;#x4EE5;&amp;#x9488;&amp;#x5BF9;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x5206;&amp;#x652F;&amp;#xFF0C;&amp;#x4E5F;&amp;#x80FD;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x540C;&amp;#x4E00;&amp;#x4E2A;&amp;#x5206;&amp;#x652F;&amp;#x4E0A;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x9488;&amp;#x5BF9;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x60C5;&amp;#x51B5;&amp;#x53EF;&amp;#x4EE5;&amp;#x53EA;&amp;#x5BF9;&amp;#x5206;&amp;#x652F;&lt;code&gt;B&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x7B49;&amp;#x4EF7;&amp;#x547D;&amp;#x4EE4;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git rebase --onto &amp;lt;a&amp;#x7684;commit hash code&amp;gt; &amp;lt;b&amp;#x7684;commit hash code&amp;gt; B&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;&amp;#x2013;interactive&quot;&gt;&lt;a href=&quot;#&amp;#x2013;interactive&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x2013;interactive&quot;&gt;&lt;/a&gt;&amp;#x2013;interactive&lt;/h3&gt;&lt;p&gt;&amp;#x5F53;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x4FEE;&amp;#x6539;&lt;code&gt;commit&lt;/code&gt;&amp;#x4FE1;&amp;#x606F;&amp;#x7684;&amp;#x540D;&amp;#x79F0;&amp;#x65F6;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x8981;&amp;#x4FEE;&amp;#x6539;&amp;#x7684;&lt;code&gt;commit&lt;/code&gt;&amp;#x5904;&amp;#x5728;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#x65F6;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git commit --amend&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x4E0D;&amp;#x662F;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#x65F6;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5C31;&amp;#x8981;&amp;#x4F7F;&amp;#x7528;&amp;#x5230;&lt;code&gt;rebase&lt;/code&gt;&amp;#x7684;&lt;code&gt;--interactive&lt;/code&gt;&amp;#x53EF;&amp;#x9009;&amp;#x53C2;&amp;#x6570;&amp;#x4E86;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x7B80;&amp;#x5199;&amp;#x4E3A;&lt;code&gt;-i&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git rebase -i &amp;lt;commit hash code&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x53C2;&amp;#x6570;&amp;#x540E;&amp;#x9762;&amp;#x7684;&lt;code&gt;commit hash code&lt;/code&gt;&amp;#x4E3A;&amp;#x9700;&amp;#x8981;&amp;#x4FEE;&amp;#x6539;&amp;#x7684;&lt;code&gt;commit&lt;/code&gt;&amp;#x7684;&amp;#x524D;&amp;#x4E00;&amp;#x4E2A;&amp;#x3002;&amp;#x6267;&amp;#x884C;&amp;#x4E4B;&amp;#x540E;&amp;#x5C31;&amp;#x4F1A;&amp;#x51FA;&amp;#x73B0;&amp;#x5982;&amp;#x4E0B;&amp;#x7C7B;&amp;#x4F3C;&amp;#x7684;&amp;#x4FE1;&amp;#x606F;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;pick 137cf0a First coommit&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;pick 163dc38 Second commit&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Rebase f9aee6e..163dc38 onto f9aee6e (2 command(s))&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;#&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Commands:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# p, pick = use commit&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# r, reword = use commit, but edit the commit message&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# e, edit = use commit, but stop for amending&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# s, squash = use commit, but meld into previous commit&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# f, fixup = like &amp;quot;squash&amp;quot;, but discard this commit&amp;apos;s log message&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# x, exec = run command (the rest of the line) using shell&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;#&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# These lines can be re-ordered; they are executed from top to bottom.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;#&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# If you remove a line here THAT COMMIT WILL BE LOST.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;#&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# However, if you remove everything, the rebase will be aborted.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;#&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Note that empty commits are commented out&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6839;&amp;#x636E;&amp;#x63D0;&amp;#x793A;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x6709;&lt;code&gt;6&lt;/code&gt;&amp;#x4E2A;&amp;#x53EF;&amp;#x9009;&amp;#x62E9;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&amp;#x76F8;&amp;#x4FE1;&amp;#x63D0;&amp;#x793A;&amp;#x5DF2;&amp;#x7ECF;&amp;#x8BF4;&amp;#x7684;&amp;#x5F88;&amp;#x660E;&amp;#x663E;&amp;#x4E86;&amp;#xFF0C;&amp;#x5BF9;&amp;#x4E8E;&amp;#x6211;&amp;#x4EEC;&amp;#x8FD9;&amp;#x79CD;&amp;#x8981;&amp;#x4FEE;&amp;#x6539;&lt;code&gt;First coommit&lt;/code&gt;&amp;#x7684;&amp;#x60C5;&amp;#x51B5;&amp;#xFF0C;&amp;#x9700;&amp;#x8981;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;r&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;r 137cf0a First commit&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;pick 163dc38 Second commit&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6267;&amp;#x884C;&amp;#x4E4B;&amp;#x540E;&amp;#x4F1A;&amp;#x8DF3;&amp;#x5230;&amp;#x4FEE;&amp;#x8BE5;&lt;code&gt;First coomit&lt;/code&gt;&amp;#x7684;&amp;#x754C;&amp;#x9762;&amp;#xFF0C;&amp;#x8FDB;&amp;#x884C;&amp;#x4FEE;&amp;#x6539;&amp;#x5373;&amp;#x53EF;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;First commit&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Please enter the commit message for your changes. Lines starting&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# with &amp;apos;#&amp;apos; will be ignored, and an empty message aborts the commit.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;#&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Date:      Thu Jan 26 23:07:10 2017 +0800&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;#&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# rebase in progress; onto f9aee6e&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# You are currently editing a commit while rebasing branch &amp;apos;master&amp;apos; on &amp;apos;f9aee6e&amp;apos;.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;#&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Changes to be committed:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;#       new file:   file1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x81F3;&amp;#x4E8E;&amp;#x5176;&amp;#x4ED6;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#x9879;&amp;#xFF0C;&amp;#x6709;&amp;#x5174;&amp;#x8DA3;&amp;#x7684;&amp;#x53EF;&amp;#x4EE5;&amp;#x81EA;&amp;#x5DF1;&amp;#x53BB;&amp;#x5C1D;&amp;#x8BD5;&amp;#x4E00;&amp;#x4E0B;&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&lt;code&gt;s&lt;/code&gt;&amp;#x64CD;&amp;#x4F5C;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x7528;&amp;#x6765;&amp;#x5408;&amp;#x5E76;&lt;code&gt;commit&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;branch&quot;&gt;&lt;a href=&quot;#branch&quot; class=&quot;headerlink&quot; title=&quot;branch&quot;&gt;&lt;/a&gt;branch&lt;/h2&gt;&lt;p&gt;&amp;#x76F8;&amp;#x4FE1;&lt;code&gt;branch&lt;/code&gt;&amp;#x90FD;&amp;#x5F88;&amp;#x719F;&amp;#x6089;&amp;#xFF0C;&amp;#x6211;&amp;#x8FD9;&amp;#x91CC;&amp;#x8981;&amp;#x8BF4;&amp;#x7684;&amp;#x662F;&amp;#x4ED6;&amp;#x7684;&amp;#x53E6;&amp;#x4E00;&amp;#x79CD;&amp;#x53EF;&amp;#x80FD;&amp;#x4F1A;&amp;#x7528;&amp;#x5230;&amp;#x7684;&amp;#x60C5;&amp;#x51B5;&amp;#x3002;&amp;#x573A;&amp;#x666F;&amp;#x662F;&amp;#x8FD9;&amp;#x6837;&amp;#x7684;&amp;#xFF1A;&amp;#x5982;&amp;#x679C;&amp;#x5728;&amp;#x4F60;&amp;#x8FDB;&amp;#x884C;&amp;#x521B;&amp;#x5EFA;&amp;#x65B0;&amp;#x7684;&amp;#x5206;&amp;#x652F;&amp;#x65F6;&amp;#xFF0C;&amp;#x5E76;&amp;#x4E0D;&amp;#x60F3;&amp;#x4ECE;&amp;#x5F53;&amp;#x524D;&amp;#x7684;&lt;code&gt;commit&lt;/code&gt;&amp;#x4FE1;&amp;#x606F;&amp;#x8282;&amp;#x70B9;&amp;#x8FDB;&amp;#x884C;&amp;#x521B;&amp;#x5EFA;&amp;#x5206;&amp;#x652F;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2017/01/26/git&amp;#x4F7F;&amp;#x7528;&amp;#x6742;&amp;#x8BB0;/2.png&quot; alt=&quot;branch&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&amp;#x5982;&amp;#x4E0A;&amp;#x6548;&amp;#x679C;&amp;#x53EA;&amp;#x9700;&amp;#x5728;&amp;#x521B;&amp;#x5EFA;&amp;#x5206;&amp;#x652F;&amp;#x65F6;&amp;#x5728;&amp;#x540E;&amp;#x9762;&amp;#x518D;&amp;#x6DFB;&amp;#x52A0;&amp;#x989D;&amp;#x5916;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&amp;#x8BE5;&amp;#x53C2;&amp;#x6570;&amp;#x5C31;&amp;#x662F;&amp;#x4F60;&amp;#x6240;&amp;#x9700;&amp;#x8C03;&amp;#x5230;&amp;#x7684;&lt;code&gt;commit&lt;/code&gt;&amp;#x8282;&amp;#x70B9;&amp;#x7684;&lt;code&gt;hash code&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git branch new_branch &amp;lt;commit hash code&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;push&quot;&gt;&lt;a href=&quot;#push&quot; class=&quot;headerlink&quot; title=&quot;push&quot;&gt;&lt;/a&gt;push&lt;/h2&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x63D0;&amp;#x4E00;&amp;#x4E0B;&lt;code&gt;push&lt;/code&gt;&amp;#x7684;&lt;code&gt;--set-upstream&lt;/code&gt;,&amp;#x5B83;&amp;#x7684;&amp;#x6548;&amp;#x679C;&amp;#x662F;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E0A;&amp;#x6E38;&amp;#x5206;&amp;#x652F;&amp;#xFF0C;&amp;#x5F53;&amp;#x6211;&amp;#x4EEC;&amp;#x5C06;&amp;#x8FDC;&amp;#x7A0B;&amp;#x4E0D;&amp;#x5B58;&amp;#x5728;&amp;#x7684;&amp;#x672C;&amp;#x5730;&amp;#x5206;&amp;#x652F;&amp;#x63A8;&amp;#x9001;&amp;#x5230;&amp;#x8FDC;&amp;#x7A0B;&amp;#x65F6;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x4E0D;&amp;#x5728;&amp;#x63A8;&amp;#x9001;&amp;#x7684;&amp;#x5206;&amp;#x652F;&amp;#x4E0A;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x4E00;&amp;#x822C;&amp;#x4F1A;&amp;#x4F7F;&amp;#x7528;&amp;#x5982;&amp;#x4E0B;&amp;#x547D;&amp;#x4EE4;&amp;#x8FDB;&amp;#x884C;&amp;#x63A8;&amp;#x9001;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git checkout push_branch&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git push origin push_branch&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x662F;&amp;#x7B80;&amp;#x6D01;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x8BE5;&amp;#x53C2;&amp;#x6570;&amp;#x65E0;&amp;#x9700;&amp;#x5207;&amp;#x6362;&amp;#x5206;&amp;#x652F;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x76F4;&amp;#x63A5;&amp;#x4F7F;&amp;#x7528;&amp;#x5982;&amp;#x4E0B;&amp;#x547D;&amp;#x4EE4;&amp;#x8FDB;&amp;#x884C;&amp;#x63A8;&amp;#x9001;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git push --set-upstream origin push_branch&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;cherry-pick&quot;&gt;&lt;a href=&quot;#cherry-pick&quot; class=&quot;headerlink&quot; title=&quot;cherry-pick&quot;&gt;&lt;/a&gt;cherry-pick&lt;/h2&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x4E2A;&amp;#x547D;&amp;#x4EE4;&amp;#x7684;&amp;#x573A;&amp;#x666F;&amp;#x662F;&amp;#xFF1A;&amp;#x5F53;&amp;#x4F60;&amp;#x6240;&amp;#x5728;&amp;#x7684;&amp;#x5206;&amp;#x652F;&amp;#x6CA1;&amp;#x7528;&amp;#xFF0C;&amp;#x4F60;&amp;#x8981;&amp;#x5220;&amp;#x9664;&amp;#x5B83;&amp;#xFF0C;&amp;#x4F46;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;commit&lt;/code&gt;&amp;#x4F60;&amp;#x8FD8;&amp;#x662F;&amp;#x60F3;&amp;#x63A8;&amp;#x9001;&amp;#x5230;&amp;#x8FDC;&amp;#x7A0B;&lt;code&gt;master&lt;/code&gt;&amp;#x4E0A;&amp;#x3002;&lt;br&gt;&lt;img src=&quot;/2017/01/26/git&amp;#x4F7F;&amp;#x7528;&amp;#x6742;&amp;#x8BB0;/4.png&quot; alt=&quot;cherry-pick&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5C06;&amp;#x5206;&amp;#x652F;&amp;#x5207;&amp;#x6362;&amp;#x5230;&lt;code&gt;master&lt;/code&gt;&amp;#xFF0C;&amp;#x6267;&amp;#x884C;&amp;#x4EE5;&amp;#x4E0B;&amp;#x547D;&amp;#x4EE4;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git cherry-pick &amp;lt;b&amp;#x7684; commit hash code&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;merge&quot;&gt;&lt;a href=&quot;#merge&quot; class=&quot;headerlink&quot; title=&quot;merge&quot;&gt;&lt;/a&gt;merge&lt;/h2&gt;&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x6240;&amp;#x719F;&amp;#x77E5;&amp;#x7684;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;merge&lt;/code&gt;&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x5206;&amp;#x652F;&amp;#x7684;&amp;#x5408;&amp;#x5E76;&amp;#xFF0C;&amp;#x6BCF;&amp;#x6B21;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;merge&lt;/code&gt;&amp;#x65F6;&amp;#x90FD;&amp;#x4F1A;&amp;#x81EA;&amp;#x52A8;&amp;#x5C06;&amp;#x526F;&amp;#x5206;&amp;#x652F;&amp;#x5408;&amp;#x5E76;&amp;#x6210;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;commit&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x63A8;&amp;#x9001;&amp;#x5230;&amp;#x4E3B;&amp;#x5206;&amp;#x652F;&amp;#x4E0A;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5982;&amp;#x679C;&amp;#x6211;&amp;#x4E0D;&amp;#x60F3;&amp;#x5B83;&amp;#x81EA;&amp;#x52A8;&amp;#x63A8;&amp;#x9001;&amp;#x5230;&amp;#x4E3B;&amp;#x5206;&amp;#x652F;&amp;#x4E0A;&amp;#x65F6;&amp;#xFF08;&amp;#x53EF;&amp;#x80FD;&amp;#x6211;&amp;#x8FD8;&amp;#x9700;&amp;#x8981;&amp;#x8FDB;&amp;#x884C;&amp;#x4FEE;&amp;#x6539;&amp;#xFF09;&amp;#xFF0C;&amp;#x8FD9;&amp;#x65F6;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;--squash&lt;/code&gt;&amp;#x64CD;&amp;#x4F5C;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git merge --squash dev_branch&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6267;&amp;#x884C;&amp;#x5B8C;&amp;#x4EE5;&amp;#x4E0A;&amp;#x547D;&amp;#x4EE4;&amp;#x540E;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&amp;#x6682;&amp;#x5B58;&amp;#x533A;&amp;#x770B;&amp;#x5230;&amp;#x4E00;&amp;#x4E2A;&amp;#x8FD8;&amp;#x672A;&amp;#x63D0;&amp;#x4EA4;&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x72B6;&amp;#x6001;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;reflog&quot;&gt;&lt;a href=&quot;#reflog&quot; class=&quot;headerlink&quot; title=&quot;reflog&quot;&gt;&lt;/a&gt;reflog&lt;/h2&gt;&lt;p&gt;&amp;#x5F53;&amp;#x6211;&amp;#x4EEC;&amp;#x5207;&amp;#x5206;&amp;#x652F;&amp;#x592A;&amp;#x9891;&amp;#x7E41;&amp;#x4E86;&amp;#x4E4B;&amp;#x540E;&amp;#xFF0C;&amp;#x53EF;&amp;#x80FD;&amp;#x4F1A;&amp;#x5FD8;&amp;#x4E86;&amp;#x4E00;&amp;#x4E9B;&amp;#x5206;&amp;#x652F;&amp;#x662F;&amp;#x4ECE;&amp;#x54EA;&amp;#x4E2A;&amp;#x5206;&amp;#x652F;&amp;#x5207;&amp;#x8FC7;&amp;#x6765;&amp;#x7684;&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&amp;#x5982;&amp;#x4E0B;&amp;#x547D;&amp;#x4EE4;&amp;#x67E5;&amp;#x770B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git reflog&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;894a16d HEAD@{0}: commit: commit another todo&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6876e5b HEAD@{1}: checkout: moving from solve_world_hunger to kill_the_batman&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;324336a HEAD@{2}: commit: commit todo&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6876e5b HEAD@{3}: checkout: moving from blowup_sun_for_ransom to solve_world_hunger&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6876e5b HEAD@{4}: checkout: moving from kill_the_batman to blowup_sun_for_ransom&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6876e5b HEAD@{5}: checkout: moving from cure_common_cold to kill_the_batman&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6876e5b HEAD@{6}: commit (initial): initial commit&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x6837;&amp;#x6211;&amp;#x4EEC;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x770B;&amp;#x5230;&amp;#x6240;&amp;#x7528;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#x5386;&amp;#x53F2;&amp;#x4E86;&amp;#x3002;&amp;#x8FD9;&amp;#x6837;&amp;#x5982;&amp;#x679C;&amp;#x6211;&amp;#x4EEC;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;git reset&lt;/code&gt;&amp;#x547D;&amp;#x4EE4;&amp;#x4E0D;&amp;#x5C0F;&amp;#x5FC3;&amp;#x5220;&amp;#x9664;&amp;#x4E86;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x4E1C;&amp;#x897F;&amp;#x3002;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x6B64;&amp;#x6765;&amp;#x67E5;&amp;#x627E;&amp;#x5230;&amp;#x5220;&amp;#x9664;&amp;#x64CD;&amp;#x4F5C;&amp;#x7684;&lt;code&gt;hash code&lt;/code&gt;&amp;#xFF0C;&amp;#x4E4B;&amp;#x540E;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x5982;&amp;#x4E0B;&amp;#x547D;&amp;#x4EE4;&amp;#x8FDB;&amp;#x884C;&amp;#x6062;&amp;#x590D;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git checkout &amp;lt;hash code&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x76EE;&amp;#x524D;&amp;#x60F3;&amp;#x5230;&amp;#x7684;&amp;#x5C31;&amp;#x8FD9;&amp;#x4E9B;&amp;#x4E86;&amp;#xFF0C;&amp;#x5E0C;&amp;#x671B;&amp;#x80FD;&amp;#x6709;&amp;#x6240;&amp;#x5E2E;&amp;#x52A9;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h1&gt;&lt;p&gt;&amp;#x4F5C;&amp;#x4E3
    
    </summary>
    
      <category term="git" scheme="https://idisfkj.github.io/categories/git/"/>
    
    
      <category term="git" scheme="https://idisfkj.github.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>Andorid多渠道打包</title>
    <link href="https://idisfkj.github.io/2017/01/02/Andorid%E5%A4%9A%E6%B8%A0%E9%81%93%E6%89%93%E5%8C%85/"/>
    <id>https://idisfkj.github.io/2017/01/02/Andorid多渠道打包/</id>
    <published>2017-01-02T14:45:46.000Z</published>
    <updated>2017-01-02T16:49:12.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h1&gt;&lt;p&gt;&lt;code&gt;2016&lt;/code&gt;&amp;#x521A;&amp;#x521A;&amp;#x8FC7;&amp;#x53BB;&amp;#xFF0C;&amp;#x81EA;&amp;#x5DF1;&amp;#x5199;&amp;#x535A;&amp;#x5BA2;&amp;#x662F;&amp;#x5728;&lt;code&gt;2016.03.04&lt;/code&gt;&amp;#xFF0C;&amp;#x5176;&amp;#x5B9E;&amp;#x8FD9;&amp;#x4E2A;&amp;#x65E5;&amp;#x5B50;&amp;#x5F88;&amp;#x7279;&amp;#x522B;&amp;#xFF0C;&amp;#x4E5F;&amp;#x5F88;&amp;#x6709;&amp;#x620F;&amp;#x5267;&amp;#x8272;&amp;#x5F69;(&amp;#x5185;&amp;#x5E55;&amp;#x6211;&amp;#x73B0;&amp;#x5728;&amp;#x662F;&amp;#x4E0D;&amp;#x4F1A;&amp;#x544A;&amp;#x8BC9;&amp;#x4F60;&amp;#x4EEC;&amp;#x6EF4;&amp;#xFF0C;&amp;#x731C;&amp;#x53BB;&amp;#x5427;&amp;#xFF01;)&amp;#x3002;&amp;#x6D4F;&amp;#x89C8;&amp;#x4E86;&amp;#x4E0B;&amp;#x81EA;&amp;#x5DF1;&amp;#x53BB;&amp;#x5E74;&amp;#x7684;&amp;#x6210;&amp;#x679C;&amp;#xFF0C;&amp;#x6587;&amp;#x7AE0;&amp;#x6570;&amp;#x91CF;&amp;#x8FD8;&amp;#x662F;&amp;#x5F88;&amp;#x53EF;&amp;#x89C2;&amp;#x7684;&amp;#xFF0C;&amp;#x8D77;&amp;#x521D;&amp;#x7684;&amp;#x4E00;&amp;#x4E2A;&amp;#x6708;&lt;code&gt;4&lt;/code&gt;&amp;#x7BC7;&amp;#x5230;&amp;#x540E;&amp;#x9762;&amp;#x7684;&amp;#x4E00;&amp;#x4E2A;&amp;#x6708;&lt;code&gt;1&lt;/code&gt;&amp;#x7BC7;&amp;#x3002;&amp;#x73B0;&amp;#x5728;&amp;#x81EA;&amp;#x5DF1;&amp;#x4E5F;&amp;#x8981;&amp;#x5DE5;&amp;#x4F5C;&amp;#xFF0C;&amp;#x4E0D;&amp;#x518D;&amp;#x50CF;&amp;#x539F;&amp;#x6765;&amp;#x5728;&amp;#x5B66;&amp;#x6821;&amp;#x90A3;&amp;#x4E48;&amp;#x591A;&amp;#x65F6;&amp;#x95F4;&amp;#xFF0C;&amp;#x4ECE;&amp;#x6700;&amp;#x8FD1;&amp;#x7684;&amp;#x535A;&amp;#x5BA2;&amp;#x66F4;&amp;#x65B0;&amp;#x6765;&amp;#x770B;&amp;#xFF0C;&amp;#x53D1;&amp;#x73B0;&amp;#x81EA;&amp;#x5DF1;&amp;#x6700;&amp;#x8FD1;&amp;#x5077;&amp;#x61D2;&amp;#x4E86;&amp;#x54E6;(&amp;#x5077;&amp;#x61D2;&amp;#x786E;&amp;#x5B9E;&amp;#x5F88;&amp;#x723D;)&amp;#xFF01;&amp;#x65B0;&amp;#x7684;&amp;#x4E00;&amp;#x5E74;&amp;#x7ED9;&amp;#x6211;&amp;#x4E00;&amp;#x51FB;&amp;#x8B66;&amp;#x949F;&amp;#xFF0C;&amp;#x6211;&amp;#x4E0D;&amp;#x80FD;&amp;#x8352;&amp;#x5E9F;&amp;#x6211;&amp;#x7684;&amp;#x535A;&amp;#x5BA2;&amp;#xFF0C;&amp;#x6211;&amp;#x8981;&amp;#x91CD;&amp;#x62FE;&amp;#x6211;&amp;#x7684;&amp;#x521D;&amp;#x8877;&amp;#x3002;&lt;code&gt;&amp;#x5728;&amp;#x6B64;&amp;#x501F;&amp;#x52A9;&amp;#x8FD9;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x7ACB;&amp;#x4E0B;&amp;#x8BC1;&amp;#x636E;&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x65B0;&amp;#x7684;&amp;#x4E00;&amp;#x5E74;&amp;#x65B0;&amp;#x7684;&amp;#x5F00;&amp;#x59CB;&amp;#xFF0C;&amp;#x4E00;&amp;#x6B65;&amp;#x4E00;&amp;#x4E2A;&amp;#x811A;&amp;#x5370;&amp;#x8FCE;&amp;#x63A5;&lt;code&gt;2017&lt;/code&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;&amp;#x6B63;&amp;#x6587;&quot;&gt;&lt;a href=&quot;#&amp;#x6B63;&amp;#x6587;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6B63;&amp;#x6587;&quot;&gt;&lt;/a&gt;&amp;#x6B63;&amp;#x6587;&lt;/h1&gt;&lt;p&gt;&amp;#x611F;&amp;#x8C22;&amp;#x503E;&amp;#x542C;&amp;#x6211;&amp;#x7684;&amp;#x611F;&amp;#x6168;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x6B63;&amp;#x5F0F;&amp;#x8FDB;&amp;#x5165;&amp;#x4E3B;&amp;#x9898;&amp;#x3002;&amp;#x5173;&amp;#x4E8E;&amp;#x8FD9;&amp;#x6B21;&amp;#x7684;&amp;#x591A;&amp;#x6E20;&amp;#x9053;&amp;#x6253;&amp;#x5305;&amp;#x4E5F;&amp;#x662F;&amp;#x5728;&amp;#x5DE5;&amp;#x4F5C;&amp;#x4E2D;&amp;#x624D;&amp;#x8BA4;&amp;#x8BC6;&amp;#x6709;&amp;#x8FD9;&amp;#x4E00;&amp;#x56DE;&amp;#x4E8B;&amp;#xFF0C;&amp;#x539F;&amp;#x6765;&amp;#x5728;&amp;#x5B66;&amp;#x6821;&amp;#x66F4;&amp;#x672C;&amp;#x4E0D;&amp;#x4F1A;&amp;#x63A5;&amp;#x89E6;&amp;#x5230;&amp;#x8FD9;&amp;#x4E9B;&amp;#xFF0C;&lt;code&gt;&amp;#x793E;&amp;#x4F1A;&amp;#x662F;&amp;#x6700;&amp;#x597D;&amp;#x7684;&amp;#x8001;&amp;#x5E08;&lt;/code&gt;&amp;#x3002;&amp;#x5BF9;&amp;#x4E8E;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;App&lt;/code&gt;&amp;#x90FD;&amp;#x8981;&amp;#x53D1;&amp;#x5E03;&amp;#x5230;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x5E73;&amp;#x53F0;&amp;#xFF0C;&amp;#x56E0;&amp;#x6B64;&amp;#x5C31;&amp;#x6709;&amp;#x4E86;&amp;#x8BB8;&amp;#x591A;&amp;#x7684;&amp;#x6E20;&amp;#x9053;(360&amp;#x3001;baidu&amp;#x3001;xiaomi&amp;#x3001;91&amp;#x3001;oppo&amp;#x7B49;)&amp;#xFF0C;&amp;#x800C;&amp;#x516C;&amp;#x53F8;&amp;#x4E3A;&amp;#x4E86;&amp;#x66F4;&amp;#x597D;&amp;#x7684;&amp;#x8FFD;&amp;#x8E2A;&amp;#x7528;&amp;#x6237;&amp;#x5BF9;&amp;#x4EA7;&amp;#x54C1;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x60C5;&amp;#x51B5;&amp;#xFF0C;&amp;#x8981;&amp;#x5BF9;&amp;#x4E0D;&amp;#x540C;&amp;#x6E20;&amp;#x9053;&amp;#x4E0B;&amp;#x8F7D;&amp;#x7684;&amp;#x7528;&amp;#x6237;&amp;#x8FDB;&amp;#x884C;&amp;#x7EDF;&amp;#x8BA1;&amp;#x3002;&amp;#x81F3;&amp;#x4E8E;&amp;#x7EDF;&amp;#x8BA1;&amp;#x73B0;&amp;#x5728;&amp;#x5927;&amp;#x591A;&amp;#x6570;&amp;#x90FD;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&amp;#x53CB;&amp;#x76DF;&amp;#x3002;&amp;#x5982;&amp;#x4F55;&amp;#x7EDF;&amp;#x8BA1;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x4E0D;&amp;#x591A;&amp;#x8BF4;&amp;#x4E86;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x81EA;&amp;#x884C;&amp;#x770B;&amp;#x5B98;&amp;#x65B9;&amp;#x6587;&amp;#x6863;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x5BF9;&amp;#x4E8E;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x6E20;&amp;#x9053;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x5206;&amp;#x522B;&amp;#x6253;&amp;#x5305;&amp;#xFF0C;&amp;#x5F53;&amp;#x7136;&amp;#x8FD9;&amp;#x4E5F;&amp;#x662F;&lt;code&gt;Android&lt;/code&gt;&amp;#x591A;&amp;#x5E73;&amp;#x53F0;&amp;#x7684;&amp;#x7F18;&amp;#x6545;&amp;#xFF0C;&amp;#x76F8;&amp;#x5BF9;&amp;#x4E8E;&lt;code&gt;IOS&lt;/code&gt;&amp;#x5374;&amp;#x6CA1;&amp;#x6709;&amp;#x8FD9;&amp;#x4E48;&amp;#x4E00;&amp;#x56DE;&amp;#x4E8B;&amp;#x3002;&amp;#x73B0;&amp;#x5728;&amp;#x6E20;&amp;#x9053;&amp;#x6709;&lt;code&gt;900&lt;/code&gt;&amp;#x591A;&amp;#x4E2A;&amp;#xFF0C;&amp;#x4E00;&amp;#x822C;&amp;#x6253;&amp;#x4E00;&amp;#x6B21;&amp;#x5305;&amp;#x5C31;&amp;#x8981;&lt;code&gt;3~4&lt;/code&gt;&amp;#x5206;&amp;#x949F;&amp;#xFF0C;&amp;#x50CF;&amp;#x6211;&amp;#x516C;&amp;#x53F8;&amp;#x8981;&amp;#x9488;&amp;#x5BF9;&lt;code&gt;66&lt;/code&gt;&amp;#x4E2A;&amp;#x6E20;&amp;#x9053;&amp;#x8FDB;&amp;#x884C;&amp;#x6253;&amp;#x5305;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x6309;&amp;#x90E8;&amp;#x5C31;&amp;#x73ED;&amp;#x6765;&amp;#x90A3;&amp;#x5C31;&amp;#x8981;&lt;code&gt;3~4&lt;/code&gt;&amp;#x4E2A;&amp;#x5C0F;&amp;#x65F6;&amp;#x4E86;&amp;#xFF08;&amp;#x54C7;&amp;#x597D;&amp;#x723D;&amp;#x554A;&amp;#xFF0C;&amp;#x534A;&amp;#x5929;&amp;#x5DE5;&amp;#x4F5C;&amp;#x65F6;&amp;#x95F4;&amp;#x5C31;&amp;#x8FC7;&amp;#x53BB;&amp;#x4E86;&amp;#xFF0C;&amp;#x5077;&amp;#x61D2;&amp;#x6210;&amp;#x529F;&amp;#xFF09;&amp;#x8FD9;&amp;#x6837;&amp;#x5DE5;&amp;#x4F5C;&amp;#x6548;&amp;#x7387;&amp;#x5B8C;&amp;#x5168;&amp;#x88AB;&amp;#x8FD9;&amp;#x79CD;&amp;#x65E0;&amp;#x610F;&amp;#x4E49;&amp;#x7684;&amp;#x4E1C;&amp;#x897F;&amp;#x6D6A;&amp;#x8D39;&amp;#x4E86;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x628A;&amp;#x8FD9;&amp;#x4E9B;&amp;#x65F6;&amp;#x95F4;&amp;#x7528;&amp;#x6765;&amp;#x64A9;&amp;#x59B9;&amp;#x7EC8;&amp;#x8EAB;&amp;#x5927;&amp;#x4E8B;&amp;#x5C31;&amp;#x4E0D;&amp;#x6101;&amp;#x4E86;&amp;#xFF08;&amp;#x563B;&amp;#x563B;&amp;#xFF09;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x89E3;&amp;#x51B3;&quot;&gt;&lt;a href=&quot;#&amp;#x89E3;&amp;#x51B3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x89E3;&amp;#x51B3;&quot;&gt;&lt;/a&gt;&amp;#x89E3;&amp;#x51B3;&lt;/h2&gt;&lt;h3 id=&quot;&amp;#x6700;&amp;#x57FA;&amp;#x672C;&amp;#x65B9;&amp;#x5F0F;&quot;&gt;&lt;a href=&quot;#&amp;#x6700;&amp;#x57FA;&amp;#x672C;&amp;#x65B9;&amp;#x5F0F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6700;&amp;#x57FA;&amp;#x672C;&amp;#x65B9;&amp;#x5F0F;&quot;&gt;&lt;/a&gt;&amp;#x6700;&amp;#x57FA;&amp;#x672C;&amp;#x65B9;&amp;#x5F0F;&lt;/h3&gt;&lt;p&gt;&amp;#x6700;&amp;#x57FA;&amp;#x672C;&amp;#x7684;&amp;#x8BBE;&amp;#x7F6E;&amp;#x6E20;&amp;#x9053;&amp;#x7684;&amp;#x65B9;&amp;#x5F0F;&amp;#x662F;&amp;#x5728;&lt;code&gt;AndroidManifest.xml&lt;/code&gt;&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#x5B9A;&amp;#x4E49;&lt;code&gt;&amp;lt;meta-data&amp;gt;&lt;/code&gt;&amp;#x5143;&amp;#x7D20;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;meta-data&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:name=&amp;quot;UMENG_CHANNEL&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:value=&amp;quot;Channel_ID&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;meta-data&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	android:name=&amp;quot;UMENG_CHANNEL&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   	android:value=&amp;quot;web&amp;quot; /&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;&amp;#x53CB;&amp;#x76DF;&amp;#x7EDF;&amp;#x8BA1;&amp;#xFF0C; &amp;#x4E0A;&amp;#x9762;&amp;#x7684;&lt;code&gt;web&lt;/code&gt;&amp;#x5C31;&amp;#x662F;&amp;#x6E20;&amp;#x9053;&amp;#x540D;&amp;#xFF0C;&amp;#x4E0D;&amp;#x540C;&amp;#x6E20;&amp;#x9053;&amp;#x5BF9;&amp;#x5E94;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x503C;&amp;#x3002;&amp;#x5BF9;&amp;#x4E8E;&amp;#x6E20;&amp;#x9053;&amp;#x5C11;&amp;#x7684;&amp;#x53EF;&amp;#x4EE5;&amp;#x76F4;&amp;#x63A5;&amp;#x5728;&lt;code&gt;build.gradle&lt;/code&gt;&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&amp;#x8BBE;&amp;#x7F6E;&lt;code&gt;productFlavors&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;productFlavors {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        xiaomi {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            manifestPlaceholders = [UMENG_CHANNEL_VALUE: &amp;quot;xiaomi&amp;quot;]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        _360 {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            manifestPlaceholders = [UMENG_CHANNEL_VALUE: &amp;quot;_360&amp;quot;]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        baidu {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            manifestPlaceholders = [UMENG_CHANNEL_VALUE: &amp;quot;baidu&amp;quot;]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        wandoujia {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            manifestPlaceholders = [UMENG_CHANNEL_VALUE: &amp;quot;wandoujia&amp;quot;]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6216;&amp;#x8005;&amp;#x7EDF;&amp;#x4E00;&amp;#x4FEE;&amp;#x6539;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;productFlavors {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        xiaomi {}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        _360 {}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        baidu {}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        wandoujia {}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    productFlavors.all { &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        flavor -&amp;gt; flavor.manifestPlaceholders = [UMENG_CHANNEL_VALUE: name] &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x662F;&amp;#x9488;&amp;#x5BF9;&amp;#x6E20;&amp;#x9053;&amp;#x5C11;&amp;#x7684;&amp;#xFF0C;&amp;#x4E5F;&amp;#x662F;&amp;#x6700;&amp;#x57FA;&amp;#x672C;&amp;#x7684;&amp;#x65B9;&amp;#x5F0F;&amp;#x3002;&amp;#x800C;&amp;#x5BF9;&amp;#x4E8E;&amp;#x6E20;&amp;#x9053;&amp;#x8FC7;&amp;#x591A;&amp;#x7684;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&amp;#x6211;&amp;#x73B0;&amp;#x5728;&amp;#x9047;&amp;#x5230;&amp;#x7684;&lt;code&gt;60&lt;/code&gt;&amp;#x591A;&amp;#x4E2A;&amp;#xFF0C;&amp;#x53C8;&amp;#x8BE5;&amp;#x5982;&amp;#x4F55;&amp;#x89E3;&amp;#x51B3;&amp;#x5462;&amp;#xFF1F;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x4F18;&amp;#x5316;&amp;#x65B9;&amp;#x5F0F;&quot;&gt;&lt;a href=&quot;#&amp;#x4F18;&amp;#x5316;&amp;#x65B9;&amp;#x5F0F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4F18;&amp;#x5316;&amp;#x65B9;&amp;#x5F0F;&quot;&gt;&lt;/a&gt;&amp;#x4F18;&amp;#x5316;&amp;#x65B9;&amp;#x5F0F;&lt;/h3&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x501F;&amp;#x52A9;&amp;#x7B2C;&amp;#x4E09;&amp;#x65B9;&amp;#x5E93;&lt;code&gt;packer-ng&lt;/code&gt;&amp;#xFF0C;&amp;#x8FDB;&amp;#x884C;&amp;#x5FEB;&amp;#x901F;&amp;#x6253;&amp;#x5305;&amp;#xFF0C;&amp;#x5B83;&amp;#x53EA;&amp;#x9700;&amp;#x6267;&amp;#x884C;&amp;#x4E00;&amp;#x6B21;&amp;#x6B63;&amp;#x5E38;&amp;#x7684;&amp;#x6253;&amp;#x5305;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x5269;&amp;#x4E0B;&amp;#x7684;&amp;#x6E20;&amp;#x9053;&amp;#x6BCF;&amp;#x4E2A;&amp;#x4EE5;&lt;code&gt;1&lt;/code&gt;&amp;#x79D2;&amp;#x4EE5;&amp;#x5185;&amp;#x7684;&amp;#x901F;&amp;#x5EA6;&amp;#x8FDB;&amp;#x884C;&amp;#x6253;&amp;#x5305;&amp;#x3002;&amp;#x901F;&amp;#x5EA6;&amp;#x662F;&amp;#x4E0D;&amp;#x662F;&amp;#x975E;&amp;#x5E38;&amp;#x53EF;&amp;#x89C2;&amp;#x5462;(&amp;#x9EBB;&amp;#x9EBB;&amp;#x518D;&amp;#x4E5F;&amp;#x4E0D;&amp;#x7528;&amp;#x62C5;&amp;#x5FC3;&amp;#x6211;&amp;#x7684;&amp;#x6548;&amp;#x7387;&amp;#x4E86;)&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x5728;&amp;#x9879;&amp;#x76EE;&amp;#x7684;&amp;#x6839;&amp;#x76EE;&amp;#x5F55;&amp;#x7684;&lt;code&gt;bulid.gradle&lt;/code&gt;&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&amp;#x8BBE;&amp;#x7F6E;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;dependencies {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        classpath &amp;apos;com.mcxiaoke.gradle:packer-ng:1.0.8&amp;apos;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x518D;&amp;#x5207;&amp;#x6362;&amp;#x5230;&lt;code&gt;app&lt;/code&gt;&amp;#x4E0B;&amp;#x7684;&lt;code&gt;build.gradle&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;apply plugin: &amp;apos;packer&amp;apos;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;signingConfigs {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        release {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            //&amp;#x7701;&amp;#x7565;&amp;#x76F8;&amp;#x5173;&amp;#x914D;&amp;#x7F6E;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            ....&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            //&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x7684;gradle&amp;#x7248;&amp;#x672C;&amp;#x8D85;&amp;#x8FC7;2.14.1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            //gradle plugin&amp;#x7248;&amp;#x672C;&amp;#x8D85;&amp;#x8FC7;2.2.0 &amp;#x5C31;&amp;#x8981;&amp;#x8BBE;&amp;#x7F6E;&amp;#x8BE5;&amp;#x9879;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            //&amp;#x4E3A;&amp;#x4E86;&amp;#x7981;&amp;#x7528;&amp;#x9ED8;&amp;#x8BA4;&amp;#x7684;v2&amp;#x7248;&amp;#x7B7E;&amp;#x540D;&amp;#x6A21;&amp;#x5F0F;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            v2SigningEnabled false&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;dependencies {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    compile &amp;apos;com.mcxiaoke.gradle:packer-helper:1.0.8&amp;apos;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;packer {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // &amp;#x6307;&amp;#x5B9A;&amp;#x6E20;&amp;#x9053;&amp;#x6253;&amp;#x5305;&amp;#x8F93;&amp;#x51FA;&amp;#x76EE;&amp;#x5F55;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         archiveOutput = file(new File(project.rootProject.buildDir.path, &amp;quot;cyzs_apks&amp;quot;))&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // &amp;#x6307;&amp;#x5B9A;&amp;#x6E20;&amp;#x9053;&amp;#x6253;&amp;#x5305;&amp;#x8F93;&amp;#x51FA;&amp;#x6587;&amp;#x4EF6;&amp;#x540D;&amp;#x683C;&amp;#x5F0F;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // &amp;#x9ED8;&amp;#x8BA4;&amp;#x662F; `${appPkg}-${flavorName}-${buildType}-v${versionName}-${versionCode}`&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         archiveNameFormat = &amp;apos;cyzs.${versionName}.${flavorName}&amp;apos;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // &amp;#x662F;&amp;#x5426;&amp;#x68C0;&amp;#x67E5;Gradle&amp;#x914D;&amp;#x7F6E;&amp;#x4E2D;&amp;#x7684;signingConfig&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4E0D;&amp;#x68C0;&amp;#x67E5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // checkSigningConfig = false&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // &amp;#x662F;&amp;#x5426;&amp;#x68C0;&amp;#x67E5;Gradle&amp;#x914D;&amp;#x7F6E;&amp;#x4E2D;&amp;#x7684;zipAlignEnabled&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4E0D;&amp;#x68C0;&amp;#x67E5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // checkZipAlign = false&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x662F;&amp;#x5173;&amp;#x4E8E;&lt;code&gt;gradle&lt;/code&gt;&amp;#x65B9;&amp;#x9762;&amp;#x7684;&amp;#xFF0C;&amp;#x65E2;&amp;#x7136;&amp;#x73B0;&amp;#x5728;&amp;#x4E0D;&amp;#x5728;&lt;code&gt;AndroidManifes.xml&lt;/code&gt;&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&amp;#x8BBE;&amp;#x7F6E;&amp;#x6E20;&amp;#x9053;&amp;#xFF0C;&amp;#x5C31;&amp;#x8981;&amp;#x53E6;&amp;#x5BFB;&amp;#x5B83;&amp;#x6CD5;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x5728;&amp;#x9879;&amp;#x76EE;&amp;#x7684;&amp;#x6839;&amp;#x76EE;&amp;#x5F55;&amp;#x521B;&amp;#x5EFA;&lt;code&gt;marktes.txt&lt;/code&gt;&amp;#x6587;&amp;#x672C;&amp;#xFF0C;&amp;#x6587;&amp;#x672C;&amp;#x4E2D;&amp;#x7684;&amp;#x5185;&amp;#x5BB9;&amp;#x5C31;&amp;#x662F;&amp;#x6240;&amp;#x9700;&amp;#x7684;&amp;#x6E20;&amp;#x9053;&amp;#xFF0C;&amp;#x683C;&amp;#x5F0F;&amp;#x5982;&amp;#x4E0B;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;web&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;360&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Tencent&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;baidu&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;91&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Anzhuo&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;anzhi&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Wandou&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;ppzhushou&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Xiaomi&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;zhihuiyun&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;oppo&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;vivo&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x65E2;&amp;#x7136;&amp;#x73B0;&amp;#x5728;&amp;#x89E3;&amp;#x51B3;&amp;#x4E86;&amp;#x6E20;&amp;#x9053;&amp;#x7684;&amp;#x5B9A;&amp;#x4E49;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x4E0B;&amp;#x4E00;&amp;#x6B65;&amp;#x5C31;&amp;#x662F;&amp;#x5982;&amp;#x4F55;&amp;#x5728;&amp;#x9879;&amp;#x76EE;&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&amp;#x8BFB;&amp;#x53D6;&amp;#x8BBE;&amp;#x7F6E;&amp;#x7684;&amp;#x6E20;&amp;#x9053;&amp;#x4E86;&amp;#xFF0C;&amp;#x524D;&amp;#x9762;&amp;#x6211;&amp;#x4EEC;&amp;#x5DF2;&amp;#x7ECF;&amp;#x7EE7;&amp;#x627F;&amp;#x4E86;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x5E93;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8BFB;&amp;#x53D6;&amp;#x4E5F;&amp;#x975E;&amp;#x5E38;&amp;#x7B80;&amp;#x5355;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;channel = PackerNg.getMarket(context);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x6837;&amp;#x5C31;&amp;#x62FF;&amp;#x5230;&amp;#x4E86;&amp;#x6E20;&amp;#x9053;&amp;#x540D;&amp;#xFF0C;&amp;#x540E;&amp;#x7EED;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x8FDB;&amp;#x884C;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#x4E86;&amp;#x3002;&amp;#x6839;&amp;#x636E;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;&amp;#x9700;&amp;#x6C42;&amp;#x6765;&amp;#xFF0C;&amp;#x4E00;&amp;#x822C;&amp;#x90FD;&amp;#x662F;&amp;#x5C06;&amp;#x6E20;&amp;#x9053;&amp;#x4E0A;&amp;#x4F20;&amp;#x5230;&amp;#x53CB;&amp;#x76DF;&amp;#x4E0E;&amp;#x670D;&amp;#x52A1;&amp;#x5668;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x5269;&amp;#x4E0B;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&amp;#x6267;&amp;#x884C;&amp;#x6253;&amp;#x5305;&amp;#x4E86;&amp;#xFF0C;&amp;#x5728;&amp;#x547D;&amp;#x4EE4;&amp;#x884C;&amp;#x6267;&amp;#x884C;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;./gradlew -Pmarket=markets.txt clean apkRelease&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;-Pmarket&lt;/code&gt;&amp;#x662F;&amp;#x4E3A;&amp;#x4E86;&amp;#x6307;&amp;#x5B9A;&amp;#x6E20;&amp;#x9053;&amp;#x5B58;&amp;#x653E;&amp;#x7684;&amp;#x8DEF;&amp;#x5F84;&amp;#xFF0C;&amp;#x6839;&amp;#x76EE;&amp;#x5F55;&amp;#x4E2D;&amp;#x76F4;&amp;#x63A5;&amp;#x4E3A;&lt;code&gt;markets.txt&lt;/code&gt;&amp;#xFF0C;&lt;code&gt;clean&lt;/code&gt;&amp;#x662F;&amp;#x4E3A;&amp;#x4E86;&amp;#x6E05;&amp;#x9664;&amp;#x539F;&amp;#x6765;&amp;#x8F93;&amp;#x51FA;&amp;#x76EE;&amp;#x5F55;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;apk&lt;/code&gt;&amp;#xFF0C;&lt;code&gt;apk[buildType]&lt;/code&gt;&amp;#x662F;&amp;#x6807;&amp;#x660E;&amp;#x6253;&amp;#x4EC0;&amp;#x4E48;&amp;#x5305;&amp;#x3002;&amp;#x8FD9;&amp;#x91CC;&amp;#x662F;&lt;code&gt;release&lt;/code&gt;&amp;#x3002;&amp;#x8FD8;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x7B80;&amp;#x6D01;&amp;#x7684;&amp;#x65B9;&amp;#x5F0F;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x7701;&amp;#x7565;&lt;code&gt;-Pmarket=markets.txt&lt;/code&gt;&amp;#x3002;&amp;#x5982;&amp;#x6B64;&amp;#x9700;&amp;#x8981;&amp;#x5728;&lt;code&gt;gradle.properites&lt;/code&gt;&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&amp;#x914D;&amp;#x7F6E;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;market=markets.txt&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x518D;&amp;#x6267;&amp;#x884C;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;./gradlew clean apkRelease&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x597D;&amp;#x4E86;&amp;#xFF0C;&amp;#x5927;&amp;#x529F;&amp;#x544A;&amp;#x6210;&amp;#xFF0C;&amp;#x518D;&amp;#x7B49;&lt;code&gt;3~4&lt;/code&gt;&amp;#x5206;&amp;#x949F;&amp;#x5C31;&amp;#x5B8C;&amp;#x7F8E;&amp;#x6536;&amp;#x5DE5;&amp;#x4E86;&amp;#x3002;&amp;#x6700;&amp;#x540E;&amp;#x6253;&amp;#x597D;&amp;#x7684;&lt;code&gt;apk&lt;/code&gt;&amp;#x4F1A;&amp;#x5728;&amp;#x4E0A;&amp;#x9762;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x8DEF;&amp;#x5F84;&amp;#x4E2D;,&amp;#x4F8B;&amp;#x5982;&amp;#x5BF9;&amp;#x4E8E;&amp;#x4E0A;&amp;#x9762;&amp;#x6240;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x8DEF;&amp;#x5F84;&amp;#xFF1A;&lt;code&gt;&amp;#x9879;&amp;#x76EE;&amp;#x6839;&amp;#x76EE;&amp;#x5F55;/build/cyzs_apks&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2017/01/02/Andorid&amp;#x591A;&amp;#x6E20;&amp;#x9053;&amp;#x6253;&amp;#x5305;/1.png&quot; alt=&quot;apks&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x539F;&amp;#x7406;&quot;&gt;&lt;a href=&quot;#&amp;#x539F;&amp;#x7406;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x539F;&amp;#x7406;&quot;&gt;&lt;/a&gt;&amp;#x539F;&amp;#x7406;&lt;/h2&gt;&lt;p&gt;&lt;code&gt;Android&lt;/code&gt;&amp;#x5E94;&amp;#x7528;&amp;#x7684;&lt;code&gt;APK&lt;/code&gt;&amp;#x90FD;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;zip&lt;/code&gt;&amp;#x6587;&amp;#x4EF6;&amp;#xFF0C;&amp;#x800C;&lt;a href=&quot;https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;zip&amp;#x6587;&amp;#x4EF6;&amp;#x89C4;&amp;#x5B9A;&lt;/a&gt;&amp;#x5728;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&amp;#x6587;&amp;#x4EF6;&amp;#x672B;&amp;#x5C3E;&amp;#x90FD;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x53EB;&lt;a href=&quot;https://users.cs.jmu.edu/buchhofp/forensics/formats/pkzip.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Central Directory Record&lt;/a&gt;&amp;#x7684;&amp;#x90E8;&amp;#x5206;&amp;#xFF0C;&amp;#x5B83;&amp;#x5305;&amp;#x542B;&amp;#x4E00;&amp;#x4E9B;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x5B83;&amp;#x7684;&amp;#x672B;&amp;#x5C3E;&amp;#x662F;&lt;code&gt;apk&lt;/code&gt;&amp;#x7684;&amp;#x6CE8;&amp;#x91CA;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x53EF;&amp;#x4EE5;&amp;#x501F;&amp;#x52A9;&amp;#x8FD9;&amp;#x4E00;&amp;#x70B9;&amp;#x4FEE;&amp;#x6539;&amp;#x8FD9;&amp;#x4E00;&amp;#x90E8;&amp;#x5206;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x5411;&amp;#x5176;&amp;#x4E2D;&amp;#x52A0;&amp;#x5165;&amp;#x6211;&amp;#x4EEC;&amp;#x6240;&amp;#x9700;&amp;#x7684;&amp;#x6E20;&amp;#x9053;&amp;#x540D;&amp;#xFF0C;&amp;#x4F46;&amp;#x8FD9;&amp;#x5374;&amp;#x4E0D;&amp;#x7834;&amp;#x574F;&lt;code&gt;apk&lt;/code&gt;&amp;#x6587;&amp;#x4EF6;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6839;&amp;#x672C;&amp;#x8981;&amp;#x89E3;&amp;#x51B3;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&amp;#x5728;&amp;#x9879;&amp;#x76EE;&amp;#x4E2D;&amp;#x5BF9;&amp;#x8FD9;&amp;#x4E9B;&amp;#x6570;&amp;#x636E;&amp;#x8FDB;&amp;#x884C;&amp;#x8BFB;&amp;#x4E0E;&amp;#x5199;&amp;#x3002;&amp;#x8FD9;&amp;#x5C31;&amp;#x662F;&amp;#x6700;&amp;#x7EC8;&amp;#x7684;&amp;#x89E3;&amp;#x51B3;&amp;#x601D;&amp;#x8DEF;&amp;#x3002;    &lt;/p&gt;
&lt;p&gt;&amp;#x5F53;&amp;#x7136;&amp;#x8FD8;&amp;#x6709;&amp;#x4E0D;&amp;#x501F;&amp;#x52A9;&lt;code&gt;gradle&lt;/code&gt;&amp;#x7684;&amp;#xFF0C;&amp;#x76F4;&amp;#x63A5;&amp;#x4F7F;&amp;#x7528;&amp;#x547D;&amp;#x4EE4;&amp;#x884C;&amp;#x6253;&amp;#x5305;&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x6709;&lt;code&gt;java&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;python&lt;/code&gt;&amp;#x811A;&amp;#x672C;&amp;#x3002;&amp;#x4ECA;&amp;#x5929;&amp;#x65F6;&amp;#x95F4;&amp;#x6709;&amp;#x70B9;&amp;#x665A;&amp;#x5C31;&amp;#x4E0D;&amp;#x591A;&amp;#x8BF4;&amp;#x4E86;&amp;#xFF0C;&amp;#x5982;&amp;#x9700;&amp;#x4E86;&amp;#x89E3;&amp;#x7684;&amp;#x53EF;&amp;#x4EE5;&amp;#x540E;&amp;#x7EED;&amp;#x518D;&amp;#x5355;&amp;#x72EC;&amp;#x8BA8;&amp;#x8BBA;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&lt;code&gt;2017&lt;/code&gt;&amp;#x7B2C;&amp;#x4E00;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x5B8C;&amp;#x7F8E;&amp;#x6536;&amp;#x5DE5;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h1&gt;&lt;p&gt;&lt;code&gt;2016&lt;/co
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="打包" scheme="https://idisfkj.github.io/tags/%E6%89%93%E5%8C%85/"/>
    
  </entry>
  
  <entry>
    <title>使用Retrofit原生的最佳实践</title>
    <link href="https://idisfkj.github.io/2016/11/18/%E4%BD%BF%E7%94%A8Retrofit%E5%8E%9F%E7%94%9F%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/"/>
    <id>https://idisfkj.github.io/2016/11/18/使用Retrofit原生的最佳实践/</id>
    <published>2016-11-18T08:46:07.000Z</published>
    <updated>2016-11-18T15:00:22.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h1&gt;&lt;p&gt;&amp;#x524D;&amp;#x9762;&amp;#x8BF4;&amp;#x5230;&amp;#x4E86;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x7684;&amp;#x4E00;&amp;#x4E9B;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x5165;&amp;#x95E8;&amp;#x4F7F;&amp;#x7528;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x8FD8;&amp;#x6CA1;&amp;#x5165;&amp;#x95E8;&amp;#x7684;&amp;#x63A8;&amp;#x8350;&amp;#x5148;&amp;#x9605;&amp;#x8BFB;&amp;#x8FD9;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&lt;a href=&quot;https://idisfkj.github.io/2016/11/15/%E5%B8%A6%E4%BD%A0%E8%B5%B0%E8%BF%9BRetrofit%E7%9A%84%E6%96%B0%E4%B8%96%E7%95%8C/#Headers-And-Header&quot;&gt;&amp;#x5E26;&amp;#x4F60;&amp;#x8D70;&amp;#x8FDB;Retrofit&amp;#x7684;&amp;#x65B0;&amp;#x4E16;&amp;#x754C;&lt;/a&gt;&amp;#xFF0C;&amp;#x4ECA;&amp;#x5929;&amp;#x5C06;&amp;#x76F4;&amp;#x63A5;&amp;#x4EE5;&amp;#x5B9E;&amp;#x8DF5;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x4ECB;&amp;#x7ECD;&lt;code&gt;Retrofit&lt;/code&gt;&lt;strong&gt;&amp;#x539F;&amp;#x751F;&lt;/strong&gt;&amp;#x7684;&amp;#x5404;&amp;#x65B9;&amp;#x9762;&amp;#x7684;&amp;#x5177;&amp;#x4F53;&amp;#x4F7F;&amp;#x7528;&amp;#xFF0C;&amp;#x6709;&amp;#x4E0D;&amp;#x8DB3;&amp;#x4E4B;&amp;#x5904;&amp;#x6B22;&amp;#x8FCE;&amp;#x6307;&amp;#x51FA;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x5C06;&amp;#x8981;&amp;#x4ECB;&amp;#x7ECD;&amp;#x7684;&amp;#x5185;&amp;#x5BB9;&amp;#x4E3B;&amp;#x8981;&amp;#x4E3A;&amp;#xFF1A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x7684;&amp;#x5C01;&amp;#x88C5;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Converter&lt;/code&gt;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;OkHttp&lt;/code&gt;&amp;#x7684;&lt;code&gt;Interceptor&lt;/code&gt;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;url&lt;/code&gt;&amp;#x7684;&amp;#x52A8;&amp;#x6001;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E0E;&amp;#x8FD0;&amp;#x884C;&amp;#x65F6;&lt;code&gt;url&lt;/code&gt;&amp;#x7684;&amp;#x8BBE;&amp;#x7F6E;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;request&lt;/code&gt;&amp;#x7684;&amp;#x91CD;&amp;#x590D;&amp;#x4F7F;&amp;#x7528;&amp;#x4E0E;&amp;#x5206;&amp;#x6790;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x4E0A;&amp;#x4F20;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x4E0B;&amp;#x8F7D;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;Retrofit&amp;#x7684;&amp;#x5C01;&amp;#x88C5;&quot;&gt;&lt;a href=&quot;#Retrofit&amp;#x7684;&amp;#x5C01;&amp;#x88C5;&quot; class=&quot;headerlink&quot; title=&quot;Retrofit&amp;#x7684;&amp;#x5C01;&amp;#x88C5;&quot;&gt;&lt;/a&gt;Retrofit&amp;#x7684;&amp;#x5C01;&amp;#x88C5;&lt;/h2&gt;&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x7ED9;&amp;#x4E00;&amp;#x4E2A;&amp;#x5E38;&amp;#x89C4;&amp;#x7684;&amp;#x5199;&amp;#x6CD5;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public interface GithubService {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @GET(&amp;quot;/repos/{owner}/{repo}/contributors&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Call&amp;lt;List&amp;lt;Contributors&amp;gt;&amp;gt; contributors(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            @Path(&amp;quot;owner&amp;quot;) String owner,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            @Path(&amp;quot;repo&amp;quot;) String repo);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Retrofit retrofit = new Retrofit.Builder()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                .baseUrl(&amp;quot;https://api.github.com&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                .addConverterFactory(GsonConverterFactory.create())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                .build();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        GithubService service = retrofit.create(GithubService.class);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Call&amp;lt;List&amp;lt;Contributors&amp;gt;&amp;gt; call = service.contributors(&amp;quot;square&amp;quot;, &amp;quot;retrofit&amp;quot;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;&amp;#x8BF7;&amp;#x6C42;&amp;#x4E00;&amp;#x822C;&amp;#x90FD;&amp;#x5F88;&amp;#x591A;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x6211;&amp;#x4EEC;&amp;#x6BCF;&amp;#x6B21;&amp;#x90FD;&amp;#x6362;&amp;#x63A5;&amp;#x53E3;&amp;#x90FD;&amp;#x8981;&amp;#x91CD;&amp;#x590D;&amp;#x5199;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#xFF0C;&amp;#x4ECE;&amp;#x800C;&amp;#x4EA7;&amp;#x751F;&amp;#x4E86;&amp;#x7D2F;&amp;#x8D58;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E00;&amp;#x4E2A;&amp;#x901A;&amp;#x7528;&amp;#x7684;&lt;code&gt;ServiceGenerator&lt;/code&gt;,&amp;#x5411;&amp;#x5176;&amp;#x4E2D;&amp;#x4F20;&amp;#x5165;&amp;#x9700;&amp;#x8981;&amp;#x8C03;&amp;#x7528;&amp;#x7684;&amp;#x63A5;&amp;#x53E3;&amp;#x7C7B;&amp;#xFF0C;&amp;#x8BA9;&amp;#x5176;&amp;#x8FD4;&amp;#x56DE;&amp;#x6211;&amp;#x4EEC;&amp;#x6240;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x63A5;&amp;#x53E3;&amp;#x5B9E;&amp;#x4F8B;&amp;#x5373;&amp;#x53EF;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public class ServiceGenerator {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public static String API_BASE_URL = &amp;quot;https://api.github.com&amp;quot;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private ServiceGenerator() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private static OkHttpClient.Builder okHttpClient = new OkHttpClient.Builder();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private static Retrofit.Builder builder = new Retrofit.Builder()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            .baseUrl(API_BASE_URL)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            .addConverterFactory(ScalarsConverterFactory.create())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            .addConverterFactory(GsonConverterFactory.create());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public static &amp;lt;S&amp;gt; S createService(Class&amp;lt;S&amp;gt; serviceClass) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Retrofit retrofit = builder.client(okHttpClient.build()).build();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return retrofit.create(serivceClass)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x4F7F;&amp;#x7528;&amp;#x5C01;&amp;#x88C5;&amp;#x7684;&lt;code&gt;ServiceGenerator&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x8C03;&amp;#x7528;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;GithubService service = ServiceGenerator.createService(GithubService.class);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Call&amp;lt;List&amp;lt;Contributors&amp;gt;&amp;gt; call = service.contributors(&amp;quot;square&amp;quot;, &amp;quot;retrofit&amp;quot;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x662F;&amp;#x4E0D;&amp;#x662F;&amp;#x7B80;&amp;#x5355;&amp;#x5F88;&amp;#x591A;&amp;#x4E86;&amp;#x5462;&amp;#xFF0C;&amp;#x4E24;&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&amp;#x5C31;&amp;#x641E;&amp;#x5B9A;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;Converter&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&quot;&gt;&lt;a href=&quot;#Converter&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&quot; class=&quot;headerlink&quot; title=&quot;Converter&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&quot;&gt;&lt;/a&gt;Converter&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&lt;/h2&gt;&lt;p&gt;&lt;code&gt;converter&lt;/code&gt;&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#x662F;&amp;#x5BF9;&amp;#x6570;&amp;#x636E;&amp;#x8FDB;&amp;#x884C;&amp;#x8F6C;&amp;#x5316;&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x7C7B;&amp;#x578B;&amp;#x662F;&lt;code&gt;OkHttp&lt;/code&gt;&amp;#x7684;&lt;code&gt;RequestBody&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;ResponseBody&lt;/code&gt;,&amp;#x4F46;&amp;#x662F;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;&amp;#x5E94;&amp;#x7528;&amp;#x4E2D;&amp;#x4F1A;&amp;#x9047;&amp;#x5230;&amp;#x8BB8;&amp;#x591A;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&lt;code&gt;JSON&lt;/code&gt;&amp;#x3001;&lt;code&gt;XML&lt;/code&gt;&amp;#x8FD9;&amp;#x65F6;&amp;#x4EEC;&amp;#x5C31;&amp;#x8981;&amp;#x4F7F;&amp;#x7528;&amp;#x5230;&lt;code&gt;converter&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x8F6C;&amp;#x5316;&amp;#x6210;&amp;#x6211;&amp;#x4EEC;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x7C7B;&amp;#x578B;&amp;#xFF0C;&amp;#x503C;&amp;#x5F97;&amp;#x5E86;&amp;#x5E78;&amp;#x7684;&amp;#x662F;&amp;#x5B98;&amp;#x65B9;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5E2E;&amp;#x6211;&amp;#x4EEC;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&amp;#x5927;&amp;#x90E8;&amp;#x5206;&amp;#x5E38;&amp;#x7528;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x8F6C;&amp;#x5316;&amp;#x3002;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Gson: com.squareup.retrofit2:converter-gson&lt;/li&gt;
&lt;li&gt;Jackson: com.squareup.retrofit2:converter-jackson&lt;/li&gt;
&lt;li&gt;Moshi: com.squareup.retrofit2:converter-moshi&lt;/li&gt;
&lt;li&gt;Protobuf: com.squareup.retrofit2:converter-protobuf&lt;/li&gt;
&lt;li&gt;Wire: com.squareup.retrofit2:converter-wire&lt;/li&gt;
&lt;li&gt;Simple XML: com.squareup.retrofit2:converter-simplexml&lt;/li&gt;
&lt;li&gt;Scalars (primitives, boxed, and String): com.squareup.retrofit2:converter-scalars&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x53EA;&amp;#x9700;&amp;#x4E24;&amp;#x6B65;&amp;#x5C31;&amp;#x80FD;&amp;#x5FEB;&amp;#x901F;&amp;#x914D;&amp;#x7F6E;&amp;#x4F7F;&amp;#x7528;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&lt;code&gt;Gson&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;1.&amp;#x5728;&lt;code&gt;Gradle&lt;/code&gt;&amp;#x4E2D;&amp;#x914D;&amp;#x7F6E;&amp;#x4E0E;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x7684;&amp;#x7248;&amp;#x672C;&amp;#x53F7;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;compile &amp;apos;com.squareup.retrofit2:converter-gson:2.1.0&amp;apos;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;2.&amp;#x5728;&lt;code&gt;Retrofit.Builder&lt;/code&gt;&amp;#x4E2D;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;.addConverterFactory()&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x914D;&amp;#x7F6E;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Retrofit.Builder builder = new Retrofit.Builder()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            .baseUrl(API_DUOSHUO_URL)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            .addConverterFactory(GsonConverterFactory.create());&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x7528;&amp;#x591A;&amp;#x79CD;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x7C7B;&amp;#x578B;&amp;#x6570;&amp;#x636E;&amp;#x5462;&amp;#xFF1F;&amp;#x4F8B;&amp;#x5982;&lt;code&gt;Gson&lt;/code&gt;&amp;#x3001;&lt;code&gt;String&lt;/code&gt;&amp;#xFF0C;&amp;#x653E;&amp;#x5FC3;&amp;#x4E5F;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;.addConverterFactory()&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x6DFB;&amp;#x52A0;.&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Retrofit.Builder builder = new Retrofit.Builder()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            .baseUrl(API_DUOSHUO_URL)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            .addConverterFactory(ScalarsConverterFactory.create())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            .addConverterFactory(GsonConverterFactory.create());&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x81F3;&amp;#x4E8E;&amp;#x5B83;&amp;#x4EEC;&amp;#x4E4B;&amp;#x95F4;&amp;#x7684;&amp;#x51B2;&amp;#x7A81;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6848;&amp;#xFF0C;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x4F1A;&amp;#x6309;&amp;#x7167;&amp;#x6DFB;&amp;#x52A0;&amp;#x7684;&amp;#x987A;&amp;#x5E8F;&amp;#x8FDB;&amp;#x884C;&amp;#x5148;&amp;#x540E;&amp;#x7684;&amp;#x5339;&amp;#x914D;&amp;#xFF0C;&amp;#x76F4;&amp;#x5230;&amp;#x627E;&amp;#x5230;&amp;#x76F8;&amp;#x9002;&amp;#x5408;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x7C7B;&amp;#x578B;&amp;#x3002;&amp;#x4E00;&amp;#x822C;&amp;#x63A8;&amp;#x8350;&amp;#x5C06;&lt;code&gt;Gson&lt;/code&gt;&amp;#x653E;&amp;#x5230;&amp;#x6700;&amp;#x540E;&amp;#x9762;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;OkHttp&amp;#x7684;Interceptor&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&quot;&gt;&lt;a href=&quot;#OkHttp&amp;#x7684;Interceptor&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&quot; class=&quot;headerlink&quot; title=&quot;OkHttp&amp;#x7684;Interceptor&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&quot;&gt;&lt;/a&gt;OkHttp&amp;#x7684;Interceptor&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&lt;/h2&gt;&lt;p&gt;&amp;#x5047;&amp;#x8BBE;&amp;#x6709;&amp;#x8FD9;&amp;#x6837;&amp;#x4E00;&amp;#x4E2A;&amp;#x60C5;&amp;#x5F62;&amp;#xFF1A;&amp;#x6BCF;&amp;#x4E2A;&amp;#x8BF7;&amp;#x6C42;&amp;#x90FD;&amp;#x8981;&amp;#x6DFB;&amp;#x52A0;&lt;code&gt;Connection&lt;/code&gt;&amp;#x7684;&amp;#x8BF7;&amp;#x6C42;&amp;#x5934;&amp;#x90E8;&amp;#xFF0C;&amp;#x6839;&amp;#x636E;&amp;#x4E0A;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x7684;&amp;#x5B66;&amp;#x4E60;&amp;#xFF0C;&amp;#x4EE3;&amp;#x7801;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Headers(&amp;quot;Connection: keep-alive&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;@POST(&amp;quot;/login&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Call&amp;lt;String&amp;gt; loginService();&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x6837;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x4E3A;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&amp;#x8BF7;&amp;#x6C42;&amp;#x90FD;&amp;#x6DFB;&amp;#x52A0;&lt;code&gt;@Headers&lt;/code&gt;&amp;#x5B57;&amp;#x6BB5;&amp;#x6216;&amp;#x8005;&amp;#x5728;&amp;#x53C2;&amp;#x6570;&amp;#x4E2D;&amp;#x6DFB;&amp;#x52A0;&lt;code&gt;@Header&lt;/code&gt;&amp;#xFF0C;&amp;#x662F;&amp;#x4E0D;&amp;#x662F;&amp;#x6709;&amp;#x70B9;&amp;#x591A;&amp;#x4F59;&amp;#x4E0E;&amp;#x9EBB;&amp;#x70E6;&amp;#x5462;&amp;#x3002;&amp;#x56E0;&amp;#x4E3A;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x5904;&amp;#x7406;&amp;#x662F;&amp;#x4EA4;&amp;#x7ED9;&lt;code&gt;OkHttp&lt;/code&gt;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4E48;&amp;#x53EF;&amp;#x4EE5;&amp;#x5BF9;&lt;code&gt;OkHttp&lt;/code&gt;&amp;#x5C42;&amp;#x8FDB;&amp;#x884C;&amp;#x8BF7;&amp;#x6C42;&amp;#x4FE1;&amp;#x606F;&amp;#x7684;&amp;#x4FEE;&amp;#x6539;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x6211;&amp;#x4EEC;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;Interceptor&lt;/code&gt;&amp;#x5C31;&amp;#x80FD;&amp;#x5B8C;&amp;#x7F8E;&amp;#x7684;&amp;#x89E3;&amp;#x51B3;&amp;#x8FD9;&amp;#x4E2A;&amp;#x95EE;&amp;#x9898;,&amp;#x8C03;&amp;#x7528;&lt;code&gt;OkHttp&lt;/code&gt;&amp;#x7684;&lt;code&gt;.addInterceptor()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x8FD8;&amp;#x662F;&amp;#x5728;&lt;code&gt;ServiceGenerator&lt;/code&gt;&amp;#x4E2D;&amp;#x4FEE;&amp;#x6539;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static &amp;lt;S&amp;gt; S createService(Class&amp;lt;S&amp;gt; serviceClass) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;okHttpClient.addInterceptor(new Interceptor() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                public Response intercept(Chain chain) throws IOException {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    Request original = chain.request();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    Request.Builder builder = original.newBuilder()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            .addHeader(&amp;quot;Connection&amp;quot;, &amp;quot;keep-alive&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            .method(original.method(), original.body());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    Request request = builder.build();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    return chain.proceed(request);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            });&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Retrofit retrofit = builder.client(okHttpClient.build()).build();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;return retrofit.create(serivceClass);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;chain.request()&lt;/code&gt;&amp;#x83B7;&amp;#x53D6;&amp;#x539F;&amp;#x6765;&amp;#x7684;&lt;code&gt;request&lt;/code&gt;&amp;#xFF0C;&amp;#x518D;&amp;#x91CD;&amp;#x65B0;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;request.newBuilder()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x6784;&amp;#x9020;&amp;#x65B0;&amp;#x7684;&lt;code&gt;Request.Builder&lt;/code&gt;&amp;#xFF0C;&amp;#x8FD9;&amp;#x65F6;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;.addHeader&lt;/code&gt;&amp;#x6216;&amp;#x8005;&lt;code&gt;.Header&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x6DFB;&amp;#x52A0;&lt;code&gt;Header&lt;/code&gt;&amp;#x3002;&amp;#x6700;&amp;#x540E;&amp;#x518D;&amp;#x6784;&amp;#x9020;&amp;#x65B0;&amp;#x7684;&lt;code&gt;request&lt;/code&gt;&amp;#x8C03;&amp;#x7528;&lt;code&gt;chain.proceed(request)&lt;/code&gt;&amp;#x3002;&amp;#x8FD9;&amp;#x91CC;&amp;#x9700;&amp;#x8981;&amp;#x6CE8;&amp;#x610F;&amp;#x7684;&amp;#x662F;&lt;code&gt;.addHeader&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;.Header&lt;/code&gt;&amp;#x7684;&amp;#x533A;&amp;#x522B;&amp;#x3002;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;.addHeader&lt;/code&gt;&amp;#x5BF9;&amp;#x76F8;&amp;#x540C;&amp;#x7684;&lt;code&gt;name&lt;/code&gt;&amp;#xFF0C;&amp;#x4E0D;&amp;#x540C;&lt;code&gt;value&lt;/code&gt;&amp;#x4E0D;&amp;#x4F1A;&amp;#x8FDB;&amp;#x884C;&amp;#x8986;&amp;#x76D6;&amp;#xFF0C;&amp;#x8BF4;&amp;#x660E;&amp;#x5B83;&amp;#x53EF;&amp;#x4EE5;&amp;#x5B58;&amp;#x5728;&amp;#x591A;&amp;#x6761;&amp;#x76F8;&amp;#x540C;&lt;code&gt;name&lt;/code&gt;&amp;#x7684;&amp;#x8BF7;&amp;#x6C42;&amp;#x5934;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;.Header&lt;/code&gt;&amp;#x5BF9;&amp;#x76F8;&amp;#x540C;&lt;code&gt;name&lt;/code&gt;&amp;#x4F1A;&amp;#x8FDB;&amp;#x884C;&amp;#x8986;&amp;#x76D6;&amp;#xFF0C;&amp;#x8BF4;&amp;#x660E;&amp;#x5BF9;&amp;#x4E8E;&amp;#x76F8;&amp;#x540C;&lt;code&gt;name&lt;/code&gt;&amp;#x7684;&amp;#x8BF7;&amp;#x6C42;&amp;#x5934;&amp;#x53EA;&amp;#x80FD;&amp;#x5B58;&amp;#x5728;&amp;#x4E00;&amp;#x4E2A;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x65E2;&amp;#x7136;&lt;code&gt;Interceptor&lt;/code&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x5BF9;&lt;code&gt;header&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x7EDF;&amp;#x4E00;&amp;#x8BBE;&amp;#x7F6E;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x5927;&amp;#x80C6;&amp;#x731C;&amp;#x60F3;&amp;#x5BF9;&amp;#x4E8E;&amp;#x67E5;&amp;#x8BE2;&amp;#x5B57;&amp;#x6BB5;&amp;#x662F;&amp;#x5426;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x7EDF;&amp;#x4E00;&amp;#x8BBE;&amp;#x7F6E;&amp;#x5462;&amp;#xFF0C;&amp;#x7B54;&amp;#x6848;&amp;#x662F;&amp;#x80AF;&amp;#x5B9A;&amp;#x7684;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&lt;code&gt;apikey&lt;/code&gt;&amp;#x5B57;&amp;#x6BB5;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;okHttpClient.addInterceptor(new Interceptor() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                public Response intercept(Chain chain) throws IOException {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    Request original = chain.request();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    //&amp;#x83B7;&amp;#x53D6;url&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    HttpUrl originalUrl = original.url();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    Request.Builder builder = original.newBuilder()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            .addHeader(&amp;quot;Authorization&amp;quot;, authToken)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            .method(original.method(), original.body());                            &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    //&amp;#x4E3A;url&amp;#x6DFB;&amp;#x52A0;apikey&amp;#x5B57;&amp;#x6BB5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    HttpUrl url = originalUrl.newBuilder()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            .addQueryParameter(&amp;quot;apikey&amp;quot;, &amp;quot;isdhh324bdsa&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            .build();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    //&amp;#x5C06;&amp;#x4FEE;&amp;#x6539;&amp;#x7684;url&amp;#x6DFB;&amp;#x52A0;&amp;#x5230;&amp;#x65B0;&amp;#x7684;Request&amp;#x4E2D;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    Request request = builder&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            .url(url)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            .build();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    //&amp;#x6267;&amp;#x884C;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    return chain.proceed(request);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            });&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;url&amp;#x7684;&amp;#x52A8;&amp;#x6001;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E0E;&amp;#x8FD0;&amp;#x884C;&amp;#x65F6;url&amp;#x7684;&amp;#x8BBE;&amp;#x7F6E;&quot;&gt;&lt;a href=&quot;#url&amp;#x7684;&amp;#x52A8;&amp;#x6001;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E0E;&amp;#x8FD0;&amp;#x884C;&amp;#x65F6;url&amp;#x7684;&amp;#x8BBE;&amp;#x7F6E;&quot; class=&quot;headerlink&quot; title=&quot;url&amp;#x7684;&amp;#x52A8;&amp;#x6001;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E0E;&amp;#x8FD0;&amp;#x884C;&amp;#x65F6;url&amp;#x7684;&amp;#x8BBE;&amp;#x7F6E;&quot;&gt;&lt;/a&gt;url&amp;#x7684;&amp;#x52A8;&amp;#x6001;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E0E;&amp;#x8FD0;&amp;#x884C;&amp;#x65F6;url&amp;#x7684;&amp;#x8BBE;&amp;#x7F6E;&lt;/h2&gt;&lt;h3 id=&quot;url&amp;#x7684;&amp;#x52A8;&amp;#x6001;&amp;#x8BBE;&amp;#x7F6E;&quot;&gt;&lt;a href=&quot;#url&amp;#x7684;&amp;#x52A8;&amp;#x6001;&amp;#x8BBE;&amp;#x7F6E;&quot; class=&quot;headerlink&quot; title=&quot;url&amp;#x7684;&amp;#x52A8;&amp;#x6001;&amp;#x8BBE;&amp;#x7F6E;&quot;&gt;&lt;/a&gt;url&amp;#x7684;&amp;#x52A8;&amp;#x6001;&amp;#x8BBE;&amp;#x7F6E;&lt;/h3&gt;&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;&lt;code&gt;baseUrl&lt;/code&gt;&amp;#x4E3A;&lt;code&gt;https://github.com/api/v2&lt;/code&gt;&amp;#x800C;&amp;#x8BBE;&amp;#x7F6E;&amp;#x7684;&amp;#x63A5;&amp;#x53E3;&amp;#x7684;&amp;#x8BBE;&amp;#x7F6E;&amp;#x5982;&amp;#x4E0B;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public interface GithubService {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @GET(&amp;quot;repos&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Call&amp;lt;List&amp;lt;Contributors&amp;gt;&amp;gt; contributors();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&lt;code&gt;url&lt;/code&gt;&amp;#x4E3A;&lt;code&gt;https://github.com/api/v2/repos&lt;/code&gt;,&amp;#x5982;&amp;#x679C;&amp;#x6211;&amp;#x4EEC;&amp;#x73B0;&amp;#x5728;&amp;#x8981;&amp;#x8BF7;&amp;#x6C42;&lt;code&gt;v3&lt;/code&gt;&amp;#x7248;&amp;#x672C;&amp;#x7684;&lt;code&gt;repos&lt;/code&gt;&amp;#x5462;&amp;#xFF1F;&amp;#x4F60;&amp;#x4F1A;&amp;#x8BF4;&amp;#x5F88;&amp;#x7B80;&amp;#x5355;&amp;#x76F4;&amp;#x63A5;&amp;#x4FEE;&amp;#x6539;&lt;code&gt;baseUrl&lt;/code&gt;&amp;#x4E3A;&lt;code&gt;https://github.com/api/v3&lt;/code&gt;,&amp;#x4F46;&amp;#x5728;&amp;#x524D;&amp;#x9762;&amp;#x6211;&amp;#x4EEC;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5728;&lt;code&gt;ServiceGenerator&lt;/code&gt;&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&amp;#x4E86;&amp;#x5C01;&amp;#x88C5;&lt;code&gt;baseUrl&lt;/code&gt;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x4E0D;&amp;#x5E94;&amp;#x8BE5;&amp;#x53BB;&amp;#x4FEE;&amp;#x6539;&amp;#x5B83;&amp;#x3002;&amp;#x8FD9;&amp;#x4E2A;&amp;#x65F6;&amp;#x5019;&amp;#x5C31;&amp;#x8981;&amp;#x7528;&amp;#x5230;&lt;code&gt;/&lt;/code&gt;&amp;#xFF0C;&amp;#x5B83;&amp;#x80FD;&amp;#x5C06;&lt;code&gt;host&lt;/code&gt;&amp;#x540E;&amp;#x9762;&amp;#x7684;&amp;#x5168;&amp;#x90E8;&amp;#x5FFD;&amp;#x7565;&amp;#xFF0C;&amp;#x5373;&lt;code&gt;baseUrl&lt;/code&gt;&amp;#x76F4;&amp;#x63A5;&amp;#x6210;&amp;#x4E3A;&lt;code&gt;https://github.com&lt;/code&gt;&amp;#xFF0C;&amp;#x518D;&amp;#x5728;&amp;#x540E;&amp;#x9762;&amp;#x6DFB;&amp;#x52A0;&amp;#x8BBE;&amp;#x7F6E;&amp;#x7684;&lt;code&gt;endpoint url&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public interface GithubService {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @GET(&amp;quot;/api/v3/repos&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Call&amp;lt;List&amp;lt;Contributors&amp;gt;&amp;gt; contributors();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x65F6;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&lt;code&gt;url&lt;/code&gt;&amp;#x4E3A;&lt;code&gt;https://github.com/api/v3/repos&lt;/code&gt; ,&amp;#x6240;&amp;#x4EE5;&lt;strong&gt;&amp;#x8981;&amp;#x614E;&amp;#x91CD;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;/&lt;/code&gt;&lt;/strong&gt;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x8FD8;&amp;#x6709;&amp;#x4E00;&amp;#x79CD;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;//&lt;/code&gt;,&amp;#x5B83;&amp;#x7684;&amp;#x6548;&amp;#x679C;&amp;#x662F;&amp;#x5BF9;&lt;code&gt;scheme&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x4FDD;&amp;#x6301;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&lt;code&gt;baseUrl&lt;/code&gt;&amp;#x4E3A;&lt;code&gt;https://api.github.com&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public interface GithubService {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	//url&amp;#x4E3A;https://api.github.com/api/v3/repos&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	@GET(&amp;quot;/api/v3/repos&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	Call&amp;lt;List&amp;lt;Contributors&amp;gt;&amp;gt; contributors();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //url&amp;#x4E3A;https://api.github.com&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @GET(&amp;quot;//api.github.com&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Call&amp;lt;List&amp;lt;Contributors&amp;gt;&amp;gt; contributors();      &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;&amp;#x8FD0;&amp;#x884C;&amp;#x65F6;url&amp;#x7684;&amp;#x8BBE;&amp;#x7F6E;&quot;&gt;&lt;a href=&quot;#&amp;#x8FD0;&amp;#x884C;&amp;#x65F6;url&amp;#x7684;&amp;#x8BBE;&amp;#x7F6E;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x8FD0;&amp;#x884C;&amp;#x65F6;url&amp;#x7684;&amp;#x8BBE;&amp;#x7F6E;&quot;&gt;&lt;/a&gt;&amp;#x8FD0;&amp;#x884C;&amp;#x65F6;url&amp;#x7684;&amp;#x8BBE;&amp;#x7F6E;&lt;/h3&gt;&lt;p&gt;&amp;#x5728;&amp;#x5F00;&amp;#x53D1;&amp;#x4E2D;&amp;#x53EF;&amp;#x80FD;&amp;#x4F1A;&amp;#x9047;&amp;#x5230;&amp;#x8FD9;&amp;#x79CD;&amp;#x60C5;&amp;#x5F62;&amp;#xFF1A;&amp;#x524D;&amp;#x9762;&amp;#x8BF7;&amp;#x6C42;&amp;#x662F;&lt;code&gt;url&lt;/code&gt;&amp;#x4E3A;&lt;code&gt;https://github.com/api/repos&lt;/code&gt;&amp;#x4F46;&amp;#x540E;&amp;#x9762;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&lt;code&gt;host&lt;/code&gt;&amp;#x4E0D;&amp;#x540C;&amp;#x4F8B;&amp;#x5982;&amp;#x4E3A;&lt;code&gt;https://duoshuo.com/api/repos&lt;/code&gt;,&amp;#x4F46;&amp;#x4ED6;&amp;#x4EEC;&amp;#x8C03;&amp;#x7528;&amp;#x7684;&amp;#x90FD;&amp;#x662F;&amp;#x540C;&amp;#x4E00;&amp;#x4E2A;&amp;#x8BF7;&amp;#x6C42;&amp;#x63A5;&amp;#x53E3;&amp;#x56E0;&amp;#x4E3A;&amp;#x4ED6;&amp;#x4EEC;&amp;#x7684;&lt;code&gt;endpoint&lt;/code&gt;&amp;#x76F8;&amp;#x540C;&lt;code&gt;/api/repos&lt;/code&gt;&amp;#xFF0C;&amp;#x8FD9;&amp;#x65F6;&amp;#x6211;&amp;#x4EEC;&amp;#x53EA;&amp;#x80FD;&amp;#x6539;&amp;#x53D8;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&lt;code&gt;baseUrl&lt;/code&gt;&amp;#x3002;&amp;#x5BF9;&lt;code&gt;ServiceGenerator&lt;/code&gt;&amp;#x6DFB;&amp;#x52A0;&amp;#x65B0;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private static OkHttpClient.Builder okHttpClient = new OkHttpClient.Builder();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private static Retrofit.Builder builder = new Retrofit.Builder()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            .baseUrl(API_DUOSHUO_URL)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            .addConverterFactory(ScalarsConverterFactory.create())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            .addConverterFactory(GsonConverterFactory.create());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	//&amp;#x6784;&amp;#x9020;&amp;#x65B0;&amp;#x7684;builder &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public static void changeApiBaseUrl(String newApiBaseUrl) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        apiBaseUrl = newApiBaseUrl;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        builder = new Retrofit.Builder()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                .baseUrl(apiBaseUrl)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                .addConverterFactory(ScalarsConverterFactory.create())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                .addConverterFactory(GsonConverterFactory.create());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5F00;&amp;#x59CB;&amp;#x4F7F;&amp;#x7528;&amp;#x65F6;&amp;#x8C03;&amp;#x7528;&lt;code&gt;changeApiBaseUrl&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x5373;&amp;#x53EF;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;//&amp;#x6539;&amp;#x53D8;baseUrl&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;ServiceGenerator.changeApiBaseUrl(&amp;quot;https://duoshuo.com&amp;quot;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD8;&amp;#x6709;&amp;#x4E00;&amp;#x79CD;&amp;#x60C5;&amp;#x5F62;&amp;#xFF1A;&amp;#x5C31;&amp;#x662F;&amp;#x5B8C;&amp;#x5168;&amp;#x4E0D;&amp;#x76F8;&amp;#x540C;&amp;#x7684;&lt;code&gt;url&lt;/code&gt;&amp;#x4F8B;&amp;#x5982;&lt;code&gt;https://example.com/ioe/we&lt;/code&gt;,&amp;#x8FD9;&amp;#x65F6;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&amp;#x53E6;&amp;#x4E00;&amp;#x4E2A;&amp;#x6CE8;&amp;#x91CA;&lt;code&gt;@Url&lt;/code&gt;,&amp;#x8BE5;&amp;#x6CE8;&amp;#x91CA;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x53C2;&amp;#x6570;&amp;#x5B57;&amp;#x6BB5;&amp;#xFF0C;&amp;#x5BF9;&amp;#x8BF7;&amp;#x6C42;&amp;#x65F6;&amp;#x7684;&lt;code&gt;url&lt;/code&gt;&amp;#x52A8;&amp;#x6001;&amp;#x8BBE;&amp;#x7F6E;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@GET&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Call&amp;lt;List&amp;lt;Contributors&amp;gt;&amp;gt; contributors(@Url String  url);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8C03;&amp;#x7528;&amp;#x65F6;&amp;#x76F4;&amp;#x63A5;&amp;#x4F20;&amp;#x9012;&lt;code&gt;url&lt;/code&gt;&amp;#x53C2;&amp;#x6570;&amp;#x5373;&amp;#x53EF;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;GithubService service = ServiceGenerator.createService(GithubService.class);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Call&amp;lt;List&amp;lt;Contributors&amp;gt;&amp;gt; call = service.contributors(&amp;quot;https://example.com/ioe/we&amp;quot;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;request&amp;#x7684;&amp;#x91CD;&amp;#x590D;&amp;#x4F7F;&amp;#x7528;&amp;#x4E0E;&amp;#x5206;&amp;#x6790;&quot;&gt;&lt;a href=&quot;#request&amp;#x7684;&amp;#x91CD;&amp;#x590D;&amp;#x4F7F;&amp;#x7528;&amp;#x4E0E;&amp;#x5206;&amp;#x6790;&quot; class=&quot;headerlink&quot; title=&quot;request&amp;#x7684;&amp;#x91CD;&amp;#x590D;&amp;#x4F7F;&amp;#x7528;&amp;#x4E0E;&amp;#x5206;&amp;#x6790;&quot;&gt;&lt;/a&gt;request&amp;#x7684;&amp;#x91CD;&amp;#x590D;&amp;#x4F7F;&amp;#x7528;&amp;#x4E0E;&amp;#x5206;&amp;#x6790;&lt;/h2&gt;&lt;p&gt;&amp;#x5BF9;&amp;#x540C;&amp;#x4E00;&amp;#x4E2A;&amp;#x8BF7;&amp;#x6C42;&amp;#x8FDB;&amp;#x884C;&amp;#x591A;&amp;#x6B21;&amp;#x8BF7;&amp;#x6C42;&amp;#x4E0D;&amp;#x80FD;&amp;#x91CD;&amp;#x590D;&amp;#x518D;&amp;#x8C03;&amp;#x7528;&amp;#x5B83;&amp;#x7684;&lt;code&gt;Call&lt;/code&gt;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x8C03;&amp;#x7528;&amp;#x5B83;&amp;#x7684;&lt;code&gt;clone&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x590D;&amp;#x5236;&amp;#x4E00;&amp;#x4E2A;&amp;#x65B0;&amp;#x7684;&lt;code&gt;Call&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;GithubService service = ServiceGenerator.createService(GithubService.class);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Call&amp;lt;List&amp;lt;Contributors&amp;gt;&amp;gt; call = service.contributors(&amp;quot;square&amp;quot;, &amp;quot;retrofit&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Callback&amp;lt;ResponseBody&amp;gt; callBack = new Callback&amp;lt;ResponseBody&amp;gt;() {...};&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;call.enqueue(callBack);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//&amp;#x518D;&amp;#x4E00;&amp;#x6B21;&amp;#x8BF7;&amp;#x6C42; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Call&amp;lt;ResponseBody&amp;gt; newCall = originalCall.clone();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;newCall.enqueue(callBack);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x540C;&amp;#x65F6;&amp;#x53EF;&amp;#x4EE5;&amp;#x8C03;&amp;#x7528;&lt;code&gt;Call.request&lt;/code&gt;&amp;#x83B7;&amp;#x53D6;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&lt;code&gt;request&lt;/code&gt;&amp;#xFF0C;&amp;#x4E0D;&amp;#x7BA1;&amp;#x5B83;&amp;#x662F;&amp;#x5426;&amp;#x6267;&amp;#x884C;&amp;#x5B8C;&amp;#x4E86;&amp;#x8FD8;&amp;#x662F;&amp;#x672A;&amp;#x6267;&amp;#x884C;&amp;#xFF0C;&amp;#x8FD8;&amp;#x662F;&amp;#x5728;&amp;#x6267;&amp;#x884C;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;&lt;code&gt;request.cacel()&lt;/code&gt;&amp;#x53D6;&amp;#x6D88;&amp;#x4E86;&amp;#xFF0C;&amp;#x90FD;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x83B7;&amp;#x53D6;&amp;#x7684;&lt;code&gt;request&lt;/code&gt;&amp;#x67E5;&amp;#x8BE2;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x4FE1;&amp;#x606F;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private void checkRequestContent(Request request) {  &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Headers requestHeaders = request.headers();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    RequestBody requestBody = request.body();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    HttpUrl requestUrl = request.url();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;Retrofit&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x4E0A;&amp;#x4F20;&quot;&gt;&lt;a href=&quot;#Retrofit&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x4E0A;&amp;#x4F20;&quot; class=&quot;headerlink&quot; title=&quot;Retrofit&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x4E0A;&amp;#x4F20;&quot;&gt;&lt;/a&gt;Retrofit&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x4E0A;&amp;#x4F20;&lt;/h2&gt;&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x6587;&amp;#x4EF6;&amp;#x7684;&amp;#x4E0A;&amp;#x4F20;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;@Multipart&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x6807;&amp;#x6CE8;&amp;#x6765;&amp;#x5B9A;&amp;#x4E49;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x4E0A;&amp;#x4F20;&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x4EE5;&amp;#x591A;&amp;#x8BF4;&amp;#x7684;&amp;#x5934;&amp;#x50CF;&amp;#x4E0A;&amp;#x4F20;&amp;#x4E3A;&amp;#x4F8B;&amp;#xFF0C;&amp;#x9996;&amp;#x5148;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x4E0A;&amp;#x4F20;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x683C;&amp;#x5F0F;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&amp;#x6293;&amp;#x5305;&amp;#x5206;&amp;#x6790;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/11/18/&amp;#x4F7F;&amp;#x7528;Retrofit&amp;#x539F;&amp;#x751F;&amp;#x7684;&amp;#x6700;&amp;#x4F73;&amp;#x5B9E;&amp;#x8DF5;/1.png&quot; alt=&quot;general&quot;&gt;&lt;br&gt;&lt;img src=&quot;/2016/11/18/&amp;#x4F7F;&amp;#x7528;Retrofit&amp;#x539F;&amp;#x751F;&amp;#x7684;&amp;#x6700;&amp;#x4F73;&amp;#x5B9E;&amp;#x8DF5;/2.png&quot; alt=&quot;request headers&quot;&gt;&lt;br&gt;&lt;img src=&quot;/2016/11/18/&amp;#x4F7F;&amp;#x7528;Retrofit&amp;#x539F;&amp;#x751F;&amp;#x7684;&amp;#x6700;&amp;#x4F73;&amp;#x5B9E;&amp;#x8DF5;/3.png&quot; alt=&quot;request payload&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x4FE1;&amp;#x606F;&amp;#x53EF;&amp;#x4EE5;&amp;#x77E5;&amp;#x9053;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x65B9;&amp;#x5F0F;&amp;#x4E3A;&lt;code&gt;post&lt;/code&gt;&amp;#xFF0C;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&lt;code&gt;url&lt;/code&gt;&amp;#x4E3A;&lt;code&gt;http://duoshuo.com/api/avatars/upload.json&lt;/code&gt;,&lt;code&gt;Content-Type&lt;/code&gt;&amp;#x7C7B;&amp;#x578B;&amp;#x4E3A;&lt;code&gt;multipart/form-data&lt;/code&gt;&amp;#x8FD9;&amp;#x975E;&amp;#x5E38;&amp;#x91CD;&amp;#x8981;&amp;#x540E;&amp;#x7EED;&amp;#x8981;&amp;#x8BBE;&amp;#x7F6E;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x7C7B;&amp;#x578B;,&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&lt;code&gt;Disposition&lt;/code&gt;&amp;#x5206;&amp;#x4E3A;&amp;#x4E24;&amp;#x90E8;&amp;#x5206;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x4E00;&amp;#x90E8;&amp;#x5206;&amp;#x4E3A;&lt;code&gt;RequestBody&lt;/code&gt;&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&lt;code&gt;nonce&lt;/code&gt;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x53E6;&amp;#x4E00;&amp;#x90E8;&amp;#x5206;&amp;#x4E3A;&amp;#x4E0A;&amp;#x4F20;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x4FE1;&amp;#x606F;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x8FD9;&amp;#x90E8;&amp;#x5206;&amp;#x4EE5;&lt;code&gt;MultipartBody.Part&lt;/code&gt;&amp;#x5B9A;&amp;#x4E49;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public interface DuoShuoUploadService {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;@Headers(&amp;quot;Cookie: duoshuo_unique=your duoshuo cookie&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Multipart&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @POST(&amp;quot;/api/avatars/upload.json&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Call&amp;lt;ResponseBody&amp;gt; uploadService(@Part(&amp;quot;nonce&amp;quot;) RequestBody nonce,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                     @Part MultipartBody.Part body);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5269;&amp;#x4E0B;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&amp;#x6784;&amp;#x9020;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x8FDB;&amp;#x884C;&amp;#x8C03;&amp;#x7528;&amp;#x8BF7;&amp;#x6C42;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public void getUpdateFile(File file, String nonceString) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // &amp;#x521B;&amp;#x5EFA;&amp;#x4E0A;&amp;#x4F20;&amp;#x7684;Service&amp;#x670D;&amp;#x52A1;&amp;#x7AEF;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        DuoShuoUploadService uploadService = ServiceGenerator.createService(DuoShuoUploadService.class);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // &amp;#x521B;&amp;#x5EFA;nonce&amp;#x6570;&amp;#x636E;&amp;#x7684;RequestBody&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        RequestBody nonce = RequestBody.create(MediaType.parse(&amp;quot;multipart/form-data&amp;quot;), nonceString);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // &amp;#x521B;&amp;#x5EFA;&amp;#x6587;&amp;#x4EF6;&amp;#x7684;RequestBody&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        RequestBody requestFile = RequestBody.create(MediaType.parse(&amp;quot;multipart/form-data&amp;quot;), file);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // &amp;#x521B;&amp;#x5EFA;MultipartBody.Part&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        MultipartBody.Part body = MultipartBody.Part.createFormData(&amp;quot;image&amp;quot;, file.getName(), requestFile);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // &amp;#x8C03;&amp;#x7528;&amp;#x63A5;&amp;#x53E3;&amp;#x65B9;&amp;#x6CD5;,&amp;#x5E76;&amp;#x6267;&amp;#x884C;&amp;#x8BF7;&amp;#x6C42;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Call&amp;lt;ResponseBody&amp;gt; call = uploadService.uploadService(nonce, body);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        call.enqueue(new Callback&amp;lt;ResponseBody&amp;gt;() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            public void onResponse(Call&amp;lt;ResponseBody&amp;gt; call, Response&amp;lt;ResponseBody&amp;gt; response) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (response.isSuccessful()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    Log.v(&amp;quot;TAG&amp;quot;, &amp;quot;success&amp;quot; + &amp;quot;-&amp;gt;&amp;quot; + response.body());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//                    APIError apiError = ErrorUtils.parseError(response);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//                    Log.e(&amp;quot;TAG&amp;quot;, apiError.message());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Log.d(&amp;quot;TAG&amp;quot;, &amp;quot; service contacted at:&amp;quot; + call.request().url());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            public void onFailure(Call&amp;lt;ResponseBody&amp;gt; call, Throwable t) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Log.e(&amp;quot;TAG&amp;quot;, &amp;quot;error:&amp;quot; + t.getMessage());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Log.d(&amp;quot;TAG&amp;quot;, &amp;quot; service contacted at:&amp;quot; + call.request().url());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        });&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E0A;&amp;#x9762;&amp;#x9700;&amp;#x8981;&amp;#x6CE8;&amp;#x610F;&amp;#x7684;&amp;#x6709;&amp;#x4E24;&amp;#x70B9;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;#x5728;&amp;#x521B;&amp;#x5EFA;&lt;code&gt;RequestBody.create&lt;/code&gt;&amp;#x65F6;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;Content-Type&lt;/code&gt;&amp;#x5373;&lt;code&gt;MediaType&lt;/code&gt;&amp;#x7C7B;&amp;#x578B;&amp;#x8981;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E3A;&lt;code&gt;multipart/form-data&lt;/code&gt;&amp;#x8FD9;&amp;#x662F;&amp;#x4E0A;&amp;#x4F20;&amp;#x6587;&amp;#x4EF6;&amp;#x7684;&amp;#x7C7B;&amp;#x578B;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;MultipartBody.Part.createFormData()&lt;/code&gt;&amp;#x7684;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#x4E3A;&amp;#x524D;&amp;#x9762;&amp;#x56FE;&amp;#x4E2D;&amp;#x7B2C;&amp;#x4E8C;&amp;#x4E2A;&lt;code&gt;Disposition&lt;/code&gt;&amp;#x7684;&lt;code&gt;name&lt;/code&gt;&amp;#x5B57;&amp;#x6BB5;&amp;#x7684;&amp;#x503C;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E2A;&amp;#x5FC5;&amp;#x987B;&amp;#x76F8;&amp;#x540C;&amp;#x56E0;&amp;#x4E3A;&amp;#x670D;&amp;#x52A1;&amp;#x5668;&amp;#x4F1A;&amp;#x901A;&amp;#x8FC7;&amp;#x8BE5;&amp;#x5B57;&amp;#x6BB5;&amp;#x83B7;&amp;#x53D6;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x7B2C;&amp;#x4E8C;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#x5C31;&amp;#x662F;&amp;#x6587;&amp;#x4EF6;&amp;#x540D;&amp;#xFF0C;&amp;#x7B2C;&amp;#x4E09;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#x5373;&amp;#x4E3A;&amp;#x4E0A;&amp;#x4F20;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x6570;&amp;#x636E;&lt;code&gt;RequestBody&lt;/code&gt;&amp;#x7C7B;&amp;#x578B;&amp;#x3002;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x591A;&amp;#x6587;&amp;#x4EF6;&amp;#x4E0A;&amp;#x4F20;&amp;#x6216;&amp;#x8005;&amp;#x591A;&amp;#x4E2A;&lt;code&gt;RequestBody&lt;/code&gt;&amp;#x7684;&amp;#x5B57;&amp;#x6BB5;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x901A;&amp;#x8FC7;&amp;#x4F20;&amp;#x9012;&amp;#x591A;&amp;#x4E2A;&lt;code&gt;MultipartBody.Part&lt;/code&gt;&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&lt;code&gt;body&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;@PartMap&lt;/code&gt;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Headers(&amp;quot;Cookie: duoshuo_unique=your duoshuo cookie&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   @Multipart&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   @POST(&amp;quot;/api/avatars/upload.json&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   Call&amp;lt;ResponseBody&amp;gt; uploadMultipleService(@PartMap() Map&amp;lt;String, RequestBody&amp;gt; partMap,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                            @Part MultipartBody.Part body1,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                            @Part MultipartBody.Part body2);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5982;&amp;#x9700;&amp;#x6C42;&amp;#x589E;&amp;#x52A0;&amp;#x4E86;&amp;#xFF0C;&amp;#x9700;&amp;#x8981;&amp;#x4E0A;&amp;#x4F20;&amp;#x7684;&amp;#x8FDB;&amp;#x5EA6;&amp;#x6761;&amp;#xFF0C;&amp;#x8FD9;&amp;#x65F6;&amp;#x53EF;&amp;#x4EE5;&amp;#x7EE7;&amp;#x627F;&lt;code&gt;RequestBody&lt;/code&gt;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E00;&amp;#x4E2A;&amp;#x6709;&amp;#x8FDB;&amp;#x5EA6;&amp;#x6761;&amp;#x7684;&amp;#x4E0A;&amp;#x4F20;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x8D34;&amp;#x4E0B;&amp;#x5B9E;&amp;#x73B0;&amp;#x4EE3;&amp;#x7801;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;68&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;69&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;70&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public class ProgressRequestBody extends RequestBody {    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public interface OkHttpProgressListener {       &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        void onProgress(long currentBytesCount, long totalBytesCount);    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x5B9E;&amp;#x9645;&amp;#x7684;&amp;#x5F85;&amp;#x5305;&amp;#x88C5;&amp;#x8BF7;&amp;#x6C42;&amp;#x4F53;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private final RequestBody requestBody;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x8FDB;&amp;#x5EA6;&amp;#x56DE;&amp;#x8C03;&amp;#x63A5;&amp;#x53E3;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private final OkHttpProgressListener progressListener;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x5305;&amp;#x88C5;&amp;#x5B8C;&amp;#x6210;&amp;#x7684;BufferedSink    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private BufferedSink bufferedSink;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public ProgressRequestBody(RequestBody requestBody, OkHttpProgressListener progressListener) {        &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        this.requestBody = requestBody;        &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        this.progressListener = progressListener;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /**     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      * &amp;#x91CD;&amp;#x5199;&amp;#x8C03;&amp;#x7528;&amp;#x5B9E;&amp;#x9645;&amp;#x7684;&amp;#x54CD;&amp;#x5E94;&amp;#x4F53;&amp;#x7684;contentType     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      * @return MediaType     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      */    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public MediaType contentType() {        &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return requestBody.contentType();    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /**     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      * &amp;#x91CD;&amp;#x5199;&amp;#x8C03;&amp;#x7528;&amp;#x5B9E;&amp;#x9645;&amp;#x7684;&amp;#x54CD;&amp;#x5E94;&amp;#x4F53;&amp;#x7684;contentLength     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      * @return contentLength     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      * @throws IOException &amp;#x5F02;&amp;#x5E38;     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      */    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public long contentLength() throws IOException {        &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return requestBody.contentLength();    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /**     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      * &amp;#x91CD;&amp;#x5199;&amp;#x8FDB;&amp;#x884C;&amp;#x5199;&amp;#x5165;     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      * @param sink BufferedSink     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      * @throws IOException &amp;#x5F02;&amp;#x5E38;     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      */    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public void writeTo(BufferedSink sink) throws IOException {        &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (null == bufferedSink) {            &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            bufferedSink = Okio.buffer(sink(sink));        &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }        &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        requestBody.writeTo(bufferedSink);        &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x5FC5;&amp;#x987B;&amp;#x8C03;&amp;#x7528;flush&amp;#xFF0C;&amp;#x5426;&amp;#x5219;&amp;#x6700;&amp;#x540E;&amp;#x4E00;&amp;#x90E8;&amp;#x5206;&amp;#x6570;&amp;#x636E;&amp;#x53EF;&amp;#x80FD;&amp;#x4E0D;&amp;#x4F1A;&amp;#x88AB;&amp;#x5199;&amp;#x5165;        &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        bufferedSink.flush();    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     }    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      /**     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        * &amp;#x5199;&amp;#x5165;&amp;#xFF0C;&amp;#x56DE;&amp;#x8C03;&amp;#x8FDB;&amp;#x5EA6;&amp;#x63A5;&amp;#x53E3;     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        * @param sink Sink     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        * @return Sink     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        */    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      private Sink sink(Sink sink) {        &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          return new ForwardingSink(sink) {            &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              //&amp;#x5F53;&amp;#x524D;&amp;#x5199;&amp;#x5165;&amp;#x5B57;&amp;#x8282;&amp;#x6570;            &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              long writtenBytesCount = 0L;            &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              //&amp;#x603B;&amp;#x5B57;&amp;#x8282;&amp;#x957F;&amp;#x5EA6;&amp;#xFF0C;&amp;#x907F;&amp;#x514D;&amp;#x591A;&amp;#x6B21;&amp;#x8C03;&amp;#x7528;contentLength()&amp;#x65B9;&amp;#x6CD5;            &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              long totalBytesCount = 0L;            &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              @Override            &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              public void write(Buffer source, long byteCount) throws IOException {    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                  super.write(source, byteCount);                &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                  //&amp;#x589E;&amp;#x52A0;&amp;#x5F53;&amp;#x524D;&amp;#x5199;&amp;#x5165;&amp;#x7684;&amp;#x5B57;&amp;#x8282;&amp;#x6570;                &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                  writtenBytesCount += byteCount;                &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                  //&amp;#x83B7;&amp;#x5F97;contentLength&amp;#x7684;&amp;#x503C;&amp;#xFF0C;&amp;#x540E;&amp;#x7EED;&amp;#x4E0D;&amp;#x518D;&amp;#x8C03;&amp;#x7528;                &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                  if (totalBytesCount == 0) {                    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                      totalBytesCount = contentLength();                &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                  }                &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                   progressListener.onProgress(writtenBytesCount, totalBytesCount);            &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              }        &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          };    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;Retrofit&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x4E0B;&amp;#x8F7D;&quot;&gt;&lt;a href=&quot;#Retrofit&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x4E0B;&amp;#x8F7D;&quot; class=&quot;headerlink&quot; title=&quot;Retrofit&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x4E0B;&amp;#x8F7D;&quot;&gt;&lt;/a&gt;Retrofit&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x4E0B;&amp;#x8F7D;&lt;/h2&gt;&lt;p&gt;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x4E0B;&amp;#x8F7D;&amp;#x4E5F;&amp;#x662F;&amp;#x5F88;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#xFF0C;&amp;#x53EA;&amp;#x8981;&amp;#x77E5;&amp;#x9053;&amp;#x4E0B;&amp;#x8F7D;&amp;#x6587;&amp;#x4EF6;&amp;#x7684;&lt;code&gt;url&lt;/code&gt;&amp;#xFF0C;&amp;#x5B9A;&amp;#x5236;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&amp;#x63A5;&amp;#x53E3;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x5C06;&amp;#x54CD;&amp;#x5E94;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x8FDB;&amp;#x884C;&amp;#x4FDD;&amp;#x5B58;&amp;#xFF0C;&amp;#x76F4;&amp;#x63A5;&amp;#x4E0A;&amp;#x4EE3;&amp;#x7801;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public interface DownloadFileService {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Streaming&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @GET&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Call&amp;lt;ResponseBody&amp;gt; downloadFileWithDynamicUrlSync(@Url String url);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x4F7F;&amp;#x7528;&amp;#x5230;&amp;#x4E86;&lt;code&gt;@Streaming&lt;/code&gt;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x4E0D;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x8BDD;&amp;#x54CD;&amp;#x5E94;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x662F;&amp;#x6574;&amp;#x4E2A;&amp;#x4E00;&amp;#x6B21;&amp;#x6027;&amp;#x4FDD;&amp;#x5B58;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x6570;&amp;#x636E;&amp;#x8FC7;&amp;#x5927;&amp;#x5F88;&amp;#x5BB9;&amp;#x6613;&amp;#x4EA7;&amp;#x751F;&lt;code&gt;OOM&lt;/code&gt;&amp;#x73B0;&amp;#x8C61;&amp;#xFF1B;&amp;#x5982;&amp;#x679C;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;&amp;#x54CD;&amp;#x5E94;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x5C06;&amp;#x4F1A;&amp;#x6309;&amp;#x6D41;&amp;#x7684;&amp;#x5F62;&amp;#x5F0F;&amp;#x5206;&amp;#x6563;&amp;#x4F20;&amp;#x9012;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5927;&amp;#x6587;&amp;#x4EF6;&amp;#x5EFA;&amp;#x8BAE;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;@Streaming&lt;/code&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public void getDownloadFile(final String filePath) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        final DownloadFileService downloadFileService = ServiceGenerator.createService(DownloadFileService.class);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Call&amp;lt;ResponseBody&amp;gt; call = downloadFileService.downloadFileWithDynamicUrlSync(filePath);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        call.enqueue(new Callback&amp;lt;ResponseBody&amp;gt;() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            public void onResponse(Call&amp;lt;ResponseBody&amp;gt; call, Response&amp;lt;ResponseBody&amp;gt; response) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (response.isSuccessful()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    boolean writeToDisk = WriteToDiskUtils.writeResponseBodyToDiskUtils(MainActivity.this, response.body());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    Log.d(&amp;quot;TAG&amp;quot;, &amp;quot;&amp;#x4E0B;&amp;#x8F7D;&amp;#x6210;&amp;#x529F;?&amp;quot; + writeToDisk);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    Log.d(&amp;quot;TAG&amp;quot;, &amp;quot;&amp;#x4E0B;&amp;#x8F7D;&amp;#x5931;&amp;#x8D25;!&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Log.d(&amp;quot;TAG&amp;quot;, &amp;quot; service contacted at:&amp;quot; + call.request().url());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            public void onFailure(Call&amp;lt;ResponseBody&amp;gt; call, Throwable t) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (call.isCanceled()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    Log.d(&amp;quot;TAG&amp;quot;, &amp;quot;&amp;#x8BF7;&amp;#x6C42;&amp;#x5DF2;&amp;#x7ECF;&amp;#x53D6;&amp;#x6D88;!&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    Log.e(&amp;quot;TAG&amp;quot;, t.getMessage());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Log.d(&amp;quot;TAG&amp;quot;, &amp;quot; service contacted at:&amp;quot; + call.request().url());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        });&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x6587;&amp;#x4EF6;&amp;#x7684;&amp;#x4FDD;&amp;#x5B58;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;&lt;code&gt;WriteToDiskUtils.writeResponseBodyToDiskUtils()&lt;/code&gt;&amp;#xFF0C;&amp;#x5176;&amp;#x5B9E;&amp;#x5C31;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x8BFB;&amp;#x53D6;&amp;#x4E0E;&amp;#x5199;&amp;#x5165;&amp;#xFF0C;&amp;#x4E0D;&amp;#x591A;&amp;#x8BF4;&amp;#x4E86;&amp;#x76F4;&amp;#x63A5;&amp;#x770B;&amp;#x4EE3;&amp;#x7801;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public class WriteToDiskUtils {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public static boolean writeResponseBodyToDiskUtils(Context context, ResponseBody body) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        File file = new File(Environment.getExternalStorageDirectory() + File.separator + &amp;quot;retrofit/&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        InputStream in = null;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        OutputStream out = null;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        long fileSize = body.contentLength();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int line;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        long downloadSize = 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (!file.exists()){&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            file.mkdirs();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        File realFile = new File(file,&amp;quot;vso.mp4&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            in = body.byteStream();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            out = new FileOutputStream(realFile);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            byte[] buffer = new byte[4096];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            while ((line = in.read(buffer)) != -1) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                out.write(buffer, 0, line);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                downloadSize += line;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Log.d(&amp;quot;TAG&amp;quot;, &amp;quot;&amp;#x6587;&amp;#x4EF6;&amp;#x603B;&amp;#x7684;&amp;#x5927;&amp;#x5C0F;:&amp;quot; + fileSize + &amp;quot;&amp;#x6587;&amp;#x4EF6;&amp;#x4E0B;&amp;#x8F7D;&amp;#x7684;&amp;#x5927;&amp;#x5C0F;:&amp;quot; + downloadSize);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            out.flush();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return true;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } catch (IOException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            e.printStackTrace();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } finally {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (in != null)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    in.close();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (out != null)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    out.close();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } catch (IOException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                e.printStackTrace();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                return false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x8FD9;&amp;#x6B21;&amp;#x5C31;&amp;#x5230;&amp;#x8FD9;&amp;#x91CC;&amp;#x5427;&amp;#xFF0C;&amp;#x53BB;&amp;#x4F11;&amp;#x606F;&amp;#x4E86;&amp;#x3002;&amp;#x3002;&amp;#x3002;&amp;#x4E0B;&amp;#x6B21;&amp;#x5C06;&amp;#x5BF9;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;RXJava&lt;/code&gt;&amp;#x7684;&amp;#x7ED3;&amp;#x5408;&amp;#x4F7F;&amp;#x7528;&amp;#x8FDB;&amp;#x884C;&amp;#x4ECB;&amp;#x7ECD;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h1&gt;&lt;p&gt;&amp;#x524D;&amp;#x976
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="retrofit" scheme="https://idisfkj.github.io/tags/retrofit/"/>
    
  </entry>
  
  <entry>
    <title>带你走进Retrofit的新世界</title>
    <link href="https://idisfkj.github.io/2016/11/15/%E5%B8%A6%E4%BD%A0%E8%B5%B0%E8%BF%9BRetrofit%E7%9A%84%E6%96%B0%E4%B8%96%E7%95%8C/"/>
    <id>https://idisfkj.github.io/2016/11/15/带你走进Retrofit的新世界/</id>
    <published>2016-11-15T15:43:32.000Z</published>
    <updated>2016-11-18T03:19:43.000Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&lt;code&gt;Android&lt;/code&gt;&amp;#x6765;&amp;#x8BF4;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x6709;&amp;#x5F88;&amp;#x591A;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&amp;#x53EF;&amp;#x4EE5;&amp;#x76F4;&amp;#x63A5;&amp;#x4F7F;&amp;#x7528;&amp;#x6CA1;&amp;#x6709;&amp;#x5C01;&amp;#x88C5;&amp;#x7684;&lt;code&gt;HttpUrlConnection&lt;/code&gt;&amp;#xFF0C;&amp;#x6216;&amp;#x8005;&amp;#x4F7F;&amp;#x7528;&amp;#x4E00;&amp;#x4E9B;&amp;#x5DF2;&amp;#x7ECF;&amp;#x8FDB;&amp;#x884C;&amp;#x4E86;&amp;#x5C01;&amp;#x88C5;&amp;#x7684;&amp;#x4F8B;&amp;#x5982;&lt;code&gt;Volley&lt;/code&gt;&amp;#x3001;&lt;code&gt;OkHttp&lt;/code&gt;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E9B;&amp;#x5C01;&amp;#x88C5;&amp;#x597D;&amp;#x7684;&amp;#x5F00;&amp;#x6E90;&amp;#x5E93;&amp;#x4E5F;&amp;#x662F;&amp;#x4E0D;&amp;#x9519;&amp;#x7684;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x8981;&amp;#x8BB2;&amp;#x7684;&amp;#x8BDD;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x5355;&amp;#x72EC;&amp;#x5199;&amp;#x597D;&amp;#x51E0;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x9700;&amp;#x8981;&amp;#x4E86;&amp;#x89E3;&lt;code&gt;Volley&lt;/code&gt;&amp;#x539F;&amp;#x7406;&amp;#x7684;&amp;#x7684;&amp;#x53EF;&amp;#x4EE5;&amp;#x67E5;&amp;#x770B;&amp;#x8FD9;&amp;#x4E24;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&lt;a href=&quot;https://idisfkj.github.io/2016/10/14/Android-Volley%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%80/&quot;&gt;Android Volley&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;(&amp;#x4E00;)&lt;/a&gt;&amp;#x3001;&lt;a href=&quot;https://idisfkj.github.io/2016/10/17/Android-Volley%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%BA%8C/&quot;&gt;Android Volley&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;(&amp;#x4E8C;)&lt;/a&gt;&amp;#x3002;&amp;#x4F46;&amp;#x662F;&amp;#x4ECA;&amp;#x5929;&amp;#x8981;&amp;#x8BF4;&amp;#x7684;&amp;#x662F;&amp;#x73B0;&amp;#x5728;&lt;code&gt;Android&lt;/code&gt;&amp;#x5F00;&amp;#x53D1;&amp;#x4EBA;&amp;#x5458;&amp;#x8FDB;&amp;#x9636;&amp;#x5FC5;&amp;#x5907;&amp;#x7684;&amp;#x7F51;&amp;#x7EDC;&amp;#x5E93;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#xFF0C;&amp;#x4E5F;&amp;#x662F;&amp;#x73B0;&amp;#x5728;&amp;#x6700;&amp;#x6D41;&amp;#x884C;&amp;#x7684;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x4E4B;&amp;#x524D;&amp;#x4F7F;&amp;#x7528;&amp;#x8FC7;&lt;code&gt;OkHttp&lt;/code&gt;&amp;#x90A3;&amp;#x4E48;&amp;#x606D;&amp;#x559C;&amp;#x4F60;&amp;#x6709;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&amp;#x597D;&amp;#x7684;&amp;#x4F18;&amp;#x52BF;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x5185;&amp;#x90E8;&amp;#x5C31;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;OkHttp&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x3002;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x505A;&amp;#x7684;&amp;#x53EA;&amp;#x662F;&amp;#x5C01;&amp;#x88C5;&amp;#x8BF7;&amp;#x6C42;&amp;#x53C2;&amp;#x6570;&amp;#x3001;&lt;code&gt;Header&lt;/code&gt;&amp;#x3001;&lt;code&gt;Url&lt;/code&gt;&amp;#x7B49;&amp;#x4FE1;&amp;#x606F;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x518D;&amp;#x4F20;&amp;#x7ED9;&lt;code&gt;OkHttp&lt;/code&gt;&amp;#x5B8C;&amp;#x6210;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x8BF7;&amp;#x6C42;&amp;#x5B8C;&amp;#x4E4B;&amp;#x540E;&lt;code&gt;OkHttp&lt;/code&gt;&amp;#x5728;&amp;#x4F20;&amp;#x56DE;&amp;#x7ED9;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x6765;&amp;#x8BF4;&amp;#x4E0B;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x7684;&amp;#x57FA;&amp;#x672C;&amp;#x4F7F;&amp;#x7528;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x672C;&amp;#x7AE0;&amp;#x4ECB;&amp;#x7ECD;&amp;#x7684;&amp;#x90FD;&amp;#x662F;&amp;#x5165;&amp;#x95E8;&amp;#x7684;&amp;#x77E5;&amp;#x8BC6;&amp;#xFF0C;&amp;#x53EA;&amp;#x505A;&amp;#x4E00;&amp;#x4E2A;&amp;#x5F15;&amp;#x5BFC;&amp;#x4F5C;&amp;#x7528;&amp;#xFF0C;&amp;#x5927;&amp;#x795E;&amp;#x8BF7;&amp;#x81EA;&amp;#x52A8;&amp;#x8DF3;&amp;#x8FC7;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;Retrofit&quot;&gt;&lt;a href=&quot;#Retrofit&quot; class=&quot;headerlink&quot; title=&quot;Retrofit&quot;&gt;&lt;/a&gt;Retrofit&lt;/h1&gt;&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x7684;&amp;#x4ECB;&amp;#x7ECD;&amp;#x6211;&amp;#x5F15;&amp;#x7528;&amp;#x5B98;&amp;#x65B9;&amp;#x7684;&amp;#x4E00;&amp;#x53E5;&amp;#x8BDD;&lt;code&gt;Type-safe HTTP client for Android and Java by Square, Inc.&lt;/code&gt;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x7FFB;&amp;#x8BD1;&amp;#x4E00;&amp;#x4E0B;&amp;#x5C31;&amp;#x662F;&amp;#xFF1A;&amp;#x5BF9;&amp;#x4E8E;&lt;code&gt;Android&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;Java&lt;/code&gt;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x7C7B;&amp;#x578B;&amp;#x5B89;&amp;#x5168;&amp;#x7684;&lt;code&gt;Http&lt;/code&gt;&amp;#x8BF7;&amp;#x6C42;&amp;#x5E93;&amp;#x3002;&amp;#x5B83;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&amp;#x6CE8;&amp;#x91CA;&amp;#x6765;&amp;#x63CF;&amp;#x8FF0;&lt;code&gt;Http&lt;/code&gt;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x6709;&amp;#x4EE5;&amp;#x4E0B;&amp;#x7279;&amp;#x70B9;&amp;#xFF1A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;#x652F;&amp;#x6301;&lt;code&gt;URL&lt;/code&gt;&amp;#x53C2;&amp;#x6570;&amp;#x66FF;&amp;#x4EE3;&amp;#x4E0E;&lt;code&gt;query&lt;/code&gt;&amp;#x53C2;&amp;#x6570;&amp;#x7684;&amp;#x67E5;&amp;#x8BE2;&lt;/li&gt;
&lt;li&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x8BF7;&amp;#x6C42;&lt;code&gt;body&lt;/code&gt;&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x8F6C;&amp;#x6362;&amp;#xFF08;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;&lt;code&gt;Json&lt;/code&gt;&amp;#x3001;&lt;code&gt;protocol buffers&lt;/code&gt;&amp;#xFF09;&lt;/li&gt;
&lt;li&gt;&amp;#x652F;&amp;#x6301;&lt;code&gt;Multipart&lt;/code&gt;&amp;#x8BF7;&amp;#x6C42;&amp;#x4E0E;&amp;#x6587;&amp;#x4EF6;&amp;#x4E0A;&amp;#x4F20;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;&amp;#x914D;&amp;#x7F6E;&quot;&gt;&lt;a href=&quot;#&amp;#x914D;&amp;#x7F6E;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x914D;&amp;#x7F6E;&quot;&gt;&lt;/a&gt;&amp;#x914D;&amp;#x7F6E;&lt;/h2&gt;&lt;p&gt;&amp;#x73B0;&amp;#x5728;&amp;#x5DF2;&amp;#x7ECF;&amp;#x66F4;&amp;#x65B0;&amp;#x5230;&lt;code&gt;Retrofit2&lt;/code&gt;&amp;#x4E86;&amp;#xFF0C;&amp;#x5BF9;&amp;#x4E8E;&lt;code&gt;Android&lt;/code&gt;&amp;#x6765;&amp;#x8BF4;&amp;#x76F4;&amp;#x63A5;&amp;#x5728;&lt;code&gt;Gradle&lt;/code&gt;&amp;#x4E2D;&amp;#x914D;&amp;#x7F6E;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;compile &amp;apos;com.squareup.retrofit2:retrofit:2.1.0&amp;apos;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6216;&amp;#x8005;&amp;#x67E5;&amp;#x770B;&lt;a href=&quot;https://github.com/square/retrofit&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x5B98;&amp;#x7F51;&lt;/a&gt;&amp;#x914D;&amp;#x7F6E;&amp;#x6700;&amp;#x65B0;&amp;#x7248;&amp;#x672C;,&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x9700;&amp;#x8981;&amp;#x7684;&lt;code&gt;Android&lt;/code&gt;&amp;#x6700;&amp;#x4F4E;&amp;#x7248;&amp;#x672C;&amp;#x4E3A;&lt;code&gt;2.3&lt;/code&gt;&lt;br&gt;&amp;#x5BF9;&amp;#x4E8E;&lt;code&gt;Retrofit2&lt;/code&gt;&amp;#x5C31;&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x914D;&amp;#x7F6E;&lt;code&gt;OkHttp&lt;/code&gt;&amp;#x4F9D;&amp;#x8D56;&amp;#x4E86;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x5B83;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4F1A;&amp;#x4E00;&amp;#x8D77;&amp;#x914D;&amp;#x7F6E;&amp;#xFF0C;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x65F6;&amp;#xFF0C;&amp;#x4F1A;&amp;#x4F7F;&amp;#x7528;&amp;#x4E00;&amp;#x4E9B;&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x8F6C;&amp;#x6362;&amp;#xFF0C;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x4EE5;&amp;#x4E0B;&lt;code&gt;6&lt;/code&gt;&amp;#x4E2D;&amp;#x6D41;&amp;#x884C;&amp;#x7684;&amp;#x7C7B;&amp;#x578B;&amp;#x4F9B;&amp;#x9009;&amp;#x62E9;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Gson: com.squareup.retrofit2:converter-gson&lt;/li&gt;
&lt;li&gt;Jackson: com.squareup.retrofit2:converter-jackson&lt;/li&gt;
&lt;li&gt;Moshi: com.squareup.retrofit2:converter-moshi&lt;/li&gt;
&lt;li&gt;Protobuf: com.squareup.retrofit2:converter-protobuf&lt;/li&gt;
&lt;li&gt;Wire: com.squareup.retrofit2:converter-wire&lt;/li&gt;
&lt;li&gt;Simple XML: com.squareup.retrofit2:converter-simplexml&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Scalars (primitives, boxed, and String): com.squareup.retrofit2:converter-scalars&lt;/p&gt;
&lt;p&gt;&amp;#x5728;&lt;code&gt;Gradle&lt;/code&gt;&amp;#x4E2D;&amp;#x914D;&amp;#x7F6E;&amp;#x4E0E;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x7684;&amp;#x7248;&amp;#x672C;&amp;#x53F7;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;compile &amp;apos;com.squareup.retrofit2:converter-gson:2.1.0&amp;apos;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;&amp;#x4F7F;&amp;#x7528;&quot;&gt;&lt;a href=&quot;#&amp;#x4F7F;&amp;#x7528;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4F7F;&amp;#x7528;&quot;&gt;&lt;/a&gt;&amp;#x4F7F;&amp;#x7528;&lt;/h1&gt;&lt;p&gt;&amp;#x524D;&amp;#x9762;&amp;#x8BF4;&amp;#x4E86;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&amp;#x6CE8;&amp;#x91CA;&amp;#x6765;&amp;#x5B9A;&amp;#x4E49;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x4E14;&amp;#x5B83;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x6CE8;&amp;#x91CA;&amp;#x662F;&amp;#x5728;&amp;#x63A5;&amp;#x53E3;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x90FD;&amp;#x5FC5;&amp;#x987B;&amp;#x8981;&amp;#x6709;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&lt;code&gt;Http&lt;/code&gt;&amp;#x6CE8;&amp;#x91CA;&amp;#x4E0E;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&lt;code&gt;URL&lt;/code&gt;&amp;#x3002;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x652F;&amp;#x6301;&lt;code&gt;5&lt;/code&gt;&amp;#x4E2D;&amp;#x5185;&amp;#x7F6E;&amp;#x7684;&amp;#x6CE8;&amp;#x91CA;&amp;#x7684;&lt;code&gt;Http&lt;/code&gt;&amp;#x8BF7;&amp;#x6C42;&amp;#x65B9;&amp;#x5F0F;&amp;#xFF1A;&lt;code&gt;GET&lt;/code&gt;&amp;#x3001;&lt;code&gt;POST&lt;/code&gt;&amp;#x3001;&lt;code&gt;PUT&lt;/code&gt;&amp;#x3001;&lt;code&gt;DELETE&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;HEAD&lt;/code&gt;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x5B9A;&amp;#x4E49;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&lt;code&gt;URL&lt;/code&gt;&amp;#x5305;&amp;#x62EC;&amp;#x4E24;&amp;#x90E8;&amp;#x5206;&amp;#x4E00;&amp;#x90E8;&amp;#x5206;&amp;#x4E3A;&lt;code&gt;host&lt;/code&gt;&amp;#x4E5F;&amp;#x79F0;&amp;#x4E3A;&lt;code&gt;baseUrl&lt;/code&gt;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;&lt;code&gt;https://api.github.com&lt;/code&gt;&amp;#xFF0C;&amp;#x522B;&amp;#x4E00;&amp;#x90E8;&amp;#x5206;&amp;#x4E3A;&lt;code&gt;path&lt;/code&gt;&amp;#x4F8B;&amp;#x5982;:&lt;code&gt;users/list&lt;/code&gt;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;&amp;#x6CE8;&amp;#x91CA;&amp;#x4E2D;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&lt;code&gt;url&lt;/code&gt;&amp;#x4E00;&amp;#x822C;&amp;#x4E3A;&lt;code&gt;path&lt;/code&gt;&amp;#x90E8;&amp;#x5206;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x4EE5;&amp;#x4E0B;&amp;#x7684;&amp;#x4ECB;&amp;#x7ECD;&amp;#x90FD;&amp;#x662F;&amp;#x9488;&amp;#x5BF9;&lt;code&gt;Retrofit2&lt;/code&gt;&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x7684;&amp;#xFF0C;&amp;#x4E0E;&lt;code&gt;Retrofit1.9&lt;/code&gt;&amp;#x6709;&amp;#x7684;&amp;#x5730;&amp;#x65B9;&amp;#x8FD8;&amp;#x662F;&amp;#x6709;&amp;#x533A;&amp;#x522B;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;GET&quot;&gt;&lt;a href=&quot;#GET&quot; class=&quot;headerlink&quot; title=&quot;GET&quot;&gt;&lt;/a&gt;GET&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@GET(&amp;quot;users/list&amp;quot;)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x76F4;&amp;#x63A5;&amp;#x5E26;&amp;#x53C2;&amp;#x6570;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@GET(&amp;quot;users/list?sort=desc&amp;quot;)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;Path&quot;&gt;&lt;a href=&quot;#Path&quot; class=&quot;headerlink&quot; title=&quot;Path&quot;&gt;&lt;/a&gt;Path&lt;/h2&gt;&lt;p&gt;&amp;#x5176;&amp;#x5B9E;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&amp;#x52A8;&amp;#x6001;&amp;#x66F4;&amp;#x65B0;&amp;#x7684;&amp;#x65B9;&amp;#x5F0F;&amp;#x6765;&amp;#x5B9A;&amp;#x4E49;&lt;code&gt;path&lt;/code&gt;&amp;#xFF0C;&amp;#x518D;&lt;code&gt;path&lt;/code&gt;&amp;#x4E2D;&amp;#x901A;&amp;#x8FC7;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;{}&lt;/code&gt;&amp;#x6765;&amp;#x5B9A;&amp;#x4E49;&amp;#x9700;&amp;#x8981;&amp;#x52A8;&amp;#x6001;&amp;#x66FF;&amp;#x4EE3;&amp;#x7684;&amp;#x5B57;&amp;#x6BB5;&amp;#xFF0C;&amp;#x518D;&amp;#x5230;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;@Path()&lt;/code&gt;&amp;#x6765;&amp;#x5B9A;&amp;#x4E49;&amp;#x66FF;&amp;#x4EE3;&amp;#x7684;&amp;#x53D8;&amp;#x91CF;&amp;#x503C;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@GET(&amp;quot;group/{address}/users&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Call&amp;lt;List&amp;lt;User&amp;gt;&amp;gt; groupList(@Path(&amp;quot;address&amp;quot;) String address);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;@Path&lt;/code&gt;&amp;#x8FD8;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x53EF;&amp;#x9009;&amp;#x7684;&amp;#x5B57;&amp;#x6BB5;&lt;code&gt;encoded&lt;/code&gt;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4E3A;&lt;code&gt;false&lt;/code&gt;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x4E3A;&lt;code&gt;true&lt;/code&gt;&amp;#x5C06;&amp;#x4F1A;&amp;#x5BF9;&amp;#x7279;&amp;#x6B8A;&amp;#x7684;&amp;#x5B57;&amp;#x7B26;&amp;#x8FDB;&amp;#x884C;&amp;#x7F16;&amp;#x7801;&amp;#x8F6C;&amp;#x6362;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&lt;code&gt;key&lt;/code&gt;&amp;#x4E3A;&lt;code&gt;address&lt;/code&gt;&amp;#x7684;&lt;code&gt;value&lt;/code&gt;&amp;#x4E3A;&lt;code&gt;maer-se&lt;/code&gt;,&amp;#x9ED8;&amp;#x8BA4;&amp;#x7F16;&amp;#x7801;&amp;#x7684;&lt;code&gt;url&lt;/code&gt;&amp;#x4E3A;&lt;code&gt;group/maer-se/users&lt;/code&gt;&amp;#xFF0C;&amp;#x4F46;&amp;#x5982;&amp;#x679C;&amp;#x5BF9;&lt;code&gt;encoded&lt;/code&gt;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E3A;&lt;code&gt;true&lt;/code&gt;&amp;#x5C06;&amp;#x4F1A;&amp;#x5BF9;&lt;code&gt;-&lt;/code&gt;&amp;#x5B57;&amp;#x7B26;&amp;#x8FDB;&amp;#x884C;&amp;#x8F6C;&amp;#x6362;&amp;#x6700;&amp;#x7EC8;&amp;#x53D8;&amp;#x6210;&amp;#x4E86;&lt;code&gt;group/maer%2Dse/users&lt;/code&gt;,&amp;#x4F7F;&amp;#x7528;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@GET(&amp;quot;group/{address}/users&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Call&amp;lt;List&amp;lt;User&amp;gt;&amp;gt; groupList(@Path(value = &amp;quot;address&amp;quot;, encoded = true) String address);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x540E;&amp;#x7EED;&amp;#x7684;&lt;code&gt;Query&lt;/code&gt;&amp;#x3001;&lt;code&gt;QueryMap&lt;/code&gt;&amp;#x3001;&lt;code&gt;Part&lt;/code&gt;&amp;#x3001;&lt;code&gt;PartMap&lt;/code&gt;&amp;#x3001;&lt;code&gt;Field&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;FieldMap&lt;/code&gt;&amp;#x90FD;&amp;#x6709;&amp;#x8FD9;&amp;#x4E2A;&amp;#x7279;&amp;#x6027;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;Query&quot;&gt;&lt;a href=&quot;#Query&quot; class=&quot;headerlink&quot; title=&quot;Query&quot;&gt;&lt;/a&gt;Query&lt;/h2&gt;&lt;p&gt;&amp;#x53C2;&amp;#x6570;&amp;#x67E5;&amp;#x8BE2;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;@Query()&lt;/code&gt;&amp;#x6765;&amp;#x5B9A;&amp;#x4E49;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;GET(&amp;quot;group/{id}/users&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Call&amp;lt;List&amp;lt;User&amp;gt;&amp;gt; groupList(@Path(&amp;quot;id&amp;quot;) int groupId, @Query(&amp;quot;user&amp;quot;) String user,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;@Query(&amp;quot;address&amp;quot;) String address);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;QueryMap&quot;&gt;&lt;a href=&quot;#QueryMap&quot; class=&quot;headerlink&quot; title=&quot;QueryMap&quot;&gt;&lt;/a&gt;QueryMap&lt;/h2&gt;&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x53C2;&amp;#x6570;&amp;#x8FC7;&amp;#x591A;&amp;#x53EF;&amp;#x4EE5;&amp;#x501F;&amp;#x52A9;&lt;code&gt;@QueryMap&lt;/code&gt; &amp;#x6765;&amp;#x6784;&amp;#x9020;&lt;code&gt;Map&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@GET(&amp;quot;group/{id}/users&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Call&amp;lt;List&amp;lt;User&amp;gt;&amp;gt; groupList(@Path(&amp;quot;id&amp;quot;) int groupId, @QueryMap Map&amp;lt;String, String&amp;gt; options);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x540C;&amp;#x65F6;&amp;#x5982;&amp;#x679C;&amp;#x5728;&amp;#x8C03;&amp;#x7528;&lt;code&gt;.groupList&lt;/code&gt;&amp;#x65F6;,&amp;#x53EA;&amp;#x8981;&amp;#x53C2;&amp;#x6570;&amp;#x7684;&amp;#x7C7B;&amp;#x578B;&amp;#x4E0D;&amp;#x4E3A;&amp;#x57FA;&amp;#x672C;&amp;#x7C7B;&amp;#x578B;(&lt;code&gt;int&lt;/code&gt;&amp;#x3001;&lt;code&gt;double&lt;/code&gt;&amp;#x7B49;)&amp;#xFF0C;&amp;#x6216;&amp;#x8005;&amp;#x5C06;&amp;#x57FA;&amp;#x672C;&amp;#x578B;&amp;#x8F6C;&amp;#x6362;&amp;#x4E3A;&lt;code&gt;Integer,Double&lt;/code&gt;&amp;#x7B49;&amp;#x65F6;&amp;#x53EF;&amp;#x4EE5;&amp;#x4E3A;&lt;code&gt;null&lt;/code&gt;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x4E3A;&lt;code&gt;null&lt;/code&gt;&amp;#x90A3;&amp;#x4E48;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x5C06;&amp;#x4F1A;&amp;#x5FFD;&amp;#x7565;&amp;#x4E0D;&amp;#x4F1A;&amp;#x5339;&amp;#x914D;&amp;#x8BE5;&amp;#x53C2;&amp;#x6570;&amp;#x3002;&amp;#x53E6;&amp;#x5916;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;QueryMap&lt;/code&gt;&amp;#x65F6;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x52A8;&amp;#x6001;&amp;#x5339;&amp;#x914D;&amp;#x4F60;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&amp;#x6CA1;&amp;#x6709;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&amp;#x5C06;&amp;#x4F1A;&amp;#x81EA;&amp;#x52A8;&amp;#x5FFD;&amp;#x7565;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Map&amp;lt;String, String&amp;gt; data = new HashMap&amp;lt;&amp;gt;();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    data.put(&amp;quot;user&amp;quot;, &amp;quot;Marcus&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Call&amp;lt;List&amp;lt;User&amp;gt;&amp;gt; call = newsService.groupList(2,data);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    call.enqueue(&amp;#x2026;)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x4E2A;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&lt;code&gt;url&lt;/code&gt;&amp;#x4E3A;&lt;code&gt;https://api.github.com/group/2/users?user=Marcus&lt;/code&gt;&amp;#x5BF9;&amp;#x4E8E;&lt;code&gt;address&lt;/code&gt;&amp;#x5C06;&amp;#x81EA;&amp;#x52A8;&amp;#x5FFD;&amp;#x7565;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x8BF4;&amp;#x4E86;&amp;#x8FD9;&amp;#x4E48;&amp;#x591A;&amp;#x8FD8;&amp;#x662F;&amp;#x4EE5;&amp;#x4E00;&amp;#x4E2A;&amp;#x793A;&amp;#x4F8B;&amp;#x6765;&amp;#x5C55;&amp;#x793A;&amp;#x6574;&amp;#x4E2A;&amp;#x8C03;&amp;#x7528;&amp;#x6D41;&amp;#x7A0B;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x7684;&amp;#x793A;&amp;#x4F8B;&amp;#x662F;&lt;code&gt;Github&lt;/code&gt;&amp;#x4E0A;&amp;#x7684;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;&amp;#x793A;&amp;#x4F8B;&quot;&gt;&lt;a href=&quot;#&amp;#x793A;&amp;#x4F8B;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x793A;&amp;#x4F8B;&quot;&gt;&lt;/a&gt;&amp;#x793A;&amp;#x4F8B;&lt;/h2&gt;&lt;p&gt;&amp;#x5B9A;&amp;#x4E49;&amp;#x63A5;&amp;#x53E3;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public interface GithubService {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @GET(&amp;quot;/repos/{owner}/{repo}/contributors&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Call&amp;lt;List&amp;lt;Contributors&amp;gt;&amp;gt; contributors(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            @Path(&amp;quot;owner&amp;quot;) String owner,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            @Path(&amp;quot;repo&amp;quot;) String repo);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;Contributors&lt;/code&gt;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x5B9E;&amp;#x4F53;&amp;#x7C7B;&amp;#xFF0C;&amp;#x5BF9;&amp;#x5E94;&amp;#x4E8E;&amp;#x8BF7;&amp;#x6C42;&amp;#x4E4B;&amp;#x540E;&amp;#x8FD4;&amp;#x56DE;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x7C7B;&amp;#x578B;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public class Contributors {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public String login;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public String contributions;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public Contributors(String contributions, String login) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        this.contributions = contributions;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        this.login = login;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x751F;&amp;#x6210;&amp;#x4F60;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x54CD;&amp;#x5E94;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x662F;&lt;code&gt;Json&lt;/code&gt;&amp;#x7C7B;&amp;#x578B;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8981;&amp;#x5BF9;&lt;code&gt;body&lt;/code&gt;&amp;#x505A;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&amp;#x8F6C;&amp;#x5316;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&amp;#x6DFB;&amp;#x52A0;&lt;code&gt;Converter&lt;/code&gt;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x6CA1;&amp;#x6709;&amp;#x6DFB;&amp;#x52A0;&lt;code&gt;Converter&lt;/code&gt;&amp;#x5B83;&amp;#x9ED8;&amp;#x8BA4;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;OkHttp&lt;/code&gt;&amp;#x7684;&lt;code&gt;ResponseBody&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;ResponseBody&lt;/code&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x540E;&amp;#x7EED;&lt;code&gt;POST&lt;/code&gt;&amp;#x8BBE;&amp;#x7F6E;&amp;#x7684;&lt;code&gt;@Body&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Retrofit retrofit = new Retrofit.Builder()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                .baseUrl(&amp;quot;https://api.github.com&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                .addConverterFactory(GsonConverterFactory.create())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                .build();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;GithubService service = retrofit.create(GithubService.class)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;GsonConverterFactory.create()&lt;/code&gt;&amp;#x5FC5;&amp;#x987B;&amp;#x5728;&lt;code&gt;Gradle&lt;/code&gt;&amp;#x4E2D;&amp;#x914D;&amp;#x7F6E;&amp;#x4E86;&amp;#x524D;&amp;#x9762;&amp;#x6240;&amp;#x8BF4;&amp;#x7684;&lt;code&gt;6&lt;/code&gt;&amp;#x79CD;&amp;#x7C7B;&amp;#x578B;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;Gson&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;Call&lt;/code&gt;&amp;#x90FD;&amp;#x662F;&amp;#x6765;&amp;#x81EA;&amp;#x4E8E;&amp;#x521B;&amp;#x5EFA;&amp;#x7684;&amp;#x63A5;&amp;#x53E3;&amp;#x901A;&amp;#x8FC7;&amp;#x540C;&amp;#x6B65;&amp;#x6216;&amp;#x8005;&amp;#x5F02;&amp;#x6B65;&amp;#x8BF7;&amp;#x6C42;&amp;#x8FDC;&amp;#x7A0B;&amp;#x670D;&amp;#x52A1;&amp;#x800C;&amp;#x83B7;&amp;#x5F97;&amp;#x3002;&amp;#x5728;&amp;#x8C03;&amp;#x7528;&amp;#x63A5;&amp;#x53E3;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x65F6;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F20;&amp;#x5165;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&amp;#x6570;&amp;#x636E;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Call&amp;lt;List&amp;lt;Contributors&amp;gt;&amp;gt; call = service.contributors(&amp;quot;square&amp;quot;, &amp;quot;retrofit&amp;quot;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x540C;&amp;#x8C03;&amp;#x7528;&lt;code&gt;Call&lt;/code&gt;&amp;#x7684;&lt;code&gt;execute&lt;/code&gt;&amp;#x6267;&amp;#x884C;&amp;#x540C;&amp;#x6B65;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x6216;&amp;#x8005;&amp;#x8C03;&amp;#x7528;&lt;code&gt;Call&lt;/code&gt;&amp;#x7684;&lt;code&gt;enqueue&lt;/code&gt;&amp;#x6765;&amp;#x6267;&amp;#x884C;&amp;#x5F02;&amp;#x6B65;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x83B7;&amp;#x53D6;&amp;#x54CD;&amp;#x5E94;&amp;#x7684;&amp;#x7ED3;&amp;#x679C;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            List&amp;lt;Contributors&amp;gt; contributorses = call.execute().body();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            for (Contributors contributors : contributorses) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Log.v(&amp;quot;TAG&amp;quot;, contributors.login + &amp;quot;(&amp;quot; + contributors.contributions + &amp;quot;)&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } catch (IOException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            e.printStackTrace();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;POST&quot;&gt;&lt;a href=&quot;#POST&quot; class=&quot;headerlink&quot; title=&quot;POST&quot;&gt;&lt;/a&gt;POST&lt;/h2&gt;&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x4E00;&amp;#x4E2A;&amp;#x5BF9;&amp;#x8C61;&amp;#x53EF;&amp;#x80FD;&amp;#x4F1A;&amp;#x4F5C;&amp;#x4E3A;&lt;code&gt;Http&lt;/code&gt;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&lt;code&gt;body&lt;/code&gt;&amp;#x3002;&amp;#x8FD9;&amp;#x65F6;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;@Body&lt;/code&gt;&amp;#x6CE8;&amp;#x91CA;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@POST(&amp;quot;users/new&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Call&amp;lt;User&amp;gt; createUser(@Body User user);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x4E2A;&amp;#x5BF9;&amp;#x8C61;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x7684;&lt;code&gt;converter&lt;/code&gt;&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x7279;&amp;#x6B8A;&amp;#x7684;&amp;#x8F6C;&amp;#x5316;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x6CA1;&amp;#x6709;&amp;#x6DFB;&amp;#x52A0;&lt;code&gt;converter&lt;/code&gt;&amp;#x5B83;&amp;#x5C06;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;RequestBody&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;FormUrlEncoded-And-Multipart&quot;&gt;&lt;a href=&quot;#FormUrlEncoded-And-Multipart&quot; class=&quot;headerlink&quot; title=&quot;FormUrlEncoded And Multipart&quot;&gt;&lt;/a&gt;FormUrlEncoded And Multipart&lt;/h2&gt;&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x63A5;&amp;#x53E3;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x53D1;&amp;#x9001;&lt;code&gt;form-encoded&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;multipart&lt;/code&gt;&amp;#x6570;&amp;#x636E;&amp;#x7C7B;&amp;#x578B;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;Field-And-FiledMap&quot;&gt;&lt;a href=&quot;#Field-And-FiledMap&quot; class=&quot;headerlink&quot; title=&quot;Field And FiledMap&quot;&gt;&lt;/a&gt;Field And FiledMap&lt;/h3&gt;&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&lt;code&gt;form-encoded&lt;/code&gt;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x7C7B;&amp;#x578B;&amp;#xFF0C;&amp;#x4E00;&amp;#x822C;&lt;code&gt;Content-type&lt;/code&gt;&amp;#x4E3A;&lt;code&gt;x-www-form-urlencoded&lt;/code&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;@FormUrlEncoded&lt;/code&gt;&amp;#x6765;&amp;#x5BF9;&amp;#x65B9;&amp;#x6CD5;&amp;#x8FDB;&amp;#x884C;&amp;#x6CE8;&amp;#x91CA;&amp;#x8BF4;&amp;#x660E;&amp;#xFF0C;&amp;#x6BCF;&amp;#x4E00;&amp;#x5BF9;&amp;#x7684;&lt;code&gt;key-value&lt;/code&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;@Field&lt;/code&gt;&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x5B9A;&amp;#x4E49;&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x63D0;&amp;#x4F9B;&lt;code&gt;key&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;value&lt;/code&gt;&amp;#x3002;&amp;#x5BF9;&amp;#x4E8E;&amp;#x591A;&amp;#x5BF9;&amp;#x6570;&amp;#x636E;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;@FieldMap&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x7EDF;&amp;#x4E00;&amp;#x8BBE;&amp;#x7F6E;,&amp;#x4F7F;&amp;#x7528;&amp;#x4E0E;&lt;code&gt;@QueryMap&lt;/code&gt;&amp;#x7C7B;&amp;#x4F3C;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@FormUrlEncoded&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;@POST(&amp;quot;user/edit&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Call&amp;lt;User&amp;gt; updateUser(@Field(&amp;quot;first_name&amp;quot;) String first, @Field(&amp;quot;last_name&amp;quot;) String last);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x6709;&amp;#x591A;&amp;#x4E2A;&amp;#x76F8;&amp;#x540C;&amp;#x7684;&amp;#x5B57;&amp;#x6BB5;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x6570;&amp;#x7EC4;&amp;#x6765;&amp;#x5B9A;&amp;#x4E49;&amp;#x5B57;&amp;#x6BB5;&amp;#x7684;&amp;#x503C;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@FormUrlEncoded&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;@POST(&amp;quot;tasks&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Call&amp;lt;List&amp;lt;Task&amp;gt;&amp;gt; createTasks(@Field(&amp;quot;title&amp;quot;) List&amp;lt;String&amp;gt; titles);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;FromUrlEncoded&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;Query Parameter&lt;/code&gt;&amp;#x7684;&amp;#x4E3B;&amp;#x8981;&amp;#x533A;&amp;#x522B;&amp;#x662F;&amp;#xFF0C;&amp;#x524D;&amp;#x8005;&amp;#x662F;&lt;code&gt;POST&lt;/code&gt;&amp;#x540E;&amp;#x8005;&amp;#x662F;&lt;code&gt;GET&lt;/code&gt;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x524D;&amp;#x8005;&amp;#x7684;&amp;#x8BF7;&amp;#x6C42;&amp;#x6570;&amp;#x636E;&amp;#x662F;&amp;#x653E;&amp;#x5728;&lt;code&gt;request body&lt;/code&gt;&amp;#x4E2D;&amp;#xFF0C;&amp;#x800C;&amp;#x540E;&amp;#x8005;&amp;#x662F;&amp;#x653E;&amp;#x5728;&lt;code&gt;url&lt;/code&gt;&amp;#x4E2D;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;Part-And-PartMap&quot;&gt;&lt;a href=&quot;#Part-And-PartMap&quot; class=&quot;headerlink&quot; title=&quot;Part And PartMap&quot;&gt;&lt;/a&gt;Part And PartMap&lt;/h3&gt;&lt;p&gt;&amp;#x9700;&amp;#x8981;&lt;code&gt;Multipart&lt;/code&gt;&amp;#x8BF7;&amp;#x6C42;&amp;#x65F6;&amp;#x5373;&amp;#x4E0A;&amp;#x4F20;&amp;#x6587;&amp;#x4EF6;&amp;#x65F6;&amp;#xFF0C;&amp;#x4E00;&amp;#x822C;&lt;code&gt;Content-type&lt;/code&gt;&amp;#x4E3A;&lt;code&gt;multipart/form-data&lt;/code&gt;,&amp;#x53EA;&amp;#x8981;&amp;#x5728;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E0A;&amp;#x9762;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;@Multipart&lt;/code&gt;&amp;#x6CE8;&amp;#x91CA;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x5BF9;&amp;#x4E8E;&lt;code&gt;Parts&lt;/code&gt;&amp;#x90E8;&amp;#x5206;&amp;#x7684;&amp;#x5B9A;&amp;#x4E49;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;@Part&lt;/code&gt;&amp;#x6CE8;&amp;#x91CA;&amp;#xFF0C;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&lt;code&gt;@PartMap&lt;/code&gt;&amp;#x4E5F;&amp;#x5B58;&amp;#x5728;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Multipart&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;@PUT(&amp;quot;user/photo&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Call&amp;lt;User&amp;gt; updateUser(@Part(&amp;quot;photo&amp;quot;) RequestBody photo, &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;				 @Part(&amp;quot;description&amp;quot;) RequestBody description);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;Multipart&lt;/code&gt;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4E5F;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;RequestBody&lt;/code&gt;&amp;#x64CD;&amp;#x4F5C;&amp;#x5B83;&amp;#x7684;&amp;#x5E8F;&amp;#x5217;&amp;#x5316;&amp;#xFF0C;&amp;#x6216;&amp;#x8005;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;converter&lt;/code&gt;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;Headers-And-Header&quot;&gt;&lt;a href=&quot;#Headers-And-Header&quot; class=&quot;headerlink&quot; title=&quot;Headers And Header&quot;&gt;&lt;/a&gt;Headers And Header&lt;/h2&gt;&lt;p&gt;&lt;code&gt;@Headers&lt;/code&gt;&amp;#x6CE8;&amp;#x91CA;&amp;#x662F;&amp;#x4E3A;&amp;#x65B9;&amp;#x6CD5;&amp;#x6DFB;&amp;#x52A0;&amp;#x9759;&amp;#x6001;&amp;#x7684;&lt;code&gt;headers&lt;/code&gt;&amp;#xFF0C;&amp;#x4E14;&amp;#x76F8;&amp;#x540C;&amp;#x7684;&lt;code&gt;name&lt;/code&gt;&amp;#x4E0D;&amp;#x4F1A;&amp;#x88AB;&amp;#x8986;&amp;#x76D6;&amp;#xFF0C;&amp;#x90FD;&amp;#x4F1A;&amp;#x5305;&amp;#x542B;&amp;#x5230;&amp;#x8BF7;&amp;#x6C42;&amp;#x4E2D;;&amp;#x800C;&lt;code&gt;@Header&lt;/code&gt;&amp;#x6CE8;&amp;#x91CA;&amp;#x662F;&amp;#x4E3A;&amp;#x65B9;&amp;#x6CD5;&amp;#x6DFB;&amp;#x52A0;&amp;#x52A8;&amp;#x6001;&amp;#x7684;&lt;code&gt;header&lt;/code&gt;,&amp;#x5B83;&amp;#x5C06;&amp;#x4F1A;&amp;#x76F8;&amp;#x5F53;&amp;#x4E0E;&amp;#x53C2;&amp;#x6570;&amp;#x6765;&amp;#x5BF9;&lt;code&gt;@Header&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x63D0;&amp;#x4F9B;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x8FD9;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#x7684;&amp;#x503C;&amp;#x4E3A;&lt;code&gt;null&lt;/code&gt;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5B83;&amp;#x5C06;&amp;#x4F1A;&amp;#x88AB;&amp;#x5FFD;&amp;#x7565;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Headers({&amp;quot;Connection: keep-alive&amp;quot;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;quot;Accept-Language:zh-CN,zh;q=0.8,en;q=0.6&amp;quot;})&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @GET(&amp;quot;/settings&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Call&amp;lt;String&amp;gt; settingService(@Header(&amp;quot;Cookie&amp;quot;) String cookie);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x662F;&amp;#x6700;&amp;#x65B0;&amp;#x7248;&amp;#x672C;&amp;#x7684;&lt;code&gt;Retrofit2.1&lt;/code&gt;,&amp;#x4E5F;&amp;#x652F;&amp;#x6301;&lt;code&gt;@HeaderMap&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;&amp;#x793A;&amp;#x4F8B;-1&quot;&gt;&lt;a href=&quot;#&amp;#x793A;&amp;#x4F8B;-1&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x793A;&amp;#x4F8B;&quot;&gt;&lt;/a&gt;&amp;#x793A;&amp;#x4F8B;&lt;/h2&gt;&lt;p&gt;&amp;#x518D;&amp;#x6765;&amp;#x8D34;&amp;#x4E00;&amp;#x4E2A;&amp;#x591A;&amp;#x8BF4;&amp;#x6587;&amp;#x7AE0;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x5B8C;&amp;#x6574;&amp;#x793A;&amp;#x4F8B;&amp;#xFF0C;&amp;#x5148;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x9700;&amp;#x8981;&amp;#x8BF7;&amp;#x6C42;&amp;#x793A;&amp;#x4F8B;&amp;#x8D44;&amp;#x6E90;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/11/15/&amp;#x5E26;&amp;#x4F60;&amp;#x8D70;&amp;#x8FDB;Retrofit&amp;#x7684;&amp;#x65B0;&amp;#x4E16;&amp;#x754C;/1.png&quot; alt=&quot;General&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/11/15/&amp;#x5E26;&amp;#x4F60;&amp;#x8D70;&amp;#x8FDB;Retrofit&amp;#x7684;&amp;#x65B0;&amp;#x4E16;&amp;#x754C;/2.png&quot; alt=&quot;Query String Parameters&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x76F8;&amp;#x4FE1;&amp;#x5E94;&amp;#x8BE5;&amp;#x5F88;&amp;#x6E05;&amp;#x695A;&amp;#x4E86;&amp;#xFF0C;&amp;#x8BF7;&amp;#x6C42;&amp;#x65B9;&amp;#x5F0F;&amp;#x4E3A;&lt;code&gt;GET&lt;/code&gt;&amp;#xFF0C;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&lt;code&gt;Url&lt;/code&gt;&amp;#x4E3A;&lt;code&gt;http://idisfkj.duoshuo.com/api/threads/list.json?short_name=idisfkj&amp;amp;order=desc&amp;amp;limit=30&amp;amp;nonce=57f1b19209428&lt;/code&gt;,&amp;#x8BF7;&amp;#x6C42;&amp;#x67E5;&amp;#x8BE2;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&amp;#x4E3A;&lt;code&gt;short_name&lt;/code&gt;&amp;#x3001;&lt;code&gt;order&lt;/code&gt;&amp;#x3001;&lt;code&gt;limit&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;nonce&lt;/code&gt;&amp;#xFF0C;&lt;code&gt;Ok&lt;/code&gt;&amp;#x9700;&amp;#x8981;&amp;#x77E5;&amp;#x9053;&amp;#x7684;&amp;#x90FD;&amp;#x6709;&amp;#x4E86;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x6765;&lt;code&gt;code&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public interface DuoShuoArticleService {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @GET(&amp;quot;/api/threads/list.json&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Call&amp;lt;DuoShuoArticle&amp;gt; articleService(@Query(&amp;quot;short_name&amp;quot;) String shortName,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                        @Query(&amp;quot;order&amp;quot;) String order,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                        @Query(&amp;quot;limit&amp;quot;) int limit,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                        @Query(&amp;quot;nonce&amp;quot;) String onnce);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @GET(&amp;quot;/api/threads/list.json&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Call&amp;lt;DuoShuoArticle&amp;gt; articleServiceMap(@Query(&amp;quot;limit&amp;quot;) int limit,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                           @QueryMap Map&amp;lt;String, String&amp;gt; options);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;   /**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * get &amp;#x5BF9;url&amp;#x7684;&amp;#x4F20;&amp;#x53C2;&amp;#x67E5;&amp;#x8BE2;&amp;#x53D1;&amp;#x8D77;&amp;#x8BF7;&amp;#x6C42; &amp;#x8FD4;&amp;#x56DE;json&amp;#x7C7B;&amp;#x578B;&amp;#x7684;response&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public void getDuoShuoArticle() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Retrofit retrofit = new Retrofit.Builder()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                .baseUrl(&amp;quot;http://idisfkj.duoshuo.com&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                .addConverterFactory(GsonConverterFactory.create())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                .build();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        DuoShuoArticleService articleService = retrofit.create(DuoShuoArticleService.class);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Call&amp;lt;DuoShuoArticle&amp;gt; call = articleService.articleService(&amp;quot;idisfkj&amp;quot;, &amp;quot;desc&amp;quot;, 5, &amp;quot;57f1b19209428&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x4F7F;&amp;#x7528;QueryMap&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//                Map&amp;lt;String,String&amp;gt; map = new HashMap&amp;lt;String, String&amp;gt;();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//                map.put(&amp;quot;short_name&amp;quot;,&amp;quot;idisfkj&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//                map.put(&amp;quot;order&amp;quot;,&amp;quot;desc&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//                map.put(&amp;quot;nonce&amp;quot;,&amp;quot;57f1b19209428&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//                Call&amp;lt;DuoShuoArticle&amp;gt; call = articleService.articleServiceMap(5,map);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            Response&amp;lt;DuoShuoArticle&amp;gt; response = call.execute();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            List&amp;lt;DuoShuoArticle.ResponseBean&amp;gt; list = response.body().getResponse();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            for (DuoShuoArticle.ResponseBean responseBean : list) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Log.v(&amp;quot;TAG&amp;quot;, responseBean.getThread_key() + &amp;quot;-&amp;gt;&amp;quot; + responseBean.getTitle());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } catch (IOException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            e.printStackTrace();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;11-16 02:09:43.989 2061-2079/? V/TAG: duoshuo-&amp;gt;&amp;#x5E26;&amp;#x4F60;&amp;#x8D70;&amp;#x8FDB;Retrofit&amp;#x7684;&amp;#x65B0;&amp;#x4E16;&amp;#x754C;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11-16 02:09:43.989 2061-2079/? V/TAG: duoshuo-&amp;gt;Android &amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;View&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11-16 02:09:43.989 2061-2079/? V/TAG: duoshuo-&amp;gt;Android Handler&amp;#x3001;Looper&amp;#x4E0E;MessageQueue&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11-16 02:09:43.989 2061-2079/? V/TAG: duoshuo-&amp;gt;Android Volley&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;(&amp;#x4E8C;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11-16 02:09:43.989 2061-2079/? V/TAG: duoshuo-&amp;gt;Android Volley&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;(&amp;#x4E00;)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x770B;&amp;#x5230;&amp;#x8FD9;&amp;#x91CC;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x606D;&amp;#x559C;&amp;#x4F60;&amp;#x5BF9;&lt;code&gt;Retrofit&lt;/code&gt;&amp;#x4E5F;&amp;#x5165;&amp;#x95E8;&amp;#x4E86;&amp;#xFF0C;&amp;#x540E;&amp;#x7EED;&amp;#x6211;&amp;#x8FD8;&amp;#x4F1A;&amp;#x7EE7;&amp;#x7EED;&amp;#x63A2;&amp;#x7A76;&amp;#x4E0E;&amp;#x5927;&amp;#x5BB6;&amp;#x8FDB;&amp;#x884C;&amp;#x5206;&amp;#x4EAB;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&lt;code&gt;Android&lt;/code&gt;&amp;#x6765;&amp;#x8BF4;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x6709;&amp;#x5F88;&amp;#x591A;&amp;#xFF
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="retrofit" scheme="https://idisfkj.github.io/tags/retrofit/"/>
    
  </entry>
  
  <entry>
    <title>Android 自定义View</title>
    <link href="https://idisfkj.github.io/2016/11/13/Android-%E8%87%AA%E5%AE%9A%E4%B9%89View/"/>
    <id>https://idisfkj.github.io/2016/11/13/Android-自定义View/</id>
    <published>2016-11-13T12:43:15.000Z</published>
    <updated>2016-11-14T07:48:17.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h1&gt;&lt;p&gt;&lt;code&gt;Android&lt;/code&gt;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&lt;code&gt;View&lt;/code&gt;&amp;#x7684;&amp;#x8BE6;&amp;#x7EC6;&amp;#x6B65;&amp;#x9AA4;&amp;#x662F;&amp;#x6211;&amp;#x4EEC;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;Android&lt;/code&gt;&amp;#x5F00;&amp;#x53D1;&amp;#x4EBA;&amp;#x5458;&amp;#x90FD;&amp;#x5FC5;&amp;#x987B;&amp;#x638C;&amp;#x63E1;&amp;#x7684;&amp;#x6280;&amp;#x80FD;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x5728;&amp;#x5F00;&amp;#x53D1;&amp;#x4E2D;&amp;#x603B;&amp;#x4F1A;&amp;#x9047;&amp;#x5230;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&lt;code&gt;View&lt;/code&gt;&amp;#x7684;&amp;#x9700;&amp;#x6C42;&amp;#x3002;&amp;#x4E3A;&amp;#x4E86;&amp;#x63D0;&amp;#x9AD8;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;&amp;#x6280;&amp;#x672F;&amp;#x6C34;&amp;#x5E73;&amp;#xFF0C;&amp;#x81EA;&amp;#x5DF1;&amp;#x5C31;&amp;#x7CFB;&amp;#x7EDF;&amp;#x7684;&amp;#x53BB;&amp;#x7814;&amp;#x7A76;&amp;#x4E86;&amp;#x4E00;&amp;#x4E0B;&amp;#xFF0C;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&amp;#x5199;&amp;#x4E0B;&amp;#x4E00;&amp;#x70B9;&amp;#x5FC3;&amp;#x5F97;&amp;#xFF0C;&amp;#x6709;&amp;#x4E0D;&amp;#x8DB3;&amp;#x4E4B;&amp;#x5904;&amp;#x5E0C;&amp;#x671B;&amp;#x5927;&amp;#x5BB6;&amp;#x53CA;&amp;#x65F6;&amp;#x6307;&amp;#x51FA;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x6D41;&amp;#x7A0B;&quot;&gt;&lt;a href=&quot;#&amp;#x6D41;&amp;#x7A0B;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6D41;&amp;#x7A0B;&quot;&gt;&lt;/a&gt;&amp;#x6D41;&amp;#x7A0B;&lt;/h1&gt;&lt;p&gt;&amp;#x5728;&lt;code&gt;Android&lt;/code&gt;&amp;#x4E2D;&amp;#x5BF9;&amp;#x4E8E;&amp;#x5E03;&amp;#x5C40;&amp;#x7684;&amp;#x8BF7;&amp;#x6C42;&amp;#x7ED8;&amp;#x5236;&amp;#x662F;&amp;#x5728;&lt;code&gt;Android framework&lt;/code&gt;&amp;#x5C42;&amp;#x5F00;&amp;#x59CB;&amp;#x5904;&amp;#x7406;&amp;#x7684;&amp;#x3002;&amp;#x7ED8;&amp;#x5236;&amp;#x662F;&amp;#x4ECE;&amp;#x6839;&amp;#x8282;&amp;#x70B9;&amp;#x5F00;&amp;#x59CB;&amp;#xFF0C;&amp;#x5BF9;&amp;#x5E03;&amp;#x5C40;&amp;#x6811;&amp;#x8FDB;&amp;#x884C;&lt;code&gt;measure&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;draw&lt;/code&gt;&amp;#x3002;&amp;#x5728;&lt;code&gt;RootViewImpl&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;performTraversals&lt;/code&gt;&amp;#x5C55;&amp;#x5F00;&amp;#x3002;&amp;#x5B83;&amp;#x6240;&amp;#x505A;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&amp;#x5BF9;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x89C6;&amp;#x56FE;&amp;#x8FDB;&amp;#x884C;&lt;code&gt;measure&lt;/code&gt;&amp;#xFF08;&amp;#x6D4B;&amp;#x91CF;&amp;#x89C6;&amp;#x56FE;&amp;#x5927;&amp;#x5C0F;&amp;#xFF09;&amp;#x3001;&lt;code&gt;layout&lt;/code&gt;&amp;#xFF08;&amp;#x786E;&amp;#x5B9A;&amp;#x89C6;&amp;#x56FE;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#xFF09;&amp;#x4E0E;&lt;code&gt;draw&lt;/code&gt;&amp;#xFF08;&amp;#x7ED8;&amp;#x5236;&amp;#x89C6;&amp;#x56FE;&amp;#xFF09;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x7684;&amp;#x56FE;&amp;#x80FD;&amp;#x5F88;&amp;#x597D;&amp;#x7684;&amp;#x5C55;&amp;#x73B0;&amp;#x89C6;&amp;#x56FE;&amp;#x7684;&amp;#x7ED8;&amp;#x5236;&amp;#x6D41;&amp;#x7A0B;&amp;#xFF1A;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/android-cn/android-open-project-analysis/master/tech/viewdrawflow/image/view_draw_method_chain.png&quot; alt=&quot;View&amp;#x7684;&amp;#x7ED8;&amp;#x5236;&amp;#x6D41;&amp;#x7A0B;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x5F53;&amp;#x7528;&amp;#x6237;&amp;#x8C03;&amp;#x7528;&lt;code&gt;requestLayout&lt;/code&gt;&amp;#x65F6;&amp;#xFF0C;&amp;#x53EA;&amp;#x4F1A;&amp;#x89E6;&amp;#x53D1;&lt;code&gt;measure&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;layout&lt;/code&gt;&amp;#xFF0C;&amp;#x4F46;&amp;#x7CFB;&amp;#x7EDF;&amp;#x5F00;&amp;#x59CB;&amp;#x8C03;&amp;#x7528;&amp;#x65F6;&amp;#x8FD8;&amp;#x4F1A;&amp;#x89E6;&amp;#x53D1;&lt;code&gt;draw&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x6765;&amp;#x8BE6;&amp;#x7EC6;&amp;#x4ECB;&amp;#x7ECD;&amp;#x8FD9;&amp;#x51E0;&amp;#x4E2A;&amp;#x6D41;&amp;#x7A0B;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;measure&quot;&gt;&lt;a href=&quot;#measure&quot; class=&quot;headerlink&quot; title=&quot;measure&quot;&gt;&lt;/a&gt;measure&lt;/h2&gt;&lt;p&gt;&lt;code&gt;measure&lt;/code&gt;&amp;#x662F;&lt;code&gt;View&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;final&lt;/code&gt;&amp;#x578B;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E0D;&amp;#x53EF;&amp;#x4EE5;&amp;#x8FDB;&amp;#x884C;&amp;#x91CD;&amp;#x5199;&amp;#x3002;&amp;#x5B83;&amp;#x662F;&amp;#x5BF9;&amp;#x89C6;&amp;#x56FE;&amp;#x7684;&amp;#x5927;&amp;#x5C0F;&amp;#x8FDB;&amp;#x884C;&amp;#x6D4B;&amp;#x91CF;&amp;#x8BA1;&amp;#x7B97;&amp;#xFF0C;&amp;#x4F46;&amp;#x5B83;&amp;#x4F1A;&amp;#x56DE;&amp;#x8C03;&lt;code&gt;onMeasure&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&lt;code&gt;View&lt;/code&gt;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x53EF;&amp;#x4EE5;&amp;#x91CD;&amp;#x5199;&lt;code&gt;onMeasure&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x5BF9;&lt;code&gt;View&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x6211;&amp;#x4EEC;&amp;#x6240;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x6D4B;&amp;#x91CF;&amp;#x3002;&amp;#x5B83;&amp;#x6709;&amp;#x4E24;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&lt;code&gt;widthMeasureSpec&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;heightMeasureSpec&lt;/code&gt;&amp;#x3002;&amp;#x5176;&amp;#x5B9E;&amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#x90FD;&amp;#x5305;&amp;#x542B;&amp;#x4E24;&amp;#x90E8;&amp;#x5206;&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;&lt;code&gt;size&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;mode&lt;/code&gt;&amp;#x3002;&lt;code&gt;size&lt;/code&gt;&amp;#x4E3A;&amp;#x6D4B;&amp;#x91CF;&amp;#x7684;&amp;#x5927;&amp;#x5C0F;&amp;#x800C;&lt;code&gt;mode&lt;/code&gt;&amp;#x4E3A;&amp;#x89C6;&amp;#x56FE;&amp;#x5E03;&amp;#x5C40;&amp;#x7684;&amp;#x6A21;&amp;#x5F0F;&lt;br&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x4EE5;&amp;#x4E0B;&amp;#x4EE3;&amp;#x7801;&amp;#x5206;&amp;#x522B;&amp;#x83B7;&amp;#x53D6;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;int widthSize = MeasureSpec.getSize(widthMeasureSpec);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;int heightSize = MeasureSpec.getSize(heightMeasureSpec);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;int widthMode = MeasureSpec.getMode(widthMeasureSpec);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;int heightMode = MeasureSpec.getMode(heightMeasureSpec);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x7684;&lt;code&gt;mode&lt;/code&gt;&amp;#x79CD;&amp;#x7C7B;&amp;#x5206;&amp;#x4E3A;&amp;#x4EE5;&amp;#x4E0B;&amp;#x4E09;&amp;#x79CD;&amp;#xFF1A;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;MODE&lt;/th&gt;
&lt;th&gt;EXPLAIN&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;UNSPECIFiED&lt;/td&gt;
&lt;td&gt;&amp;#x7236;&amp;#x89C6;&amp;#x56FE;&amp;#x4E0D;&amp;#x5BF9;&amp;#x5B50;&amp;#x89C6;&amp;#x56FE;&amp;#x8FDB;&amp;#x884C;&amp;#x7EA6;&amp;#x675F;&amp;#xFF0C;&amp;#x5B50;&amp;#x89C6;&amp;#x56FE;&amp;#x5927;&amp;#x5C0F;&amp;#x53EF;&amp;#x4EE5;&amp;#x662F;&amp;#x4EFB;&amp;#x610F;&amp;#x5927;&amp;#x5C0F;&amp;#xFF0C;&amp;#x4E00;&amp;#x822C;&amp;#x662F;&amp;#x5BF9;&lt;code&gt;ListView&lt;/code&gt;&amp;#x3001;&lt;code&gt;ScrollView&lt;/code&gt;&amp;#x7B49;&amp;#x8FDB;&amp;#x884C;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#xFF0C;&amp;#x4E00;&amp;#x822C;&amp;#x7528;&amp;#x4E0D;&amp;#x5230;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;EXACTLY&lt;/td&gt;
&lt;td&gt;&amp;#x7236;&amp;#x89C6;&amp;#x56FE;&amp;#x5BF9;&amp;#x5B50;&amp;#x89C6;&amp;#x56FE;&amp;#x8BBE;&amp;#x5B9A;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&amp;#x7CBE;&amp;#x786E;&amp;#x7684;&amp;#x5C3A;&amp;#x5BF8;&amp;#xFF0C;&amp;#x5B50;&amp;#x89C6;&amp;#x56FE;&amp;#x4E0D;&amp;#x8D85;&amp;#x8FC7;&amp;#x8BE5;&amp;#x5C3A;&amp;#x5BF8;&amp;#xFF0C;&amp;#x4E00;&amp;#x822C;&amp;#x4E3A;&amp;#x7CBE;&amp;#x786E;&amp;#x7684;&amp;#x503C;&amp;#x4F8B;&amp;#x5982;&lt;code&gt;200dp&lt;/code&gt;&amp;#x6216;&amp;#x8005;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;&lt;code&gt;match_parent&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;AT_MOST&lt;/td&gt;
&lt;td&gt;&amp;#x7236;&amp;#x89C6;&amp;#x56FE;&amp;#x5BF9;&amp;#x5B50;&amp;#x89C6;&amp;#x56FE;&amp;#x6307;&amp;#x5B9A;&amp;#x4E86;&amp;#x4E00;&amp;#x6700;&amp;#x5927;&amp;#x7684;&amp;#x5C3A;&amp;#x5BF8;&amp;#xFF0C;&amp;#x786E;&amp;#x4FDD;&amp;#x5B50;&amp;#x89C6;&amp;#x56FE;&amp;#x7684;&amp;#x6240;&amp;#x4EE5;&amp;#x5185;&amp;#x5BB9;&amp;#x90FD;&amp;#x521A;&amp;#x597D;&amp;#x80FD;&amp;#x5728;&amp;#x8BE5;&amp;#x5C3A;&amp;#x5BF8;&amp;#x4E2D;&amp;#x663E;&amp;#x793A;&amp;#x51FA;&amp;#x6765;&amp;#xFF0C;&amp;#x4E00;&amp;#x822C;&amp;#x4E3A;&lt;code&gt;wrap_content&lt;/code&gt;,&amp;#x8FD9;&amp;#x79CD;&amp;#x7236;&amp;#x89C6;&amp;#x56FE;&amp;#x4E0D;&amp;#x80FD;&amp;#x83B7;&amp;#x53D6;&amp;#x5B50;&amp;#x89C6;&amp;#x56FE;&amp;#x7684;&amp;#x5927;&amp;#x5C0F;&amp;#xFF0C;&amp;#x53EA;&amp;#x80FD;&amp;#x7531;&amp;#x5B50;&amp;#x89C6;&amp;#x56FE;&amp;#x81EA;&amp;#x5DF1;&amp;#x53BB;&amp;#x8BA1;&amp;#x7B97;&amp;#x5C3A;&amp;#x5BF8;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E5F;&amp;#x662F;&amp;#x6211;&amp;#x4EEC;&amp;#x6D4B;&amp;#x91CF;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&amp;#x7684;&amp;#x903B;&amp;#x8F91;&amp;#x60C5;&amp;#x51B5;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&quot;setMeasuredDimension&quot;&gt;&lt;a href=&quot;#setMeasuredDimension&quot; class=&quot;headerlink&quot; title=&quot;setMeasuredDimension&quot;&gt;&lt;/a&gt;setMeasuredDimension&lt;/h3&gt;&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x4EE5;&amp;#x4E0A;&amp;#x903B;&amp;#x8F91;&amp;#x83B7;&amp;#x53D6;&amp;#x89C6;&amp;#x56FE;&amp;#x7684;&amp;#x5BBD;&amp;#x9AD8;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x8981;&amp;#x8C03;&amp;#x7528;&lt;code&gt;setMeasuredDimension&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x5C06;&amp;#x6D4B;&amp;#x91CF;&amp;#x597D;&amp;#x7684;&amp;#x5BBD;&amp;#x9AD8;&amp;#x8FDB;&amp;#x884C;&amp;#x4F20;&amp;#x9012;&amp;#x51FA;&amp;#x53BB;&amp;#x3002;&amp;#x5176;&amp;#x5B9E;&amp;#x6700;&amp;#x7EC8;&amp;#x662F;&amp;#x8C03;&amp;#x7528;&lt;code&gt;setMeasuredDimensionRaw&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x5BF9;&amp;#x4F20;&amp;#x8FC7;&amp;#x6765;&amp;#x7684;&amp;#x503C;&amp;#x8FDB;&amp;#x884C;&amp;#x5C5E;&amp;#x6027;&amp;#x8D4B;&amp;#x503C;&amp;#x3002;&amp;#x8C03;&amp;#x7528;&lt;code&gt;super.onMeasure()&lt;/code&gt;&amp;#x7684;&amp;#x8C03;&amp;#x7528;&amp;#x903B;&amp;#x8F91;&amp;#x4E5F;&amp;#x662F;&amp;#x4E00;&amp;#x6837;&amp;#x7684;&amp;#x3002;&lt;br&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x4EE5;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;&amp;#x9A8C;&amp;#x8BC1;&amp;#x7801;&amp;#x7684;View&lt;/code&gt;&amp;#x4E3A;&amp;#x4F8B;&amp;#xFF0C;&amp;#x5B83;&amp;#x7684;&lt;code&gt;onMeasure&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int widthSize = MeasureSpec.getSize(widthMeasureSpec);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int heightSize = MeasureSpec.getSize(heightMeasureSpec);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int widthMode = MeasureSpec.getMode(widthMeasureSpec);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int heightMode = MeasureSpec.getMode(heightMeasureSpec);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (widthMode == MeasureSpec.EXACTLY) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            //&amp;#x76F4;&amp;#x63A5;&amp;#x83B7;&amp;#x53D6;&amp;#x7CBE;&amp;#x786E;&amp;#x7684;&amp;#x5BBD;&amp;#x5EA6;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            width = widthSize;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } else if (widthMode == MeasureSpec.AT_MOST) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            //&amp;#x8BA1;&amp;#x7B97;&amp;#x51FA;&amp;#x5BBD;&amp;#x5EA6;(&amp;#x6587;&amp;#x672C;&amp;#x7684;&amp;#x5BBD;&amp;#x5EA6;+padding&amp;#x7684;&amp;#x5927;&amp;#x5C0F;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            width = bounds.width() + getPaddingLeft() + getPaddingRight();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (heightMode == MeasureSpec.EXACTLY) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            //&amp;#x76F4;&amp;#x63A5;&amp;#x83B7;&amp;#x53D6;&amp;#x7CBE;&amp;#x786E;&amp;#x7684;&amp;#x9AD8;&amp;#x5EA6;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            height = heightSize;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } else if (heightMode == MeasureSpec.AT_MOST) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            //&amp;#x8BA1;&amp;#x7B97;&amp;#x51FA;&amp;#x9AD8;&amp;#x5EA6;(&amp;#x6587;&amp;#x672C;&amp;#x7684;&amp;#x9AD8;&amp;#x5EA6;+padding&amp;#x7684;&amp;#x5927;&amp;#x5C0F;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            height = bounds.height() + getPaddingBottom() + getPaddingTop();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x8BBE;&amp;#x7F6E;&amp;#x83B7;&amp;#x53D6;&amp;#x7684;&amp;#x5BBD;&amp;#x9AD8;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        setMeasuredDimension(width, height);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x5BF9;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&lt;code&gt;View&lt;/code&gt;&amp;#x7684;&lt;code&gt;layout_width&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;layout_height&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x5C5E;&amp;#x6027;&amp;#xFF0C;&amp;#x8FBE;&amp;#x5230;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&lt;code&gt;mode&lt;/code&gt;&amp;#x7C7B;&amp;#x578B;&amp;#xFF0C;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x770B;&amp;#x5230;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x6548;&amp;#x679C;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;measureChildren&quot;&gt;&lt;a href=&quot;#measureChildren&quot; class=&quot;headerlink&quot; title=&quot;measureChildren&quot;&gt;&lt;/a&gt;measureChildren&lt;/h3&gt;&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x662F;&amp;#x5BF9;&amp;#x7EE7;&amp;#x627F;&lt;code&gt;ViewGroup&lt;/code&gt;&amp;#x7684;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&lt;code&gt;View&lt;/code&gt;&amp;#x90A3;&amp;#x4E48;&amp;#x5728;&amp;#x8FDB;&amp;#x884C;&amp;#x6D4B;&amp;#x91CF;&amp;#x81EA;&amp;#x8EAB;&amp;#x7684;&amp;#x5927;&amp;#x5C0F;&amp;#x65F6;&amp;#x8FD8;&amp;#x8981;&amp;#x6D4B;&amp;#x91CF;&amp;#x5B50;&amp;#x89C6;&amp;#x56FE;&amp;#x7684;&amp;#x5927;&amp;#x5C0F;&amp;#x3002;&amp;#x4E00;&amp;#x822C;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;measureChildren(int widthMeasureSpec, int heightMeasureSpec)&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x6D4B;&amp;#x91CF;&amp;#x5B50;&amp;#x89C6;&amp;#x56FE;&amp;#x7684;&amp;#x5927;&amp;#x5C0F;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;protected void measureChildren(int widthMeasureSpec, int heightMeasureSpec) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        final int size = mChildrenCount;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        final View[] children = mChildren;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        for (int i = 0; i &amp;lt; size; ++i) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            final View child = children[i];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if ((child.mViewFlags &amp;amp; VISIBILITY_MASK) != GONE) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                measureChild(child, widthMeasureSpec, heightMeasureSpec);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;&amp;#xFF0C;&amp;#x5B83;&amp;#x5176;&amp;#x5B9E;&amp;#x662F;&amp;#x904D;&amp;#x5386;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&amp;#x5B50;&amp;#x89C6;&amp;#x56FE;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x8BE5;&amp;#x5B50;&amp;#x89C6;&amp;#x56FE;&amp;#x4E0D;&amp;#x662F;&amp;#x9690;&amp;#x85CF;&amp;#x7684;&amp;#x5C31;&amp;#x8C03;&amp;#x7528;&lt;code&gt;measureChild&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&lt;code&gt;measureChild&lt;/code&gt;&amp;#x6E90;&amp;#x7801;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;protected void measureChild(View child, int parentWidthMeasureSpec,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            int parentHeightMeasureSpec) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        final LayoutParams lp = child.getLayoutParams();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        final int childWidthMeasureSpec = getChildMeasureSpec(parentWidthMeasureSpec,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mPaddingLeft + mPaddingRight, lp.width);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        final int childHeightMeasureSpec = getChildMeasureSpec(parentHeightMeasureSpec,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mPaddingTop + mPaddingBottom, lp.height);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        child.measure(childWidthMeasureSpec, childHeightMeasureSpec);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;&amp;#x5B83;&amp;#x9996;&amp;#x5148;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;&lt;code&gt;getChildMeasureSpec&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x5206;&amp;#x522B;&amp;#x83B7;&amp;#x53D6;&amp;#x5BBD;&amp;#x9AD8;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x518D;&amp;#x8C03;&amp;#x7528;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&lt;code&gt;View&lt;/code&gt;&amp;#x7684;&lt;code&gt;measure&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x800C;&amp;#x901A;&amp;#x8FC7;&amp;#x524D;&amp;#x9762;&amp;#x7684;&amp;#x5206;&amp;#x6790;&amp;#x6211;&amp;#x4EEC;&amp;#x5DF2;&amp;#x7ECF;&amp;#x77E5;&amp;#x9053;&amp;#x5B83;&amp;#x505A;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&amp;#x5BF9;&amp;#x89C6;&amp;#x56FE;&amp;#x5927;&amp;#x5C0F;&amp;#x7684;&amp;#x8BA1;&amp;#x7B97;&amp;#x3002;&amp;#x800C;&amp;#x5BF9;&amp;#x4E8E;&lt;code&gt;measure&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;getChildMeasureSpec&lt;/code&gt;&amp;#x83B7;&amp;#x53D6;&amp;#xFF0C;&amp;#x518D;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x5176;&amp;#x6E90;&amp;#x7801;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;68&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static int getChildMeasureSpec(int spec, int padding, int childDimension) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int specMode = MeasureSpec.getMode(spec);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int specSize = MeasureSpec.getSize(spec);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int size = Math.max(0, specSize - padding);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int resultSize = 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int resultMode = 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        switch (specMode) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Parent has imposed an exact size on us&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        case MeasureSpec.EXACTLY:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (childDimension &amp;gt;= 0) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                resultSize = childDimension;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                resultMode = MeasureSpec.EXACTLY;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else if (childDimension == LayoutParams.MATCH_PARENT) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // Child wants to be our size. So be it.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                resultSize = size;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                resultMode = MeasureSpec.EXACTLY;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else if (childDimension == LayoutParams.WRAP_CONTENT) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // Child wants to determine its own size. It can&amp;apos;t be&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // bigger than us.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                resultSize = size;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                resultMode = MeasureSpec.AT_MOST;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Parent has imposed a maximum size on us&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        case MeasureSpec.AT_MOST:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (childDimension &amp;gt;= 0) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // Child wants a specific size... so be it&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                resultSize = childDimension;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                resultMode = MeasureSpec.EXACTLY;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else if (childDimension == LayoutParams.MATCH_PARENT) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // Child wants to be our size, but our size is not fixed.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // Constrain child to not be bigger than us.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                resultSize = size;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                resultMode = MeasureSpec.AT_MOST;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else if (childDimension == LayoutParams.WRAP_CONTENT) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // Child wants to determine its own size. It can&amp;apos;t be&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // bigger than us.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                resultSize = size;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                resultMode = MeasureSpec.AT_MOST;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Parent asked to see how big we want to be&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        case MeasureSpec.UNSPECIFIED:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (childDimension &amp;gt;= 0) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // Child wants a specific size... let him have it&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                resultSize = childDimension;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                resultMode = MeasureSpec.EXACTLY;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else if (childDimension == LayoutParams.MATCH_PARENT) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // Child wants to be our size... find out how big it should&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // be&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                resultSize = View.sUseZeroUnspecifiedMeasureSpec ? 0 : size;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                resultMode = MeasureSpec.UNSPECIFIED;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else if (childDimension == LayoutParams.WRAP_CONTENT) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // Child wants to determine its own size.... find out how&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // big it should be&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                resultSize = View.sUseZeroUnspecifiedMeasureSpec ? 0 : size;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                resultMode = MeasureSpec.UNSPECIFIED;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //noinspection ResourceType&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return MeasureSpec.makeMeasureSpec(resultSize, resultMode);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x662F;&amp;#x4E0D;&amp;#x662F;&amp;#x5BB9;&amp;#x6613;&amp;#x7406;&amp;#x89E3;&amp;#x4E86;&amp;#x70B9;&amp;#x5462;&amp;#x3002;&amp;#x5B83;&amp;#x505A;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&amp;#x524D;&amp;#x9762;&amp;#x6240;&amp;#x8BF4;&amp;#x7684;&amp;#x6839;&amp;#x636E;&lt;code&gt;mode&lt;/code&gt;&amp;#x7684;&amp;#x7C7B;&amp;#x578B;&amp;#xFF0C;&amp;#x83B7;&amp;#x53D6;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&lt;code&gt;size&lt;/code&gt;&amp;#x3002;&amp;#x6839;&amp;#x636E;&amp;#x7236;&amp;#x89C6;&amp;#x56FE;&amp;#x7684;&lt;code&gt;mode&lt;/code&gt;&amp;#x7C7B;&amp;#x578B;&amp;#x4E0E;&amp;#x5B50;&amp;#x89C6;&amp;#x56FE;&amp;#x7684;&lt;code&gt;LayoutParams&lt;/code&gt;&amp;#x7C7B;&amp;#x578B;&amp;#x6765;&amp;#x51B3;&amp;#x5B9A;&amp;#x5B50;&amp;#x89C6;&amp;#x56FE;&amp;#x6240;&amp;#x5C5E;&amp;#x7684;&lt;code&gt;mode&lt;/code&gt;,&amp;#x6700;&amp;#x540E;&amp;#x518D;&amp;#x5C06;&amp;#x83B7;&amp;#x53D6;&amp;#x7684;&lt;code&gt;size&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;mode&lt;/code&gt;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;MeasureSpec.makeMeasureSpec&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x6574;&amp;#x5408;&amp;#x8FD4;&amp;#x56DE;&amp;#x3002;&amp;#x6700;&amp;#x540E;&amp;#x4F20;&amp;#x9012;&amp;#x5230;&lt;code&gt;measure&lt;/code&gt;&amp;#x4E2D;&amp;#xFF0C;&amp;#x8FD9;&amp;#x5C31;&amp;#x662F;&amp;#x524D;&amp;#x9762;&amp;#x6240;&amp;#x8BF4;&amp;#x7684;&lt;code&gt;widthMeasureSpec&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;heightMeasureSpec&lt;/code&gt;&amp;#x4E2D;&amp;#x5305;&amp;#x542B;&amp;#x7684;&amp;#x4E24;&amp;#x90E8;&amp;#x5206;&amp;#x7684;&amp;#x503C;&amp;#x3002;&amp;#x6574;&amp;#x4E2A;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E3A;&lt;code&gt;measureChildren&lt;/code&gt;-&amp;gt;&lt;code&gt;measureChild&lt;/code&gt;-&amp;gt;&lt;code&gt;getChildMeasureSpec&lt;/code&gt;-&amp;gt;&lt;code&gt;measure&lt;/code&gt;-&amp;gt;&lt;code&gt;onMeasure&lt;/code&gt;-&amp;gt;&lt;code&gt;setMeasuredDimension&lt;/code&gt;,&amp;#x6240;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;measureChildren&lt;/code&gt;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x5BF9;&amp;#x5B50;&amp;#x89C6;&amp;#x56FE;&amp;#x8FDB;&amp;#x884C;&amp;#x6D4B;&amp;#x91CF;&amp;#x8BA1;&amp;#x7B97;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;layout&quot;&gt;&lt;a href=&quot;#layout&quot; class=&quot;headerlink&quot; title=&quot;layout&quot;&gt;&lt;/a&gt;layout&lt;/h2&gt;&lt;p&gt;&lt;code&gt;layout&lt;/code&gt;&amp;#x4E5F;&amp;#x662F;&amp;#x4E00;&amp;#x6837;&amp;#x7684;&amp;#x5185;&amp;#x90E8;&amp;#x4F1A;&amp;#x56DE;&amp;#x8C03;&lt;code&gt;onLayout&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x662F;&amp;#x7528;&amp;#x6765;&amp;#x786E;&amp;#x5B9A;&amp;#x5B50;&amp;#x89C6;&amp;#x56FE;&amp;#x7684;&amp;#x7ED8;&amp;#x5236;&amp;#x4F4D;&amp;#x7F6E;&amp;#xFF0C;&amp;#x4F46;&amp;#x8FD9;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x5728;&lt;code&gt;ViewGroup&lt;/code&gt;&amp;#x4E2D;&amp;#x662F;&amp;#x4E2A;&amp;#x62BD;&amp;#x8C61;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5982;&amp;#x679C;&amp;#x8981;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&lt;code&gt;View&lt;/code&gt;&amp;#x662F;&amp;#x7EE7;&amp;#x627F;&lt;code&gt;ViewGroup&lt;/code&gt;&amp;#x7684;&amp;#x8BDD;&amp;#x5C31;&amp;#x5FC5;&amp;#x987B;&amp;#x5B9E;&amp;#x73B0;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x4F46;&amp;#x5982;&amp;#x679C;&amp;#x662F;&amp;#x7EE7;&amp;#x627F;&lt;code&gt;View&lt;/code&gt;&amp;#x7684;&amp;#x8BDD;&amp;#x5C31;&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x4E86;&amp;#xFF0C;&lt;code&gt;View&lt;/code&gt;&amp;#x4E2D;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x7A7A;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&amp;#x800C;&amp;#x5BF9;&amp;#x5B50;&amp;#x89C6;&amp;#x56FE;&amp;#x4F4D;&amp;#x7F6E;&amp;#x7684;&amp;#x8BBE;&amp;#x7F6E;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;View&lt;/code&gt;&amp;#x7684;&lt;code&gt;layout&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x901A;&amp;#x8FC7;&amp;#x4F20;&amp;#x9012;&amp;#x8BA1;&amp;#x7B97;&amp;#x51FA;&amp;#x6765;&amp;#x7684;&lt;code&gt;left&lt;/code&gt;&amp;#x3001;&lt;code&gt;top&lt;/code&gt;&amp;#x3001;&lt;code&gt;right&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;bottom&lt;/code&gt;&amp;#x503C;&amp;#xFF0C;&amp;#x800C;&amp;#x8FD9;&amp;#x4E9B;&amp;#x503C;&amp;#x4E00;&amp;#x822C;&amp;#x90FD;&amp;#x8981;&amp;#x501F;&amp;#x52A9;&lt;code&gt;View&lt;/code&gt;&amp;#x7684;&amp;#x5BBD;&amp;#x9AD8;&amp;#x6765;&amp;#x8BA1;&amp;#x7B97;,&amp;#x89C6;&amp;#x56FE;&amp;#x7684;&amp;#x5BBD;&amp;#x9AD8;&amp;#x5219;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;getMeasureWidth&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;getMeasureHeight&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x83B7;&amp;#x53D6;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x83B7;&amp;#x53D6;&amp;#x7684;&amp;#x503C;&amp;#x5C31;&amp;#x662F;&amp;#x4E0A;&amp;#x9762;&lt;code&gt;onMeasure&lt;/code&gt;&amp;#x4E2D;&lt;code&gt;setMeasuredDimension&lt;/code&gt;&amp;#x4F20;&amp;#x9012;&amp;#x7684;&amp;#x503C;&amp;#xFF0C;&amp;#x5373;&amp;#x5B50;&amp;#x89C6;&amp;#x56FE;&amp;#x6D4B;&amp;#x91CF;&amp;#x7684;&amp;#x5BBD;&amp;#x9AD8;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;getWidth&lt;/code&gt;&amp;#x3001;&lt;code&gt;getHeight&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;getMeasureWidth&lt;/code&gt;&amp;#x3001;&lt;code&gt;getMeasureHeight&lt;/code&gt;&amp;#x662F;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#xFF0C;&amp;#x524D;&amp;#x8005;&amp;#x662F;&amp;#x5728;&lt;code&gt;onLayout&lt;/code&gt;&amp;#x4E4B;&amp;#x540E;&amp;#x624D;&amp;#x80FD;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x7684;&amp;#x503C;&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;&lt;code&gt;left&lt;/code&gt;-&lt;code&gt;right&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;top&lt;/code&gt;-&lt;code&gt;bottom&lt;/code&gt;&amp;#xFF1B;&amp;#x800C;&amp;#x540E;&amp;#x8005;&amp;#x662F;&amp;#x5728;&lt;code&gt;onMeasure&lt;/code&gt;&amp;#x4E4B;&amp;#x540E;&amp;#x624D;&amp;#x80FD;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x7684;&amp;#x503C;&amp;#x3002;&amp;#x53EA;&amp;#x4E0D;&amp;#x8FC7;&amp;#x8FD9;&amp;#x4E24;&amp;#x79CD;&amp;#x83B7;&amp;#x53D6;&amp;#x7684;&amp;#x503C;&lt;code&gt;&amp;#x4E00;&amp;#x822C;&lt;/code&gt;&amp;#x90FD;&amp;#x662F;&amp;#x76F8;&amp;#x540C;&amp;#x7684;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8981;&amp;#x6CE8;&amp;#x610F;&amp;#x8C03;&amp;#x7528;&amp;#x7684;&lt;code&gt;&amp;#x65F6;&amp;#x673A;&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x4EE5;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E00;&amp;#x4E2A;&amp;#x628A;&amp;#x5B50;&amp;#x89C6;&amp;#x56FE;&amp;#x653E;&amp;#x7F6E;&amp;#x4E8E;&amp;#x7236;&amp;#x89C6;&amp;#x56FE;&amp;#x7684;&amp;#x56DB;&amp;#x4E2A;&amp;#x89D2;&amp;#x7684;&lt;code&gt;View&lt;/code&gt;&amp;#x4E3A;&amp;#x4F8B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    protected void onLayout(boolean changed, int l, int t, int r, int b) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int count = getChildCount();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        MarginLayoutParams params;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int cl;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int ct;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int cr;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int cb;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        for (int i = 0; i &amp;lt; count; i++) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            View child = getChildAt(i);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            params = (MarginLayoutParams) child.getLayoutParams();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (i == 0) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                //&amp;#x5DE6;&amp;#x4E0A;&amp;#x89D2;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                cl = params.leftMargin;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                ct = params.topMargin;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else if (i == 1) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                //&amp;#x53F3;&amp;#x4E0A;&amp;#x89D2;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                cl = getMeasuredWidth() - params.rightMargin - child.getMeasuredWidth();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                ct = params.topMargin;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else if (i == 2) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                //&amp;#x5DE6;&amp;#x4E0B;&amp;#x89D2;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                cl = params.leftMargin;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                ct = getMeasuredHeight() - params.bottomMargin - child.getMeasuredHeight()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                 - params.topMargin;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                //&amp;#x53F3;&amp;#x4E0B;&amp;#x89D2;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                cl = getMeasuredWidth() - params.rightMargin - child.getMeasuredWidth();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                ct = getMeasuredHeight() - params.bottomMargin - child.getMeasuredHeight()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                 - params.topMargin;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            cr = cl + child.getMeasuredWidth();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            cb = ct + child.getMeasuredHeight();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            //&amp;#x786E;&amp;#x5B9A;&amp;#x5B50;&amp;#x89C6;&amp;#x56FE;&amp;#x5728;&amp;#x7236;&amp;#x89C6;&amp;#x56FE;&amp;#x4E2D;&amp;#x653E;&amp;#x7F6E;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            child.layout(cl, ct, cr, cb);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x81F3;&amp;#x4E8E;&lt;code&gt;onMeasure&lt;/code&gt;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x6E90;&amp;#x7801;&amp;#x6211;&amp;#x540E;&amp;#x9762;&amp;#x4F1A;&amp;#x7ED9;&amp;#x94FE;&amp;#x63A5;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x8981;&amp;#x770B;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&amp;#x7684;&amp;#x8BDD;&amp;#xFF0C;&amp;#x6211;&amp;#x540E;&amp;#x9762;&amp;#x4E5F;&amp;#x4F1A;&amp;#x8D34;&amp;#x51FA;&amp;#x6765;&amp;#xFF0C;&amp;#x524D;&amp;#x9762;&amp;#x7684;&amp;#x90A3;&amp;#x4E2A;&amp;#x9A8C;&amp;#x8BC1;&amp;#x7801;&amp;#x7684;&amp;#x4E5F;&amp;#x662F;&amp;#x4E00;&amp;#x6837;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;draw&quot;&gt;&lt;a href=&quot;#draw&quot; class=&quot;headerlink&quot; title=&quot;draw&quot;&gt;&lt;/a&gt;draw&lt;/h2&gt;&lt;p&gt;&lt;code&gt;draw&lt;/code&gt;&amp;#x662F;&amp;#x7531;&lt;code&gt;dispatchDraw&lt;/code&gt;&amp;#x53D1;&amp;#x52A8;&amp;#x7684;&amp;#xFF0C;&lt;code&gt;dispatchDraw&lt;/code&gt;&amp;#x662F;&lt;code&gt;ViewGroup&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5728;&lt;code&gt;View&lt;/code&gt;&amp;#x662F;&amp;#x7A7A;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&lt;code&gt;View&lt;/code&gt;&amp;#x65F6;&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x53BB;&amp;#x7BA1;&amp;#x7406;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x800C;&lt;code&gt;draw&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x53EA;&amp;#x5728;&lt;code&gt;View&lt;/code&gt;&amp;#x4E2D;&amp;#x5B58;&amp;#x5728;&amp;#xFF0C;&lt;code&gt;ViewGoup&lt;/code&gt;&amp;#x505A;&amp;#x7684;&amp;#x53EA;&amp;#x662F;&amp;#x5728;&lt;code&gt;dispatchDraw&lt;/code&gt;&amp;#x4E2D;&amp;#x8C03;&amp;#x7528;&lt;code&gt;drawChild&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x800C;&lt;code&gt;drawChild&lt;/code&gt;&amp;#x4E2D;&amp;#x8C03;&amp;#x7528;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&lt;code&gt;View&lt;/code&gt;&amp;#x7684;&lt;code&gt;draw&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&lt;code&gt;draw&lt;/code&gt;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public void draw(Canvas canvas) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        final int privateFlags = mPrivateFlags;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        final boolean dirtyOpaque = (privateFlags &amp;amp; PFLAG_DIRTY_MASK) == PFLAG_DIRTY_OPAQUE &amp;amp;&amp;amp;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                (mAttachInfo == null || !mAttachInfo.mIgnoreDirtyState);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mPrivateFlags = (privateFlags &amp;amp; ~PFLAG_DIRTY_MASK) | PFLAG_DRAWN;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        /*&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         * Draw traversal performs several drawing steps which must be executed&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         * in the appropriate order:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         *&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         *      1. Draw the background&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         *      2. If necessary, save the canvas&amp;apos; layers to prepare for fading&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         *      3. Draw view&amp;apos;s content&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         *      4. Draw children&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         *      5. If necessary, draw the fading edges and restore layers&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         *      6. Draw decorations (scrollbars for instance)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Step 1, draw the background, if needed&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int saveCount;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (!dirtyOpaque) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            drawBackground(canvas);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // skip step 2 &amp;amp; 5 if possible (common case)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        final int viewFlags = mViewFlags;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        boolean horizontalEdges = (viewFlags &amp;amp; FADING_EDGE_HORIZONTAL) != 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        boolean verticalEdges = (viewFlags &amp;amp; FADING_EDGE_VERTICAL) != 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (!verticalEdges &amp;amp;&amp;amp; !horizontalEdges) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // Step 3, draw the content&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (!dirtyOpaque) onDraw(canvas);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // Step 4, draw the children&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            dispatchDraw(canvas);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // Overlay is part of the content and draws beneath Foreground&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (mOverlay != null &amp;amp;&amp;amp; !mOverlay.isEmpty()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            mOverlay.getOverlayView().dispatchDraw(canvas);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                         &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // Step 6, draw decorations (foreground, scrollbars)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            onDrawForeground(canvas);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                       &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // we&amp;apos;re done...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x7701;&amp;#x7565;2&amp;amp;5&amp;#x7684;&amp;#x60C5;&amp;#x51B5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ....&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6E90;&amp;#x7801;&amp;#x5DF2;&amp;#x7ECF;&amp;#x975E;&amp;#x5E38;&amp;#x6E05;&amp;#x6670;&amp;#x4E86;&lt;code&gt;draw&lt;/code&gt;&amp;#x603B;&amp;#x5171;&amp;#x5206;&amp;#x4E3A;6&amp;#x6B65;&amp;#xFF1B;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;#x7ED8;&amp;#x5236;&amp;#x80CC;&amp;#x666F;&lt;/li&gt;
&lt;li&gt;&amp;#x5982;&amp;#x679C;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x8BDD;&amp;#xFF0C;&amp;#x4FDD;&amp;#x5B58;&lt;code&gt;layers&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&amp;#x7ED8;&amp;#x5236;&amp;#x81EA;&amp;#x8EAB;&amp;#x6587;&amp;#x672C;&lt;/li&gt;
&lt;li&gt;&amp;#x7ED8;&amp;#x5236;&amp;#x5B50;&amp;#x89C6;&amp;#x56FE;&lt;/li&gt;
&lt;li&gt;&amp;#x5982;&amp;#x679C;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x8BDD;&amp;#xFF0C;&amp;#x7ED8;&amp;#x5236;&lt;code&gt;fading edges&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&amp;#x7ED8;&amp;#x5236;&lt;code&gt;scrollbars&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x5176;&amp;#x4E2D;    &amp;#x7B2C;&lt;code&gt;2&lt;/code&gt;&amp;#x6B65;&amp;#x4E0E;&amp;#x7B2C;&lt;code&gt;5&lt;/code&gt;&amp;#x6B65;&amp;#x4E0D;&amp;#x662F;&amp;#x5FC5;&amp;#x987B;&amp;#x7684;&amp;#x3002;&amp;#x5728;&amp;#x7B2C;&lt;code&gt;3&lt;/code&gt;&amp;#x6B65;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;&lt;code&gt;onDraw&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x7ED8;&amp;#x5236;&amp;#x81EA;&amp;#x8EAB;&amp;#x7684;&amp;#x5185;&amp;#x5BB9;&amp;#xFF0C;&amp;#x5728;&lt;code&gt;View&lt;/code&gt;&amp;#x4E2D;&amp;#x662F;&amp;#x7A7A;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x8FD9;&amp;#x5C31;&amp;#x662F;&amp;#x6211;&amp;#x4EEC;&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48;&amp;#x5728;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&lt;code&gt;View&lt;/code&gt;&amp;#x65F6;&amp;#x5FC5;&amp;#x987B;&amp;#x8981;&amp;#x91CD;&amp;#x5199;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x800C;&amp;#x7B2C;&lt;code&gt;4&lt;/code&gt;&amp;#x6B65;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;&lt;code&gt;dispatchDraw&lt;/code&gt;&amp;#x5BF9;&amp;#x5B50;&amp;#x89C6;&amp;#x56FE;&amp;#x8FDB;&amp;#x884C;&amp;#x7ED8;&amp;#x5236;&amp;#x3002;&amp;#x8FD8;&amp;#x662F;&amp;#x4EE5;&lt;code&gt;&amp;#x9A8C;&amp;#x8BC1;&amp;#x7801;&lt;/code&gt;&amp;#x4E3A;&amp;#x4F8B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    protected void onDraw(Canvas canvas) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x7ED8;&amp;#x5236;&amp;#x80CC;&amp;#x666F;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mPaint.setColor(getResources().getColor(R.color.autoCodeBg));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        canvas.drawRect(0, 0, getMeasuredWidth(), getMeasuredHeight(), mPaint);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mPaint.getTextBounds(autoText, 0, autoText.length(), bounds);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x7ED8;&amp;#x5236;&amp;#x6587;&amp;#x672C;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        for (int i = 0; i &amp;lt; autoText.length(); i++) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             mPaint.setColor(getResources().getColor(colorRes[random.nextInt(6)]));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            canvas.drawText(autoText, i, i + 1, getWidth() / 2 - bounds.width() / 2 + i * bounds.width() / autoNum&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    , bounds.height() + random.nextInt(getHeight() - bounds.height())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    , mPaint);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x7ED8;&amp;#x5236;&amp;#x5E72;&amp;#x6270;&amp;#x70B9;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        for (int j = 0; j &amp;lt; 250; j++) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             canvas.drawPoint(random.nextInt(getWidth()), random.nextInt(getHeight()), pointPaint);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x7ED8;&amp;#x5236;&amp;#x5E72;&amp;#x6270;&amp;#x7EBF;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        for (int k = 0; k &amp;lt; 20; k++) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            int startX = random.nextInt(getWidth());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            int startY = random.nextInt(getHeight());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            int stopX = startX + random.nextInt(getWidth() - startX);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            int stopY = startY + random.nextInt(getHeight() - startY);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             linePaint.setColor(getResources().getColor(colorRes[random.nextInt(6)]));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            canvas.drawLine(startX, startY, stopX, stopY, linePaint);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x5176;&amp;#x5B9E;&amp;#x5F88;&amp;#x7B80;&amp;#x5355;&amp;#xFF0C;&amp;#x5C31;&amp;#x662F;&amp;#x4E00;&amp;#x4E9B;&amp;#x7ED8;&amp;#x5236;&amp;#x7684;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;&amp;#x3002;&amp;#x597D;&amp;#x4E86;&amp;#x57FA;&amp;#x672C;&amp;#x5C31;&amp;#x5230;&amp;#x8FD9;&amp;#x91CC;&amp;#x4E86;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x4E0A;&amp;#x4F20;&amp;#x4E00;&amp;#x5F20;&amp;#x793A;&amp;#x4F8B;&amp;#x7684;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&amp;#xFF0C;&amp;#x4E0E;&amp;#x6E90;&amp;#x7801;&amp;#x94FE;&amp;#x63A5;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;&amp;#x793A;&amp;#x4F8B;&amp;#x56FE;&quot;&gt;&lt;a href=&quot;#&amp;#x793A;&amp;#x4F8B;&amp;#x56FE;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x793A;&amp;#x4F8B;&amp;#x56FE;&quot;&gt;&lt;/a&gt;&amp;#x793A;&amp;#x4F8B;&amp;#x56FE;&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;/2016/11/13/Android-&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;View/custom.gif&quot; alt=&quot;&amp;#x793A;&amp;#x4F8B;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x5BF9;&amp;#x4E86;&amp;#x8FD8;&amp;#x6709;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x5C5E;&amp;#x6027;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x7B80;&amp;#x5355;&amp;#x8BF4;&amp;#x4E00;&amp;#x4E0B;&amp;#x3002;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&lt;code&gt;View&lt;/code&gt;&amp;#x65F6;&amp;#x4E00;&amp;#x822C;&amp;#x90FD;&amp;#x8981;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x5C5E;&amp;#x6027;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x90FD;&amp;#x4F1A;&amp;#x5728;&lt;code&gt;res/values/attr.xml&lt;/code&gt;&amp;#x4E2D;&amp;#x5B9A;&amp;#x4E49;&lt;code&gt;attr&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;declare-styleable&lt;/code&gt;,&amp;#x6700;&amp;#x540E;&amp;#x5728;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&lt;code&gt;View&lt;/code&gt;&amp;#x4E2D;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;TypedArray&lt;/code&gt;&amp;#x83B7;&amp;#x53D6;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x793A;&amp;#x4F8B;&amp;#x6E90;&amp;#x7801;&amp;#x5730;&amp;#x5740;&amp;#xFF1A;&lt;a href=&quot;https://github.com/idisfkj/CustomViewOrViewGroup&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/idisfkj/CustomViewOrViewGroup&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h1&gt;&lt;p&gt;&lt;code&gt;Android&lt;
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="源码分析" scheme="https://idisfkj.github.io/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>Handler、Looper与MessageQueue源码分析</title>
    <link href="https://idisfkj.github.io/2016/10/19/Android-Handler%E3%80%81Looper%E4%B8%8EMessageQueue%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"/>
    <id>https://idisfkj.github.io/2016/10/19/Android-Handler、Looper与MessageQueue源码分析/</id>
    <published>2016-10-19T02:42:48.000Z</published>
    <updated>2016-10-19T08:30:18.000Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x5728;&lt;code&gt;Android&lt;/code&gt;&amp;#x4E2D;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;Handler&lt;/code&gt;&amp;#x6765;&amp;#x66F4;&amp;#x65B0;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E2D;&lt;code&gt;UI&lt;/code&gt;&amp;#x7684;&amp;#x53D8;&amp;#x5316;&amp;#xFF0C;&amp;#x66F4;&amp;#x65B0;&lt;code&gt;UI&lt;/code&gt;&amp;#x53EA;&amp;#x80FD;&amp;#x5728;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&amp;#x66F4;&amp;#x65B0;&amp;#xFF0C;&amp;#x800C;&amp;#x4E3A;&amp;#x4E86;&amp;#x8BA9;&amp;#x5176;&amp;#x4ED6;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E5F;&amp;#x80FD;&amp;#x63A7;&amp;#x5236;&lt;code&gt;UI&lt;/code&gt;&amp;#x7684;&amp;#x53D8;&amp;#x5316;&amp;#xFF0C;&lt;code&gt;Android&lt;/code&gt;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x4E00;&amp;#x79CD;&amp;#x673A;&amp;#x5236;&lt;code&gt;Handler&lt;/code&gt;&amp;#x3001;&lt;code&gt;Looper&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;MessageQueue&lt;/code&gt;&amp;#x4E00;&amp;#x540C;&amp;#x534F;&amp;#x4F5C;&amp;#x6765;&amp;#x8FBE;&amp;#x5230;&amp;#x5176;&amp;#x4ED6;&amp;#x7EBF;&amp;#x7A0B;&amp;#x66F4;&amp;#x65B0;&lt;code&gt;UI&lt;/code&gt;&amp;#x7684;&amp;#x76EE;&amp;#x7684;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x4E00;&amp;#x822C;&amp;#x6211;&amp;#x4EEC;&amp;#x4F1A;&amp;#x5728;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E2D;&amp;#x901A;&amp;#x8FC7;&amp;#x5982;&amp;#x4E0B;&amp;#x65B9;&amp;#x6CD5;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;Handler&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private Handler mHandler = new Handler() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        public void handleMessage(Message msg) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            tv.setText(&amp;quot;mHandler change UI&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            super.handleMessage(msg);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    };&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E00;&amp;#x822C;&amp;#x90FD;&amp;#x89C1;&amp;#x4E0D;&amp;#x5230;&lt;code&gt;Looper&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;MessageQueue&lt;/code&gt;&amp;#x7684;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5B83;&amp;#x4EEC;&amp;#x90FD;&amp;#x662F;&amp;#x5728;&amp;#x54EA;&amp;#x91CC;&amp;#x8C03;&amp;#x7528;&amp;#x4E0E;&amp;#x5982;&amp;#x4F55;&amp;#x534F;&amp;#x4F5C;&amp;#x7684;&amp;#x5462;&amp;#xFF1F;&amp;#x5728;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E0D;&amp;#x4F1A;&amp;#x663E;&amp;#x5F0F;&amp;#x7684;&amp;#x8C03;&amp;#x7528;&lt;code&gt;Looper&lt;/code&gt;&amp;#x800C;&amp;#x662F;&amp;#x4F1A;&amp;#x5728;&lt;code&gt;ActivityThread.main&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x9ED8;&amp;#x8BA4;&amp;#x8C03;&amp;#x7528;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;ActivityThread-main&quot;&gt;&lt;a href=&quot;#ActivityThread-main&quot; class=&quot;headerlink&quot; title=&quot;ActivityThread.main&quot;&gt;&lt;/a&gt;ActivityThread.main&lt;/h1&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static void main(String[] args) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         Trace.traceBegin(Trace.TRACE_TAG_ACTIVITY_MANAGER, &amp;quot;ActivityThreadMain&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        SamplingProfilerIntegration.start();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // CloseGuard defaults to true and can be quite spammy.  We&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // disable it here, but selectively enable it later (via&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // StrictMode) on debug builds, but using DropBox, not logs.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        CloseGuard.setEnabled(false);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Environment.initForCurrentUser();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Set the reporter for event logging in libcore&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        EventLogger.setReporter(new EventLoggingReporter());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Make sure TrustedCertificateStore looks in the right place for CA certificates&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        final File configDir = Environment.getUserConfigDirectory(UserHandle.myUserId());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         TrustedCertificateStore.setDefaultUserDirectory(configDir);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Process.setArgV0(&amp;quot;&amp;lt;pre-initialized&amp;gt;&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Looper.prepareMainLooper();//&amp;#x521B;&amp;#x5EFA;Looper&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ActivityThread thread = new ActivityThread();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        thread.attach(false);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (sMainThreadHandler == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            sMainThreadHandler = thread.getHandler();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (false) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            Looper.myLooper().setMessageLogging(new&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    LogPrinter(Log.DEBUG, &amp;quot;ActivityThread&amp;quot;));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // End of event ActivityThreadMain.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         Trace.traceEnd(Trace.TRACE_TAG_ACTIVITY_MANAGER);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Looper.loop();//&amp;#x5F00;&amp;#x542F;Looper&amp;#x5FAA;&amp;#x73AF;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        throw new RuntimeException(&amp;quot;Main thread loop unexpectedly exited&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5982;&amp;#x4E0A;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;&lt;code&gt;Looper.prepareMainLooper()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5728;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E2D;&amp;#x521B;&amp;#x5EFA;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;Looper&lt;/code&gt;&amp;#xFF0C;&amp;#x4E0D;&amp;#x4FE1;&amp;#x7684;&amp;#x8BDD;&amp;#x6211;&amp;#x4EEC;&amp;#x518D;&amp;#x67E5;&amp;#x770B;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x505A;&amp;#x4E86;&amp;#x4EC0;&amp;#x4E48;&lt;/p&gt;
&lt;h1 id=&quot;Looper&quot;&gt;&lt;a href=&quot;#Looper&quot; class=&quot;headerlink&quot; title=&quot;Looper&quot;&gt;&lt;/a&gt;Looper&lt;/h1&gt;&lt;h2 id=&quot;prepare&quot;&gt;&lt;a href=&quot;#prepare&quot; class=&quot;headerlink&quot; title=&quot;prepare&quot;&gt;&lt;/a&gt;prepare&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static void prepare() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        prepare(true);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private static void prepare(boolean quitAllowed) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (sThreadLocal.get() != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            throw new RuntimeException(&amp;quot;Only one Looper may be created per thread&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        sThreadLocal.set(new Looper(quitAllowed));//&amp;#x521B;&amp;#x5EFA;Looper&amp;#x5E76;&amp;#x8D4B;&amp;#x7ED9;sThreadLocal&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * Initialize the current thread as a looper, marking it as an&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * application&amp;apos;s main looper. The main looper for your application&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * is created by the Android environment, so you should never need&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * to call this function yourself.  See also: {@link #prepare()}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public static void prepareMainLooper() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        prepare(false);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        synchronized (Looper.class) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (sMainLooper != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                throw new IllegalStateException(&amp;quot;The main Looper has already been prepared.&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            sMainLooper = myLooper();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public static @Nullable Looper myLooper() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return sThreadLocal.get();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&lt;code&gt;prepareMainLooper&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;&lt;code&gt;prepare&lt;/code&gt;&amp;#x800C;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;prepare&lt;/code&gt;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;&amp;#x5B83;&amp;#x5176;&amp;#x5B9E;&amp;#x5C31;&amp;#x662F;&amp;#x521B;&amp;#x5EFA;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;Looper&lt;/code&gt;&amp;#xFF0C;&amp;#x5E76;&amp;#x628A;&amp;#x5B83;&amp;#x8D4B;&amp;#x7ED9;&amp;#x4E86;&lt;code&gt;sThreadLocal&lt;/code&gt;&amp;#x3002;&amp;#x540C;&amp;#x65F6;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;myLooper&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x83B7;&amp;#x53D6;&amp;#x5F53;&amp;#x524D;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;Looper&lt;/code&gt;&amp;#x3002;&amp;#x518D;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&lt;code&gt;new Looper(quitAllowed)&lt;/code&gt;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x4E86;&amp;#x4EC0;&amp;#x4E48;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private Looper(boolean quitAllowed) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mQueue = new MessageQueue(quitAllowed);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mThread = Thread.currentThread();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&amp;#x6211;&amp;#x4EEC;&amp;#x7EC8;&amp;#x4E8E;&amp;#x770B;&amp;#x5230;&amp;#x4E86;&lt;code&gt;MessageQueue&lt;/code&gt;&amp;#x4E86;&amp;#xFF0C;&amp;#x5B83;&amp;#x521B;&amp;#x5EFA;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;MessageQueue&lt;/code&gt;&amp;#x3002;&amp;#x8BE5;&amp;#x6D88;&amp;#x606F;&amp;#x961F;&amp;#x5217;&amp;#x5C31;&amp;#x662F;&amp;#x7528;&amp;#x6765;&amp;#x4FDD;&amp;#x5B58;&amp;#x540E;&amp;#x7EED;&amp;#x7684;&lt;code&gt;Message&lt;/code&gt;&amp;#x3002;&amp;#x518D;&amp;#x56DE;&amp;#x5230;&lt;code&gt;ActivityThread.main&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#xFF0C;&amp;#x53D1;&amp;#x73B0;&amp;#x5B83;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;&lt;code&gt;Looper.loop()&lt;/code&gt;&amp;#x662F;&amp;#x7528;&amp;#x6765;&amp;#x5F00;&amp;#x542F;&lt;code&gt;Looper&lt;/code&gt;&amp;#x5FAA;&amp;#x73AF;&amp;#x7684;&amp;#xFF0C;&amp;#x76D1;&amp;#x542C;&amp;#x6D88;&amp;#x606F;&amp;#x961F;&amp;#x5217;&lt;code&gt;MessageQueue&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x6D88;&amp;#x606F;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;loop&quot;&gt;&lt;a href=&quot;#loop&quot; class=&quot;headerlink&quot; title=&quot;loop&quot;&gt;&lt;/a&gt;loop&lt;/h2&gt;&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&lt;code&gt;Looper.loop()&lt;/code&gt;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static void loop() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        final Looper me = myLooper();//&amp;#x83B7;&amp;#x53D6;Looper&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (me == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            throw new RuntimeException(&amp;quot;No Looper; Looper.prepare() wasn&amp;apos;t called on this thread.&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        final MessageQueue queue = me.mQueue;//&amp;#x83B7;&amp;#x53D6;&amp;#x6D88;&amp;#x606F;&amp;#x961F;&amp;#x5217;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Make sure the identity of this thread is that of the local process,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // and keep track of what that identity token actually is.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Binder.clearCallingIdentity();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        final long ident = Binder.clearCallingIdentity();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        for (;;) {        &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            Message msg = queue.next(); // might block&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (msg == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // No message indicates that the message queue is quitting.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                return;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // This must be in a local variable, in case a UI event sets the logger&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            final Printer logging = me.mLogging;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (logging != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                logging.println(&amp;quot;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Dispatching to &amp;quot; + msg.target + &amp;quot; &amp;quot; +&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        msg.callback + &amp;quot;: &amp;quot; + msg.what);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            final long traceTag = me.mTraceTag;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (traceTag != 0) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Trace.traceBegin(traceTag, msg.target.getTraceName(msg));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                msg.target.dispatchMessage(msg);//&amp;#x901A;&amp;#x8FC7;Handler&amp;#x5206;&amp;#x53D1;&amp;#x6D88;&amp;#x606F;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } finally {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (traceTag != 0) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    Trace.traceEnd(traceTag);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (logging != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                logging.println(&amp;quot;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt; Finished to &amp;quot; + msg.target + &amp;quot; &amp;quot; + msg.callback);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // Make sure that during the course of dispatching the&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // identity of the thread wasn&amp;apos;t corrupted.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            final long newIdent = Binder.clearCallingIdentity();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (ident != newIdent) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Log.wtf(TAG, &amp;quot;Thread identity changed from 0x&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        + Long.toHexString(ident) + &amp;quot; to 0x&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        + Long.toHexString(newIdent) + &amp;quot; while dispatching to &amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        + msg.target.getClass().getName() + &amp;quot; &amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        + msg.callback + &amp;quot; what=&amp;quot; + msg.what);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            msg.recycleUnchecked();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&lt;code&gt;loop&lt;/code&gt;&amp;#x4E2D;&amp;#x9996;&amp;#x5148;&amp;#x83B7;&amp;#x53D6;&amp;#x4E86;&amp;#x5F53;&amp;#x524D;&amp;#x6240;&amp;#x5728;&amp;#x7EBF;&amp;#x7A0B;&amp;#x7684;&lt;code&gt;Looper&lt;/code&gt;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x4E5F;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x4E86;&lt;code&gt;Looper&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;MessageQueue&lt;/code&gt;&amp;#xFF0C;&amp;#x8BF4;&amp;#x660E;&lt;code&gt;Looper&lt;/code&gt;&amp;#x5DF2;&amp;#x7ECF;&amp;#x4E0E;&amp;#x5F53;&amp;#x524D;&amp;#x7684;&amp;#x7EBF;&amp;#x7A0B;&amp;#x8FDB;&amp;#x884C;&amp;#x4E86;&amp;#x7ED1;&amp;#x5B9A;&amp;#x3002;&amp;#x5728;&amp;#x540E;&amp;#x9762;&amp;#x5F00;&amp;#x542F;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;for&lt;/code&gt;&amp;#x7684;&amp;#x6B7B;&amp;#x5FAA;&amp;#x73AF;&amp;#xFF0C;&amp;#x53D1;&amp;#x73B0;&amp;#x5B83;&amp;#x505A;&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;&amp;#x662F;&amp;#x4E0D;&amp;#x65AD;&amp;#x7684;&amp;#x4ECE;&amp;#x6D88;&amp;#x606F;&amp;#x961F;&amp;#x5217;&amp;#x4E2D;&amp;#x53D6;&amp;#x51FA;&amp;#x6D88;&amp;#x606F;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x90FD;&amp;#x4EA4;&amp;#x7ED9;&lt;code&gt;msg.target&lt;/code&gt;&amp;#x8C03;&amp;#x7528;&amp;#x5B83;&amp;#x7684;&lt;code&gt;dispatchMessage&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&lt;code&gt;target&lt;/code&gt;&amp;#x53C8;&amp;#x662F;&amp;#x4EC0;&amp;#x4E48;&amp;#x5462;&amp;#xFF1F;&amp;#x6211;&amp;#x4EEC;&amp;#x8FDB;&amp;#x5165;&lt;code&gt;Message&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&quot;Message&quot;&gt;&lt;a href=&quot;#Message&quot; class=&quot;headerlink&quot; title=&quot;Message&quot;&gt;&lt;/a&gt;Message&lt;/h1&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;/*package*/ int flags;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /*package*/ long when;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /*package*/ Bundle data;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /*package*/ Handler target;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /*package*/ Runnable callback;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // sometimes we store linked lists of these things&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /*package*/ Message next;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x53D1;&amp;#x73B0;&amp;#x5B83;&amp;#x5C31;&amp;#x662F;&amp;#x6211;&amp;#x4EEC;&amp;#x719F;&amp;#x6089;&amp;#x7684;&lt;code&gt;Handler&lt;/code&gt;&amp;#xFF0C;&amp;#x8BF4;&amp;#x660E;&amp;#x6700;&amp;#x540E;&amp;#x8C03;&amp;#x7528;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&lt;code&gt;Handler&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;dispatchMessage&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5BF9;&amp;#x6D88;&amp;#x606F;&amp;#x7684;&amp;#x5206;&amp;#x53D1;&amp;#x5904;&amp;#x7406;&amp;#x3002;&amp;#x8FD9;&amp;#x6837;&amp;#x4E00;&amp;#x6765;&lt;code&gt;Handler&lt;/code&gt;&amp;#x5C31;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;Looper&lt;/code&gt;&amp;#x8054;&amp;#x7CFB;&amp;#x4E0A;&amp;#x4E86;&lt;code&gt;Looper&lt;/code&gt;&amp;#x6240;&amp;#x7ED1;&amp;#x5B9A;&amp;#x7684;&amp;#x7EBF;&amp;#x7A0B;&amp;#xFF0C;&amp;#x5373;&amp;#x4E3A;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;Handler&quot;&gt;&lt;a href=&quot;#Handler&quot; class=&quot;headerlink&quot; title=&quot;Handler&quot;&gt;&lt;/a&gt;Handler&lt;/h1&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public Handler(Callback callback, boolean async) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (FIND_POTENTIAL_LEAKS) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            final Class&amp;lt;? extends Handler&amp;gt; klass = getClass();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if ((klass.isAnonymousClass() || klass.isMemberClass() || klass.isLocalClass()) &amp;amp;&amp;amp;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    (klass.getModifiers() &amp;amp; Modifier.STATIC) == 0) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Log.w(TAG, &amp;quot;The following Handler class should be static or leaks might occur: &amp;quot; +&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    klass.getCanonicalName());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mLooper = Looper.myLooper();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (mLooper == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            throw new RuntimeException(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &amp;quot;Can&amp;apos;t create handler inside thread that has not called Looper.prepare()&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mQueue = mLooper.mQueue;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mCallback = callback;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mAsynchronous = async;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;Handler&lt;/code&gt;&amp;#x7684;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#xFF0C;&amp;#x5B83;&amp;#x83B7;&amp;#x53D6;&amp;#x4E86;&amp;#x5B83;&amp;#x6240;&amp;#x5904;&amp;#x7EBF;&amp;#x7A0B;&amp;#x7684;&lt;code&gt;Looper&lt;/code&gt;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x4E5F;&amp;#x83B7;&amp;#x53D6;&amp;#x4E86;&lt;code&gt;Looper&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x6D88;&amp;#x606F;&amp;#x961F;&amp;#x5217;&amp;#x3002;&amp;#x5F53;&amp;#x7136;&amp;#x5982;&amp;#x679C;&amp;#x6240;&amp;#x5904;&amp;#x7EBF;&amp;#x7A0B;&amp;#x7684;&lt;code&gt;Looper&lt;/code&gt;&amp;#x4E3A;&amp;#x7A7A;&amp;#x7684;&amp;#x8BDD;&amp;#x5C31;&amp;#x4F1A;&amp;#x629B;&amp;#x51FA;&amp;#x5F02;&amp;#x5E38;&amp;#xFF0C;&amp;#x8FD9;&amp;#x5C31;&amp;#x89E3;&amp;#x91CA;&amp;#x4E86;&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48;&amp;#x5728;&amp;#x975E;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E2D;&amp;#x521B;&amp;#x5EFA;&lt;code&gt;Handler&lt;/code&gt;&amp;#x8981;&amp;#x5206;&amp;#x522B;&amp;#x8C03;&amp;#x7528;&lt;code&gt;Looper.prepare&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;Looper.loop&lt;/code&gt;&amp;#x800C;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#x5219;&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x5B83;&amp;#x9ED8;&amp;#x8BA4;&amp;#x5DF2;&amp;#x7ECF;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;dispatchMessage&quot;&gt;&lt;a href=&quot;#dispatchMessage&quot; class=&quot;headerlink&quot; title=&quot;dispatchMessage&quot;&gt;&lt;/a&gt;dispatchMessage&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public void dispatchMessage(Message msg) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (msg.callback != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            handleCallback(msg);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (mCallback != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (mCallback.handleMessage(msg)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    return;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            handleMessage(msg);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;private static void handleCallback(Message message) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        message.callback.run();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x56DE;&amp;#x5230;&amp;#x524D;&amp;#x9762;&amp;#xFF0C;&amp;#x5BF9;&amp;#x4E8E;&lt;code&gt;dispatchMessage&lt;/code&gt;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x9996;&amp;#x5148;&amp;#x5224;&amp;#x65AD;&lt;code&gt;msg.callback&lt;/code&gt;&amp;#x662F;&amp;#x5426;&amp;#x4E3A;&amp;#x7A7A;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&lt;code&gt;callback&lt;/code&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&lt;code&gt;Message&lt;/code&gt;&amp;#x5E94;&amp;#x8BE5;&amp;#x80FD;&amp;#x77E5;&amp;#x9053;&amp;#x4ED6;&amp;#x5C31;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;Runnable&lt;/code&gt;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x4E0D;&amp;#x4E3A;&amp;#x7A7A;&amp;#x5219;&amp;#x76F4;&amp;#x63A5;&amp;#x8C03;&amp;#x7528;&lt;code&gt;Runnable&lt;/code&gt;&amp;#x7684;&lt;code&gt;run&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x5426;&amp;#x5219;&amp;#x8C03;&amp;#x7528;&lt;code&gt;Handler&lt;/code&gt;&amp;#x7684;&lt;code&gt;handleMessage&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;.&amp;#x800C;&amp;#x8FD9;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x76F8;&amp;#x4FE1;&amp;#x5927;&amp;#x5BB6;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5F88;&amp;#x719F;&amp;#x6089;&amp;#x4E86;&amp;#xFF0C;&amp;#x5BF9;&amp;#x4E8B;&amp;#x4EF6;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#x90FD;&amp;#x662F;&amp;#x5728;&amp;#x8FD9;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x6267;&amp;#x884C;&amp;#x7684;&amp;#x3002;&amp;#x56E0;&amp;#x4E3A;&amp;#x901A;&amp;#x8FC7;&amp;#x524D;&amp;#x9762;&amp;#x6211;&amp;#x4EEC;&amp;#x5DF2;&amp;#x7ECF;&amp;#x77E5;&amp;#x9053;&amp;#x4E86;&lt;code&gt;Handler&lt;/code&gt;&amp;#x5DF2;&amp;#x7ECF;&amp;#x8054;&amp;#x7CFB;&amp;#x4E0A;&amp;#x4E86;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&lt;code&gt;handleMessage&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#x81EA;&amp;#x7136;&amp;#x76F8;&amp;#x5BF9;&amp;#x4E8E;&amp;#x5728;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&amp;#xFF0C;&amp;#x81EA;&amp;#x7136;&amp;#x4E5F;&amp;#x80FD;&amp;#x66F4;&amp;#x65B0;&lt;code&gt;UI&lt;/code&gt;&amp;#x4E86;&amp;#x3002;&amp;#x901A;&amp;#x8FC7;&amp;#x8FD9;&amp;#x91CC;&amp;#x6211;&amp;#x4EEC;&amp;#x80FD;&amp;#x628A;&lt;code&gt;Looper&lt;/code&gt;&amp;#x6BD4;&amp;#x4F5C;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x6865;&amp;#x6881;&amp;#xFF0C;&amp;#x6765;&amp;#x8FDE;&amp;#x63A5;&lt;code&gt;Looper&lt;/code&gt;&amp;#x6240;&amp;#x5728;&amp;#x7684;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E0E;&lt;code&gt;Handler&lt;/code&gt;&amp;#x4E4B;&amp;#x95F4;&amp;#x7684;&amp;#x901A;&amp;#x4FE1;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x7BA1;&amp;#x7406;&amp;#x6D88;&amp;#x606F;&amp;#x961F;&amp;#x5217;&lt;code&gt;MessageQueue&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x6D88;&amp;#x606F;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x524D;&amp;#x9762;&amp;#x7684;&lt;code&gt;Runnable&lt;/code&gt;&amp;#x53C8;&amp;#x662F;&amp;#x5982;&amp;#x4F55;&amp;#x4E0D;&amp;#x4E3A;&amp;#x7A7A;&amp;#x7684;&amp;#x5462;&amp;#xFF1F;&amp;#x6211;&amp;#x4EEC;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;Handler&lt;/code&gt;&amp;#x6709;&amp;#x4E24;&amp;#x79CD;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x4E00;&amp;#x79CD;&amp;#x662F;&amp;#x76F4;&amp;#x63A5;&amp;#x521B;&amp;#x5EFA;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;Handler&lt;/code&gt;&amp;#x5E76;&amp;#x4E14;&amp;#x91CD;&amp;#x5199;&amp;#x5B83;&amp;#x7684;&lt;code&gt;handleMessage&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x800C;&amp;#x53E6;&amp;#x4E00;&amp;#x79CD;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;Handler.post(Runnable)&lt;/code&gt;&amp;#x6765;&amp;#x4F7F;&amp;#x7528;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x4E8B;&amp;#x4EF6;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#x81EA;&amp;#x7136;&amp;#x5C31;&amp;#x5728;&lt;code&gt;run&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x4E0A;&amp;#x9762;&amp;#x4ECB;&amp;#x7ECD;&amp;#x4E86;&lt;code&gt;Handler&lt;/code&gt;&amp;#x662F;&amp;#x5982;&amp;#x4F55;&amp;#x8054;&amp;#x7CFB;&amp;#x4E0A;&amp;#x4E86;&amp;#x9700;&amp;#x8981;&amp;#x64CD;&amp;#x4F5C;&amp;#x7684;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E0E;&amp;#x5BF9;&amp;#x6D88;&amp;#x606F;&amp;#x662F;&amp;#x5982;&amp;#x4F55;&amp;#x53D6;&amp;#x51FA;&amp;#x4E0E;&amp;#x5904;&amp;#x7406;&amp;#x7684;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x6765;&amp;#x8C08;&amp;#x8C08;&amp;#x6D88;&amp;#x606F;&amp;#x662F;&amp;#x5982;&amp;#x4F55;&amp;#x653E;&amp;#x5165;&amp;#x5230;&lt;code&gt;Looper&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;MessageQueue&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;sendMessageAtTime&quot;&gt;&lt;a href=&quot;#sendMessageAtTime&quot; class=&quot;headerlink&quot; title=&quot;sendMessageAtTime&quot;&gt;&lt;/a&gt;sendMessageAtTime&lt;/h2&gt;&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;Handler&lt;/code&gt;&amp;#x53D1;&amp;#x9001;&amp;#x6D88;&amp;#x606F;&amp;#x7684;&amp;#x65B9;&amp;#x5F0F;&amp;#x5F88;&amp;#x591A;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;&lt;code&gt;sendMessage&lt;/code&gt;&amp;#x3001;&lt;code&gt;sendEmptyMessage&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;sendMessageDelayed&lt;/code&gt;&amp;#x7B49;&amp;#xFF0C;&amp;#x5176;&amp;#x5B9E;&amp;#x5230;&amp;#x6700;&amp;#x540E;&amp;#x4ED6;&amp;#x4EEC;&amp;#x8C03;&amp;#x7528;&amp;#x7684;&amp;#x90FD;&amp;#x662F;&lt;code&gt;sendMessageAtTime&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x8FD8;&amp;#x662F;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&lt;code&gt;sendMessageAtTime&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public boolean sendMessageAtTime(Message msg, long uptimeMillis) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        MessageQueue queue = mQueue;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (queue == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            RuntimeException e = new RuntimeException(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    this + &amp;quot; sendMessageAtTime() called with no mQueue&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            Log.w(&amp;quot;Looper&amp;quot;, e.getMessage(), e);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return enqueueMessage(queue, msg, uptimeMillis);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x800C;&lt;code&gt;sendMessageAtTime&lt;/code&gt;&amp;#x5219;&amp;#x5C31;&amp;#x662F;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;&lt;code&gt;enqueueMessage&lt;/code&gt;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x770B;&amp;#x8FD9;&amp;#x65B9;&amp;#x6CD5;&amp;#x540D;&amp;#x5C31;&amp;#x77E5;&amp;#x9053;&amp;#x662F;&amp;#x5165;&amp;#x961F;&amp;#x5217;&amp;#x64CD;&amp;#x4F5C;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;enqueueMessage&quot;&gt;&lt;a href=&quot;#enqueueMessage&quot; class=&quot;headerlink&quot; title=&quot;enqueueMessage&quot;&gt;&lt;/a&gt;enqueueMessage&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private boolean enqueueMessage(MessageQueue queue, Message msg, long uptimeMillis) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        msg.target = this;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (mAsynchronous) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            msg.setAsynchronous(true);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return queue.enqueueMessage(msg, uptimeMillis);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x679C;&amp;#x4E0D;&amp;#x5176;&amp;#x7136;&amp;#x76F4;&amp;#x63A5;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;&lt;code&gt;MessageQueue&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;queue.enqueueMessage(msg, uptimeMillis)&lt;/code&gt;&amp;#x5C06;&amp;#x6D88;&amp;#x606F;&amp;#x52A0;&amp;#x5165;&amp;#x6D88;&amp;#x606F;&amp;#x961F;&amp;#x5217;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x8FD9;&amp;#x6BB5;&amp;#x4EE3;&amp;#x7801;&lt;code&gt;msg.target = this&lt;/code&gt; &amp;#x5C06;&amp;#x5F53;&amp;#x524D;&amp;#x7684;&lt;code&gt;Handler&lt;/code&gt;&amp;#x8D4B;&amp;#x7ED9;&amp;#x4E86;&lt;code&gt;msg.target&lt;/code&gt;,&amp;#x8FD9;&amp;#x5C31;&amp;#x662F;&amp;#x524D;&amp;#x9762;&amp;#x6240;&amp;#x8BF4;&amp;#x7684;&lt;code&gt;Looper.loop&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x8C03;&amp;#x7528;&amp;#x7684;&lt;code&gt;Handler&lt;/code&gt;&amp;#x3002;&amp;#x8FD9;&amp;#x6837;&amp;#x5C31;&amp;#x628A;&amp;#x6D88;&amp;#x606F;&amp;#x653E;&amp;#x5230;&amp;#x4E86;&lt;code&gt;MessageQueue&lt;/code&gt;&amp;#x4E2D;&amp;#xFF0C;&amp;#x8FDB;&amp;#x800C;&amp;#x901A;&amp;#x8FC7;&amp;#x524D;&amp;#x9762;&amp;#x6240;&amp;#x8BB2;&amp;#x7684;&lt;code&gt;loop&lt;/code&gt;&amp;#x6765;&amp;#x53D6;&amp;#x51FA;&amp;#x6D88;&amp;#x606F;&amp;#x8FDB;&amp;#x884C;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x5C31;&amp;#x6784;&amp;#x6210;&amp;#x4E86;&amp;#x6574;&amp;#x4E2A;&amp;#x5BF9;&amp;#x6D88;&amp;#x606F;&amp;#x8FDB;&amp;#x884C;&amp;#x5904;&amp;#x7406;&amp;#x7684;&amp;#x7CFB;&amp;#x7EDF;&amp;#x3002;&amp;#x8FD9;&amp;#x4E5F;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;Handler&lt;/code&gt;&amp;#x5185;&amp;#x90E8;&amp;#x6240;&amp;#x53D1;&amp;#x751F;&amp;#x7684;&amp;#x539F;&amp;#x7406;&amp;#x3002;&amp;#x597D;&amp;#x4E86;&lt;code&gt;Handler&lt;/code&gt;&amp;#x3001;&lt;code&gt;Looper&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;MessageQueue&lt;/code&gt;&amp;#x5B83;&amp;#x4EEC;&amp;#x4E4B;&amp;#x95F4;&amp;#x7684;&amp;#x8054;&amp;#x7CFB;&amp;#x57FA;&amp;#x672C;&amp;#x5C31;&amp;#x662F;&amp;#x8FD9;&amp;#x4E9B;&amp;#x4E86;&amp;#x3002;&amp;#x6211;&amp;#x4E5F;&amp;#x7B80;&amp;#x5355;&amp;#x753B;&amp;#x4E86;&amp;#x5F20;&amp;#x56FE;&amp;#x5E0C;&amp;#x671B;&amp;#x6709;&amp;#x6240;&amp;#x5E2E;&amp;#x52A9;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/10/19/Android-Handler&amp;#x3001;Looper&amp;#x4E0E;MessageQueue&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;/Handler&amp;#x3001;Looper&amp;#x4E0E;MessageQueue.png&quot; alt=&quot;&amp;#x8349;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x7ED3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;/a&gt;&amp;#x603B;&amp;#x7ED3;&lt;/h1&gt;&lt;p&gt;&amp;#x6765;&amp;#x603B;&amp;#x7ED3;&amp;#x4E0B;&amp;#x5B83;&amp;#x4EEC;&amp;#x4E4B;&amp;#x95F4;&amp;#x7684;&amp;#x6D41;&amp;#x7A0B;&amp;#x3002;&amp;#x9996;&amp;#x5148;&amp;#x521B;&amp;#x5EFA;&lt;code&gt;Handler&lt;/code&gt;&amp;#x800C;&amp;#x5728;&lt;code&gt;Handler&lt;/code&gt;&amp;#x6240;&amp;#x5904;&amp;#x7684;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E2D;&amp;#x5FC5;&amp;#x987B;&amp;#x8981;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;Looper&lt;/code&gt;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x5728;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E2D;&amp;#x9ED8;&amp;#x8BA4;&amp;#x5E2E;&amp;#x6211;&amp;#x4EEC;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&amp;#xFF0C;&amp;#x5176;&amp;#x4ED6;&amp;#x7EBF;&amp;#x7A0B;&amp;#x5FC5;&amp;#x987B;&amp;#x8C03;&amp;#x7528;&lt;code&gt;Looper.prepare&lt;/code&gt;&amp;#x6765;&amp;#x521B;&amp;#x5EFA;&lt;code&gt;Looper&lt;/code&gt;&amp;#x540C;&amp;#x65F6;&amp;#x8C03;&amp;#x7528;&lt;code&gt;Looper.loop&lt;/code&gt;&amp;#x5F00;&amp;#x542F;&amp;#x5BF9;&amp;#x6D88;&amp;#x606F;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#x3002;&amp;#x6BCF;&amp;#x4E2A;&lt;code&gt;Looper&lt;/code&gt;&amp;#x4E2D;&amp;#x90FD;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;MessageQueue&lt;/code&gt;&amp;#x5B83;&amp;#x662F;&amp;#x7528;&amp;#x6765;&amp;#x5B58;&amp;#x50A8;&lt;code&gt;Message&lt;/code&gt;&amp;#x7684;&amp;#xFF0C;&lt;code&gt;Handler&lt;/code&gt;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;post&lt;/code&gt;&amp;#x6216;&amp;#x8005;&lt;code&gt;send..&lt;/code&gt;&amp;#x7B49;&amp;#x4E00;&amp;#x7CFB;&amp;#x5217;&amp;#x64CD;&amp;#x4F5C;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;Looper&lt;/code&gt;&amp;#x5C06;&amp;#x6D88;&amp;#x606F;&amp;#x653E;&amp;#x5165;&amp;#x5230;&amp;#x6D88;&amp;#x606F;&amp;#x961F;&amp;#x5217;&amp;#x4E2D;&amp;#xFF0C;&amp;#x800C;&lt;code&gt;Looper&lt;/code&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x5F00;&amp;#x542F;&amp;#x4E00;&amp;#x4E2A;&amp;#x65E0;&amp;#x9650;&amp;#x7684;&amp;#x5FAA;&amp;#x73AF;&amp;#x6765;&amp;#x4E00;&amp;#x76F4;&amp;#x76D1;&amp;#x542C;&amp;#x7740;&amp;#x6D88;&amp;#x606F;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x4E0D;&amp;#x65AD;&amp;#x4ECE;&lt;code&gt;MessageQueue&lt;/code&gt;&amp;#x4E2D;&amp;#x53D6;&amp;#x51FA;&amp;#x6D88;&amp;#x606F;&amp;#xFF0C;&amp;#x5E76;&amp;#x4EA4;&amp;#x7ED9;&amp;#x4E0E;&amp;#x5F53;&amp;#x524D;&lt;code&gt;Looper&lt;/code&gt;&amp;#x6240;&amp;#x7ED1;&amp;#x5B9A;&amp;#x7684;&lt;code&gt;handler&lt;/code&gt;&amp;#x7684;&lt;code&gt;dispatchMessage&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x5206;&amp;#x53D1;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x6839;&amp;#x636E;&amp;#x60C5;&amp;#x51B5;&amp;#x8C03;&amp;#x7528;&lt;code&gt;Runnable&lt;/code&gt;&amp;#x7684;&lt;code&gt;run&lt;/code&gt;&amp;#x6216;&amp;#x8005;&lt;code&gt;Handler&lt;/code&gt;&amp;#x7684;&lt;code&gt;HandlerMessage&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x5BF9;&amp;#x6D88;&amp;#x606F;&amp;#x8FDB;&amp;#x884C;&amp;#x6700;&amp;#x540E;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#x3002;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x5728;&lt;code&gt;Android&lt;/code&gt;&amp;#x4E2D;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;Handler&lt;/code&gt;&amp;#x6765;&amp;#x66F4;&amp;#x65B0;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="源码分析" scheme="https://idisfkj.github.io/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>Android Volley源码分析(二)</title>
    <link href="https://idisfkj.github.io/2016/10/17/Android-Volley%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%BA%8C/"/>
    <id>https://idisfkj.github.io/2016/10/17/Android-Volley源码分析-二/</id>
    <published>2016-10-17T06:56:27.000Z</published>
    <updated>2016-10-17T12:39:37.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h1&gt;&lt;p&gt;&amp;#x4E0A;&amp;#x4E00;&amp;#x6B21;&amp;#x5206;&amp;#x6790;&amp;#x4E86;&amp;#x5173;&amp;#x4E8E;&lt;code&gt;Volley&lt;/code&gt;&amp;#x6700;&amp;#x6838;&amp;#x5FC3;&amp;#x7684;&amp;#x539F;&amp;#x7406;&amp;#xFF0C;&amp;#x5BF9;&lt;code&gt;Volley&lt;/code&gt;&amp;#x5982;&amp;#x4F55;&amp;#x5904;&amp;#x7406;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x505A;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&amp;#x5168;&amp;#x9762;&amp;#x7684;&amp;#x5256;&amp;#x6790;&amp;#x3002;&amp;#x8FD8;&amp;#x6CA1;&amp;#x6709;&amp;#x4E86;&amp;#x89E3;&amp;#x7684;&amp;#x53EF;&amp;#x4EE5;&amp;#x5148;&amp;#x4E86;&amp;#x89E3;&amp;#x4E00;&amp;#x4E0B;&lt;a href=&quot;https://idisfkj.github.io/2016/10/14/Android-Volley%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%80/&quot;&gt;Android Volley&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;(&amp;#x4E00;)&lt;/a&gt;,&amp;#x8FD9;&amp;#x6B21;&amp;#x6211;&amp;#x518D;&amp;#x6765;&amp;#x5BF9;&amp;#x5B83;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#x539F;&amp;#x7406;&amp;#x8FDB;&amp;#x884C;&amp;#x81EA;&amp;#x6211;&amp;#x8BB2;&amp;#x89E3;&amp;#xFF0C;&amp;#x5E0C;&amp;#x671B;&amp;#x80FD;&amp;#x5E2E;&amp;#x52A9;&amp;#x5230;&amp;#x4E00;&amp;#x90E8;&amp;#x5206;&amp;#x4EBA;&amp;#xFF0C;&amp;#x4E5F;&amp;#x80FD;&amp;#x5DE9;&amp;#x56FA;&amp;#x81EA;&amp;#x5DF1;&amp;#x6240;&amp;#x5B66;&amp;#x7684;&amp;#x77E5;&amp;#x8BC6;&amp;#xFF0C;&amp;#x4E0D;&amp;#x8DB3;&amp;#x4E4B;&amp;#x5904;&amp;#x6B22;&amp;#x8FCE;&amp;#x6307;&amp;#x51FA;&amp;#xFF01;&lt;/p&gt;
&lt;h1 id=&quot;ImageLoader&quot;&gt;&lt;a href=&quot;#ImageLoader&quot; class=&quot;headerlink&quot; title=&quot;ImageLoader&quot;&gt;&lt;/a&gt;ImageLoader&lt;/h1&gt;&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x56FE;&amp;#x7247;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x662F;&amp;#x5C11;&amp;#x4E0D;&amp;#x4E86;&amp;#x5BF9;&lt;code&gt;ImageLoader&lt;/code&gt;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#xFF0C;&amp;#x5B83;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x56FE;&amp;#x7247;&amp;#x88C5;&amp;#x8F7D;&amp;#x5668;&amp;#xFF0C;&amp;#x5BF9;&amp;#x56FE;&amp;#x7247;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x7BA1;&amp;#x7406;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x4F7F;&amp;#x7528;&amp;#x65B9;&amp;#x5F0F;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private static final ImageLoader imageLoader = new ImageLoader(VolleyUtil.volleyQueue, new ImageCache(CACHE_SIZE));&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5B83;&amp;#x6709;&amp;#x4E24;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;&lt;code&gt;RequestQueue&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;ImageCache&lt;/code&gt;&amp;#xFF0C;&amp;#x5BF9;&amp;#x4E8E;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#x6211;&amp;#x4EEC;&amp;#x518D;&amp;#x719F;&amp;#x6089;&amp;#x4E0D;&amp;#x8FC7;&amp;#x4E86;&amp;#xFF0C;&amp;#x81F3;&amp;#x4E8E;&amp;#x7B2C;&amp;#x4E8C;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#x662F;&amp;#x4E3A;&amp;#x4E86;&amp;#x6784;&amp;#x5EFA;&amp;#x56FE;&amp;#x7247;&amp;#x7F13;&amp;#x5B58;&amp;#x7684;&amp;#xFF0C;&amp;#x5982;&amp;#x4E0D;&amp;#x6784;&amp;#x5EFA;&amp;#x5219;&amp;#x7F13;&amp;#x5B58;&amp;#x81EA;&amp;#x7136;&amp;#x5C31;&amp;#x5931;&amp;#x6548;&amp;#x4E86;&amp;#x3002;&amp;#x73B0;&amp;#x5728;&amp;#x6211;&amp;#x4EEC;&amp;#x8FDB;&amp;#x5165;&lt;code&gt;ImageLoader&lt;/code&gt;&amp;#x67E5;&amp;#x770B;&amp;#x5B83;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&amp;#xFF0C;&amp;#x770B;&amp;#x5B83;&amp;#x5230;&amp;#x5E95;&amp;#x505A;&amp;#x4E86;&amp;#x4EC0;&amp;#x4E48;&amp;#xFF1F;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public ImageLoader(RequestQueue queue, ImageCache imageCache) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mRequestQueue = queue;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mCache = imageCache;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FDB;&amp;#x53BB;&amp;#x53D1;&amp;#x73B0;&amp;#x5B83;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;get&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5BF9;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#x5C31;&amp;#x662F;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x4F7F;&amp;#x7528;&amp;#x8FC7;&lt;code&gt;Volley&lt;/code&gt;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#x7684;&amp;#x90FD;&amp;#x77E5;&amp;#x9053;&amp;#x6211;&amp;#x4EEC;&amp;#x90FD;&amp;#x8981;&amp;#x8C03;&amp;#x7528;&amp;#x5B83;&amp;#x7684;&lt;code&gt;get&lt;/code&gt;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5B83;&amp;#x5230;&amp;#x5E95;&amp;#x53C8;&amp;#x505A;&amp;#x4E86;&amp;#x4EC0;&amp;#x4E48;&amp;#x5462;&amp;#xFF1F;&lt;/p&gt;
&lt;h2 id=&quot;get&quot;&gt;&lt;a href=&quot;#get&quot; class=&quot;headerlink&quot; title=&quot;get&quot;&gt;&lt;/a&gt;get&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public ImageContainer get(String requestUrl, ImageListener imageListener,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            int maxWidth, int maxHeight, ScaleType scaleType) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // only fulfill requests that were initiated from the main thread.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        throwIfNotOnMainThread();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        final String cacheKey = getCacheKey(requestUrl, maxWidth, maxHeight, scaleType);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Try to look up the request in the cache of remote images.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Bitmap cachedBitmap = mCache.getBitmap(cacheKey);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (cachedBitmap != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // Return the cached bitmap.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            ImageContainer container = new ImageContainer(cachedBitmap, requestUrl, null, null);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            imageListener.onResponse(container, true);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return container;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // The bitmap did not exist in the cache, fetch it!&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ImageContainer imageContainer =&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                new ImageContainer(null, requestUrl, cacheKey, imageListener);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Update the caller to let them know that they should use the default bitmap.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        imageListener.onResponse(imageContainer, true);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Check to see if a request is already in-flight.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        BatchedImageRequest request = mInFlightRequests.get(cacheKey);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (request != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // If it is, add this request to the list of listeners.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            request.addContainer(imageContainer);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return imageContainer;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // The request is not already in flight. Send the new request to the network and&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // track it.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Request&amp;lt;Bitmap&amp;gt; newRequest = makeImageRequest(requestUrl, maxWidth, maxHeight, scaleType,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                cacheKey);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mRequestQueue.add(newRequest);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mInFlightRequests.put(cacheKey,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                new BatchedImageRequest(newRequest, imageContainer));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return imageContainer;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6839;&amp;#x636E;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&amp;#xFF0C;&amp;#x5B83;&amp;#x4F20;&amp;#x9012;&amp;#x4E86;&amp;#x51E0;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x5305;&amp;#x62EC;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&lt;code&gt;url&lt;/code&gt;&amp;#x3001;&amp;#x76D1;&amp;#x542C;&amp;#x5668;&lt;code&gt;ImageListener&lt;/code&gt;&amp;#x3001;&amp;#x8FD4;&amp;#x56DE;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x5BBD;&amp;#x9AD8;&amp;#x4E0E;&amp;#x7F29;&amp;#x653E;&amp;#x7C7B;&amp;#x578B;&amp;#xFF0C;&lt;code&gt;ImageListener&lt;/code&gt;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x662F;&amp;#x4E3A;&amp;#x4E86;&amp;#x5BF9;&amp;#x54CD;&amp;#x5E94;&amp;#x4E0D;&amp;#x540C;&amp;#x5904;&amp;#x7406;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;,&amp;#x5305;&amp;#x62EC;&lt;code&gt;onResponse&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;onErrorResponse&lt;/code&gt;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x770B;&amp;#x4E3B;&amp;#x8981;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x9996;&amp;#x5148;&amp;#x5224;&amp;#x65AD;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x8C03;&amp;#x7528;&amp;#x662F;&amp;#x5426;&amp;#x5728;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#xFF0C;&amp;#x4E0D;&amp;#x662F;&amp;#x5219;&amp;#x629B;&amp;#x51FA;&amp;#x5F02;&amp;#x5E38;&amp;#xFF0C;&amp;#x5BF9;&amp;#x4E8E;&amp;#x5BF9;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#x7684;&amp;#x5224;&amp;#x65AD;&amp;#x5E94;&amp;#x8BE5;&amp;#x5F88;&amp;#x5BB9;&amp;#x6613;&amp;#x60F3;&amp;#x5230;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x8981;&amp;#x5BF9;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x54CD;&amp;#x5E94;&amp;#x505A;&amp;#x5904;&amp;#x7406;&amp;#x66F4;&amp;#x65B0;&amp;#x56FE;&amp;#x7247;&amp;#x7B49;&amp;#xFF0C;&amp;#x5BF9;&lt;code&gt;UI&lt;/code&gt;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#x90FD;&amp;#x8981;&amp;#x5728;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x81EA;&amp;#x7136;&amp;#x8981;&amp;#x5728;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#x8FDB;&amp;#x884C;&amp;#x66F4;&amp;#x65B0;&amp;#x3002;&amp;#x4E0B;&amp;#x4E00;&amp;#x6B65;&amp;#x90FD;&amp;#x662F;&amp;#x4E00;&amp;#x8D2F;&amp;#x7684;&amp;#x4F5C;&amp;#x98CE;&amp;#xFF0C;&amp;#xFF08;&lt;code&gt;10&lt;/code&gt;&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&amp;#xFF09;&amp;#x5148;&amp;#x5224;&amp;#x65AD;&amp;#x7F13;&amp;#x5B58;&amp;#x4E2D;&amp;#x662F;&amp;#x5426;&amp;#x5B58;&amp;#x5728;&amp;#x8BE5;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&lt;code&gt;Bitmap&lt;/code&gt;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x5B58;&amp;#x5728;&amp;#x5219;&amp;#x6784;&amp;#x9020;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;ImageContainer&lt;/code&gt;&amp;#xFF0C;&amp;#x5C06;&amp;#x5FC5;&amp;#x8981;&amp;#x4FE1;&amp;#x606F;&amp;#x4F20;&amp;#x5165;&amp;#xFF0C;&amp;#x8FD9;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x5BB9;&amp;#x5668;&amp;#x7528;&amp;#x6765;&amp;#x4FDD;&amp;#x5B58;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x4FE1;&amp;#x606F;,&amp;#x5305;&amp;#x62EC;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Bitmap&lt;/code&gt;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ImageListener&lt;/code&gt; &amp;#x76D1;&amp;#x542C;&amp;#x5668;,&amp;#x5305;&amp;#x62EC;&amp;#x540E;&amp;#x7EED;&amp;#x56DE;&amp;#x8C03;&amp;#x7684;&lt;code&gt;onResponse&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;onErrorResponse&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mCacheKey&lt;/code&gt; &amp;#x7F13;&amp;#x5B58;&amp;#x7684;&lt;code&gt;key&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mRequestUrl&lt;/code&gt; &amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&lt;code&gt;url&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x7136;&amp;#x540E;&amp;#x8C03;&amp;#x7528;&lt;code&gt;imageListener&lt;/code&gt;&amp;#x7684;&lt;code&gt;onResponse&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x4E0D;&amp;#x5B58;&amp;#x5728;&amp;#x4E0E;&amp;#x4F1A;&amp;#x4E3A;&amp;#x5176;&amp;#x521B;&amp;#x5EFA;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;ImageContainer&lt;/code&gt;&amp;#x4E3A;&amp;#x4E86;&amp;#x4FDD;&amp;#x5B58;&amp;#x540E;&amp;#x7EED;&amp;#x7684;&lt;code&gt;Bitmpa&lt;/code&gt;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x6211;&amp;#x4EEC;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;&amp;#x5B83;&amp;#x4E5F;&amp;#x4F1A;&amp;#x5148;&amp;#x8C03;&amp;#x7528;&lt;code&gt;onResponse&lt;/code&gt;&amp;#x8FD9;&amp;#x4E00;&amp;#x6B65;&amp;#x5E76;&amp;#x4E0D;&amp;#x662F;&amp;#x8BBE;&amp;#x7F6E;&amp;#x52A0;&amp;#x8F7D;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#xFF0C;&amp;#x800C;&amp;#x662F;&amp;#x8BBE;&amp;#x7F6E;&amp;#x9ED8;&amp;#x8BA4;&amp;#x6B63;&amp;#x5728;&amp;#x52A0;&amp;#x8F7D;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#xFF08;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E86;&amp;#x7684;&amp;#x8BDD;&amp;#xFF09;&amp;#x3002;&amp;#xFF08;&lt;code&gt;25&lt;/code&gt;&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&amp;#xFF09;&amp;#x5982;&amp;#x679C;&amp;#x8BE5;&amp;#x8BF7;&amp;#x6C42;&amp;#x6B63;&amp;#x5728;&amp;#x88AB;&amp;#x6267;&amp;#x884C;,&amp;#x5C06;&amp;#x5F53;&amp;#x524D;&amp;#x7684;&lt;code&gt;ImageContainer&lt;/code&gt;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;LinkedList&lt;/code&gt;&amp;#x4E2D;&amp;#x4E3A;le&amp;#x540E;&amp;#x7EED;&amp;#x54CD;&amp;#x5E94;&amp;#x7684;&amp;#x9012;&amp;#x9001;&amp;#xFF1B;&amp;#x4E0B;&amp;#x9762;&amp;#x624D;&amp;#x662F;&amp;#x771F;&amp;#x5728;&amp;#x4ECE;&amp;#x7F51;&amp;#x7EDC;&amp;#x4E0A;&amp;#x83B7;&amp;#x53D6;&amp;#xFF08;&lt;code&gt;34&lt;/code&gt;&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&amp;#xFF09;&amp;#x6784;&amp;#x9020;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;Request&lt;/code&gt;&amp;#x5E76;&amp;#x5C06;&amp;#x5176;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x4E86;&amp;#x8BF7;&amp;#x6C42;&amp;#x961F;&amp;#x5217;&amp;#x4E2D;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x8FD9;&amp;#x4E2A;&lt;code&gt;makeImageRequest&lt;/code&gt;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&amp;#x4EC0;&amp;#x4E48;&lt;/p&gt;
&lt;h2 id=&quot;makeImageRequest&quot;&gt;&lt;a href=&quot;#makeImageRequest&quot; class=&quot;headerlink&quot; title=&quot;makeImageRequest&quot;&gt;&lt;/a&gt;makeImageRequest&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;protected Request&amp;lt;Bitmap&amp;gt; makeImageRequest(String requestUrl, int maxWidth, int maxHeight,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            ScaleType scaleType, final String cacheKey) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return new ImageRequest(requestUrl, new Listener&amp;lt;Bitmap&amp;gt;() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            public void onResponse(Bitmap response) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                onGetImageSuccess(cacheKey, response);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }, maxWidth, maxHeight, scaleType, Config.RGB_565, new ErrorListener() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            public void onErrorResponse(VolleyError error) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                onGetImageError(cacheKey, error);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        });&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x73B0;&amp;#x5728;&amp;#x660E;&amp;#x767D;&amp;#x4E86;&amp;#x5427;&amp;#xFF0C;&amp;#x5176;&amp;#x5B9E;&amp;#x5C31;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;&lt;code&gt;ImageRequest&lt;/code&gt;&amp;#xFF0C;&amp;#x4E0E;&lt;code&gt;StringRequest&lt;/code&gt;&amp;#x7C7B;&amp;#x4F3C;&amp;#xFF0C;&amp;#x5728;&amp;#x4E0A;&amp;#x4E00;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&lt;a href=&quot;https://idisfkj.github.io/2016/10/14/Android-Volley%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%80/&quot;&gt;Android Volley&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;(&amp;#x4E00;)&lt;/a&gt;&amp;#x5DF2;&amp;#x7ECF;&amp;#x8BB2;&amp;#x4E86;&amp;#xFF0C;&amp;#x4E0D;&amp;#x7BA1;&amp;#x662F;&amp;#x76F4;&amp;#x63A5;&amp;#x4F7F;&amp;#x7528;&amp;#x7F13;&amp;#x5B58;&amp;#x8FD8;&amp;#x662F;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x5728;&amp;#x6700;&amp;#x540E;&amp;#x90FD;&amp;#x4F1A;&amp;#x5C06;&amp;#x7ED3;&amp;#x679C;&amp;#x4EA4;&amp;#x7531;&lt;code&gt;DeliveryResponse&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x9012;&amp;#x9001;,&amp;#x6839;&amp;#x636E;&amp;#x54CD;&amp;#x5E94;&amp;#x60C5;&amp;#x51B5;&amp;#x5206;&amp;#x522B;&amp;#x8C03;&amp;#x7528;&amp;#x76D1;&amp;#x542C;&amp;#x5668;&amp;#x7684;&lt;code&gt;onResponse&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;onErrorResponse&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;onGetImageSuccess&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;onGetImageError&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x53C8;&amp;#x505A;&amp;#x4E86;&amp;#x4EC0;&amp;#x4E48;&amp;#x5462;&amp;#xFF1F;&lt;/p&gt;
&lt;h2 id=&quot;onGetImageSuccess-amp-amp-onGetImageError&quot;&gt;&lt;a href=&quot;#onGetImageSuccess-amp-amp-onGetImageError&quot; class=&quot;headerlink&quot; title=&quot;onGetImageSuccess &amp;amp;&amp;amp; onGetImageError&quot;&gt;&lt;/a&gt;onGetImageSuccess &amp;amp;&amp;amp; onGetImageError&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;protected void onGetImageSuccess(String cacheKey, Bitmap response) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // cache the image that was fetched.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mCache.putBitmap(cacheKey, response);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // remove the request from the list of in-flight requests.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        BatchedImageRequest request = mInFlightRequests.remove(cacheKey);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (request != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // Update the response bitmap.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            request.mResponseBitmap = response;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // Send the batched response&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            batchResponse(cacheKey, request);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x505A;&amp;#x7684;&amp;#x4E8B;&amp;#x65E0;&amp;#x975E;&amp;#x5C31;&amp;#x662F;&amp;#x5C06;&lt;code&gt;Bitmap&lt;/code&gt;&amp;#x52A0;&amp;#x5165;&amp;#x7F13;&amp;#x5B58;&amp;#x4E2D;&amp;#x540C;&amp;#x65F6;&amp;#x66F4;&amp;#x65B0;&amp;#x8BF7;&amp;#x6C42;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;Bitmap&lt;/code&gt;&amp;#x4EE5;&amp;#x4FBF;&amp;#x540E;&amp;#x7EED;&lt;code&gt;batchResponse&lt;/code&gt;&amp;#x7684;&amp;#x6279;&amp;#x5904;&amp;#x7406;&amp;#x64CD;&amp;#x4F5C;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;protected void onGetImageError(String cacheKey, VolleyError error) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Notify the requesters that something failed via a null result.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Remove this request from the list of in-flight requests.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        BatchedImageRequest request = mInFlightRequests.remove(cacheKey);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (request != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // Set the error for this request&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            request.setError(error);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // Send the batched response&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            batchResponse(cacheKey, request);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;onGetImageError&lt;/code&gt;&amp;#x4E5F;&amp;#x7C7B;&amp;#x4F3C;&amp;#xFF0C;&amp;#x53EA;&amp;#x4E0D;&amp;#x8FC7;&amp;#x662F;&amp;#x9519;&amp;#x8BEF;&amp;#x7684;&amp;#x54CD;&amp;#x5E94;&amp;#x65E0;&amp;#x9700;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x7F13;&amp;#x5B58;&amp;#x4E2D;&amp;#xFF0C;&amp;#x4F46;&amp;#x8FD8;&amp;#x662F;&amp;#x8981;&amp;#x8FDB;&amp;#x884C;&lt;code&gt;batchResponse&lt;/code&gt;&amp;#xFF0C;&amp;#x65E2;&amp;#x7136;&amp;#x5982;&amp;#x6B64;&amp;#x90A3;&amp;#x6211;&amp;#x4EEC;&amp;#x7EE7;&amp;#x7EED;&amp;#x8FDB;&amp;#x5165;&lt;code&gt;batchResponse&lt;/code&gt;&amp;#x6E90;&amp;#x7801;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;batchResponse&quot;&gt;&lt;a href=&quot;#batchResponse&quot; class=&quot;headerlink&quot; title=&quot;batchResponse&quot;&gt;&lt;/a&gt;batchResponse&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private void batchResponse(String cacheKey, BatchedImageRequest request) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mBatchedResponses.put(cacheKey, request);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // If we don&amp;apos;t already have a batch delivery runnable in flight, make a new one.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Note that this will be used to deliver responses to all callers in mBatchedResponses.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (mRunnable == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            mRunnable = new Runnable() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                public void run() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    for (BatchedImageRequest bir : mBatchedResponses.values()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        for (ImageContainer container : bir.mContainers) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            // If one of the callers in the batched request canceled the request&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            // after the response was received but before it was delivered,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            // skip them.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            if (container.mListener == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                continue;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            if (bir.getError() == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                container.mBitmap = bir.mResponseBitmap;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                 container.mListener.onResponse(container, false);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                 container.mListener.onErrorResponse(bir.getError());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    mBatchedResponses.clear();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    mRunnable = null;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            };&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // Post the runnable.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            mHandler.postDelayed(mRunnable, mBatchResponseDelayMs);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x4EE3;&amp;#x7801;&amp;#x53D1;&amp;#x73B0;&amp;#x5176;&amp;#x4E2D;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;run&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x91CC;&amp;#x9762;&amp;#x6839;&amp;#x636E;&amp;#x56FE;&amp;#x7247;&amp;#x5BB9;&amp;#x5668;&lt;code&gt;ImageContainer&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x4FE1;&amp;#x606F;&amp;#x5206;&amp;#x522B;&amp;#x8C03;&amp;#x7528;&amp;#x76D1;&amp;#x542C;&amp;#x5668;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;onResponse&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;onErrorResponse&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x8FD9;&amp;#x5C31;&amp;#x662F;&amp;#x6211;&amp;#x4EEC;&amp;#x524D;&amp;#x9762;&lt;code&gt;get&lt;/code&gt;&amp;#x4E2D;&amp;#x6240;&amp;#x4F20;&amp;#x9012;&amp;#x7684;&lt;code&gt;ImageListener&lt;/code&gt;&amp;#x63A5;&amp;#x53E3;&amp;#x3002;&amp;#x5176;&amp;#x4E2D;&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x53EF;&amp;#x4EE5;&amp;#x7531;&amp;#x6211;&amp;#x4EEC;&amp;#x81EA;&amp;#x5DF1;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&amp;#x6700;&amp;#x540E;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;mHandler&lt;/code&gt;&amp;#xFF08;&amp;#x4F5C;&amp;#x7528;&amp;#x5728;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#xFF09;&amp;#x8FDB;&amp;#x884C;&amp;#x5904;&amp;#x7406;&amp;#x3002;&lt;br&gt;&amp;#x5BF9;&amp;#x4E8E;&lt;code&gt;ImageListener&lt;/code&gt;&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x4E5F;&amp;#x6709;&amp;#x9ED8;&amp;#x8BA4;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&lt;code&gt;getImageListener&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x9ED8;&amp;#x8BA4;&amp;#x7684;getImageListener&amp;#x5B9E;&amp;#x73B0;&quot;&gt;&lt;a href=&quot;#&amp;#x9ED8;&amp;#x8BA4;&amp;#x7684;getImageListener&amp;#x5B9E;&amp;#x73B0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x9ED8;&amp;#x8BA4;&amp;#x7684;getImageListener&amp;#x5B9E;&amp;#x73B0;&quot;&gt;&lt;/a&gt;&amp;#x9ED8;&amp;#x8BA4;&amp;#x7684;getImageListener&amp;#x5B9E;&amp;#x73B0;&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static ImageListener getImageListener(final ImageView view,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            final int defaultImageResId, final int errorImageResId) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return new ImageListener() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            public void onErrorResponse(VolleyError error) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (errorImageResId != 0) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    view.setImageResource(errorImageResId);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            public void onResponse(ImageContainer response, boolean isImmediate) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (response.getBitmap() != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    view.setImageBitmap(response.getBitmap());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                } else if (defaultImageResId != 0) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    view.setImageResource(defaultImageResId);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        };&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&amp;#x6211;&amp;#x4EEC;&amp;#x80FD;&amp;#x770B;&amp;#x5230;&amp;#x6211;&amp;#x4EEC;&amp;#x6700;&amp;#x559C;&amp;#x6B22;&amp;#x770B;&amp;#x5230;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#xFF1A;&amp;#x5BF9;&lt;code&gt;ImageView&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x56FE;&amp;#x7247;&amp;#x586B;&amp;#x5145;&amp;#x3002;&amp;#x4F46;&amp;#x6211;&amp;#x4EEC;&amp;#x53EA;&amp;#x4F7F;&amp;#x7528;&amp;#x9ED8;&amp;#x8BA4;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x53EF;&amp;#x80FD;&amp;#x4F1A;&amp;#x5B58;&amp;#x5728;&amp;#x8BB8;&amp;#x591A;&amp;#x95EE;&amp;#x9898;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&amp;#x591A;&amp;#x6761;&amp;#x76EE;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#x4F1A;&amp;#x590D;&amp;#x7528;&lt;code&gt;item&lt;/code&gt;&amp;#x5982;&amp;#x679C;&amp;#x4E0D;&amp;#x5BF9;&amp;#x5176;&amp;#x8FDB;&amp;#x884C;&amp;#x7279;&amp;#x6B8A;&amp;#x5904;&amp;#x7406;&amp;#x4F1A;&amp;#x5F88;&amp;#x5BB9;&amp;#x6613;&amp;#x4EA7;&amp;#x751F;&lt;code&gt;&amp;#x591A;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#x65F6;&amp;#x7684;&amp;#x95EA;&amp;#x70C1;&amp;#x4E0E;&amp;#x5F02;&amp;#x4F4D;&amp;#x95EE;&amp;#x9898;&lt;/code&gt;&amp;#x3002;&amp;#x90A3;&amp;#x8981;&amp;#x5982;&amp;#x4F55;&amp;#x89E3;&amp;#x51B3;&amp;#x5462;&amp;#xFF1F;&amp;#x5176;&amp;#x5B9E;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x505A;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&amp;#x4E0D;&amp;#x8BA9;&amp;#x4ED6;&amp;#x76F4;&amp;#x63A5;&amp;#x5C31;&amp;#x5904;&amp;#x7406;&amp;#x8FD4;&amp;#x56DE;&amp;#x7684;&amp;#x7ED3;&amp;#x679C;&amp;#xFF0C;&amp;#x800C;&amp;#x662F;&amp;#x8981;&amp;#x8FDB;&amp;#x884C;&amp;#x7279;&amp;#x6B8A;&amp;#x7684;&amp;#x5224;&amp;#x65AD;&amp;#xFF0C;&amp;#x65E2;&amp;#x7136;&amp;#x5982;&amp;#x6B64;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x53EA;&amp;#x6709;&amp;#x81EA;&amp;#x5DF1;&amp;#x5B9E;&amp;#x73B0;&amp;#x63A5;&amp;#x53E3;&amp;#x4E2D;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x81EA;&amp;#x5DF1;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5B9E;&amp;#x73B0;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;ImageListener&amp;#x63A5;&amp;#x53E3;&quot;&gt;&lt;a href=&quot;#&amp;#x5B9E;&amp;#x73B0;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;ImageListener&amp;#x63A5;&amp;#x53E3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5B9E;&amp;#x73B0;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;ImageListener&amp;#x63A5;&amp;#x53E3;&quot;&gt;&lt;/a&gt;&amp;#x5B9E;&amp;#x73B0;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;ImageListener&amp;#x63A5;&amp;#x53E3;&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static ImageLoader.ImageListener getImageListener(final ImageView view, final String url, final int defaultImageResId&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            , final int errorImageResId) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return new ImageLoader.ImageListener() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            public void onResponse(ImageLoader.ImageContainer response, boolean isImmediate) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (response.getBitmap() != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    //&amp;#x9632;&amp;#x6B62;&amp;#x672A;&amp;#x8BBE;&amp;#x7F6E;&amp;#x9ED8;&amp;#x8BA4;&amp;#x52A0;&amp;#x8F7D;&amp;#x524D;&amp;#x7684;&amp;#x663E;&amp;#x793A;&amp;#x56FE;&amp;#x7247;&amp;#x800C;&amp;#x5BFC;&amp;#x81F4;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x9519;&amp;#x4E71;&amp;#x95EE;&amp;#x9898;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    String preUrl = (String) view.getTag();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    if (preUrl != null &amp;amp;&amp;amp; preUrl.trim().equals(url)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        if (!isImmediate &amp;amp;&amp;amp; defaultImageResId != 0) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            //&amp;#x4F7F;&amp;#x7528;&amp;#x7F51;&amp;#x7EDC;&amp;#x4E0B;&amp;#x8F7D;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            TransitionDrawable transitionDrawable = new TransitionDrawable(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                    new Drawable[]{&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                            App.mContext.getResources().getDrawable(defaultImageResId),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                            new BitmapDrawable(App.mContext.getResources(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                                    response.getBitmap())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            );&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            transitionDrawable.setCrossFadeEnabled(true);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            view.setImageDrawable(transitionDrawable);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            transitionDrawable.startTransition(100);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            //&amp;#x4F7F;&amp;#x7528;&amp;#x7F13;&amp;#x5B58;&amp;#x56FE;&amp;#x7247;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            view.setImageBitmap(response.getBitmap());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    if (defaultImageResId != 0)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        view.setImageResource(defaultImageResId);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            public void onErrorResponse(VolleyError error) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (errorImageResId != 0)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    view.setImageResource(errorImageResId);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        };&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5982;&amp;#x4EE3;&amp;#x7801;&amp;#x4E2D;&amp;#x7684;&amp;#x6CE8;&amp;#x91CA;&amp;#x6240;&amp;#x793A;&amp;#xFF0C;&amp;#x5BF9;&lt;code&gt;View&lt;/code&gt;&amp;#x5176;&amp;#x8FDB;&amp;#x884C;&amp;#x8BBE;&amp;#x7F6E;&lt;code&gt;Tag&lt;/code&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x662F;&lt;code&gt;url&lt;/code&gt;&amp;#x3002;&amp;#x53EA;&amp;#x6709;&amp;#x7B26;&amp;#x5408;&amp;#x5F53;&amp;#x524D;&amp;#x4F4D;&amp;#x7F6E;&amp;#x7684;&lt;code&gt;url&lt;/code&gt;&amp;#x94FE;&amp;#x63A5;&amp;#x7684;&lt;code&gt;Bitmap&lt;/code&gt;&amp;#x624D;&amp;#x80FD;&amp;#x586B;&amp;#x5145;&amp;#x5F53;&amp;#x524D;&amp;#x7684;&lt;code&gt;View&lt;/code&gt;&amp;#xFF0C;&amp;#x5176;&amp;#x5B9E;&amp;#x8981;&amp;#x5B8C;&amp;#x7F8E;&amp;#x89E3;&amp;#x51B3;&amp;#x662F;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x524D;&amp;#x63D0;&amp;#x7684;&amp;#xFF0C;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E86;&amp;#x9ED8;&amp;#x8BA4;&amp;#x7684;&amp;#x663E;&amp;#x793A;&amp;#x56FE;&amp;#x7247;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x4E0D;&amp;#x8BBE;&amp;#x7F6E;&amp;#x9ED8;&amp;#x8BA4;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x663E;&amp;#x793A;&amp;#xFF0C;&amp;#x867D;&amp;#x7136;&amp;#x5F02;&amp;#x4F4D;&amp;#x7684;&amp;#x60C5;&amp;#x51B5;&amp;#x89E3;&amp;#x51B3;&amp;#x4E86;&amp;#xFF0C;&amp;#x4F46;&amp;#x53EF;&amp;#x80FD;&amp;#x8FD8;&amp;#x662F;&amp;#x4F1A;&amp;#x5BFC;&amp;#x81F4;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x95EA;&amp;#x70C1;&amp;#x3002;&amp;#x53EA;&amp;#x4E0D;&amp;#x8FC7;&amp;#x73B0;&amp;#x5728;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#x90FD;&amp;#x4F1A;&amp;#x8BBE;&amp;#x7F6E;&amp;#x9ED8;&amp;#x8BA4;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x663E;&amp;#x793A;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x57FA;&amp;#x672C;&amp;#x5C31;&amp;#x4E0D;&amp;#x5B58;&amp;#x8FD9;&amp;#x79CD;&amp;#x95EE;&amp;#x9898;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;ImageCache&quot;&gt;&lt;a href=&quot;#ImageCache&quot; class=&quot;headerlink&quot; title=&quot;ImageCache&quot;&gt;&lt;/a&gt;ImageCache&lt;/h2&gt;&lt;p&gt;&amp;#x5173;&amp;#x4E8E;&amp;#x7F13;&amp;#x5B58;&amp;#x5728;&lt;code&gt;ImageLoader&lt;/code&gt;&amp;#x4E2D;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&lt;code&gt;ImageLoader.ImageCache&lt;/code&gt;&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x5C31;&amp;#x4E24;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&lt;code&gt;getBitmap&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;putBitmap&lt;/code&gt;,&amp;#x5982;&amp;#x679C;&amp;#x7EC6;&amp;#x5FC3;&amp;#x7684;&amp;#x8BDD;&amp;#x524D;&amp;#x9762;&amp;#x5BF9;&amp;#x7F13;&amp;#x5B58;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#x90FD;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x4E0E;&amp;#x4FDD;&amp;#x5B58;&amp;#x7684;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&amp;#x7F13;&amp;#x5B58;&amp;#x7684;&amp;#x8BDD;&amp;#x5C31;&amp;#x5FC5;&amp;#x987B;&amp;#x5B9E;&amp;#x73B0;&amp;#x8BE5;&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x5E76;&amp;#x5B9E;&amp;#x73B0;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x4E0D;&amp;#x8FC7;&amp;#x5BF9;&amp;#x7F13;&amp;#x5B58;&amp;#x7684;&amp;#x7BA1;&amp;#x7406;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x7EE7;&amp;#x627F;&lt;code&gt;LruCache&lt;/code&gt;&amp;#x7B97;&amp;#x6CD5;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public class ImageCache extends LruCache&amp;lt;String, Bitmap&amp;gt; implements ImageLoader.ImageCache {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * @param maxSize for caches that do not override {@link #sizeOf}, this is&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     *                the maximum number of entries in the cache. For all other caches,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     *                this is the maximum sum of the sizes of the entries in this cache.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public ImageCache(int maxSize) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        super(maxSize);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    protected int sizeOf(String key, Bitmap value) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return value.getRowBytes() * value.getHeight();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public Bitmap getBitmap(String url) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return get(url);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public void putBitmap(String url, Bitmap bitmap) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        put(url, bitmap);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x7F13;&amp;#x5B58;&lt;code&gt;maxSize&lt;/code&gt;&amp;#x7684;&amp;#x5927;&amp;#x5C0F;&amp;#x53EF;&amp;#x4EE5;&amp;#x53D6;&amp;#x5185;&amp;#x5B58;&amp;#x9600;&amp;#x503C;&amp;#x7684;1/8&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private static final int CACHE_SIZE = 1024 * 1024 * ((ActivityManager) App.mContext.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            getSystemService(Context.ACTIVITY_SERVICE)).getMemoryClass() / 8;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;NetWorkImageView&quot;&gt;&lt;a href=&quot;#NetWorkImageView&quot; class=&quot;headerlink&quot; title=&quot;NetWorkImageView&quot;&gt;&lt;/a&gt;NetWorkImageView&lt;/h1&gt;&lt;p&gt;&lt;code&gt;Volley&lt;/code&gt;&amp;#x8FD8;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&amp;#x4E13;&amp;#x95E8;&amp;#x7684;&amp;#x7F51;&amp;#x7EDC;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#x7684;&amp;#x63A7;&amp;#x4EF6;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x76F4;&amp;#x63A5;&amp;#x5C06;&lt;code&gt;xml&lt;/code&gt;&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;ImageView&lt;/code&gt;&amp;#x66FF;&amp;#x6362;&amp;#x6210;&lt;code&gt;NetWorkImageView&lt;/code&gt;&amp;#xFF0C;&amp;#x8BE5;&amp;#x63A7;&amp;#x4EF6;&amp;#x4E5F;&amp;#x662F;&amp;#x7EE7;&amp;#x627F;&amp;#x4E86;&lt;code&gt;ImageView&lt;/code&gt;&amp;#x53EA;&amp;#x4E0D;&amp;#x8FC7;&amp;#x5B83;&amp;#x5BF9;&amp;#x4E13;&amp;#x95E8;&amp;#x5BF9;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;Volley&lt;/code&gt;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#x8FDB;&amp;#x884C;&amp;#x4E86;&amp;#x5C01;&amp;#x88C5;&amp;#x3002;&amp;#x4F7F;&amp;#x7528;&amp;#x65F6;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;setDefaultImageResId&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;setErrorImageResId&lt;/code&gt;&amp;#x8BBE;&amp;#x7F6E;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4E0E;&amp;#x9519;&amp;#x8BEF;&amp;#x663E;&amp;#x793A;&amp;#x56FE;&amp;#x7247;&amp;#xFF0C;&amp;#x8C03;&amp;#x7528;&amp;#x5219;&amp;#x662F;&amp;#x76F4;&amp;#x63A5;&lt;code&gt;setImageUrl&lt;/code&gt;&amp;#xFF0C;&amp;#x8FD8;&amp;#x662F;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x6E90;&amp;#x7801;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public void setImageUrl(String url, ImageLoader imageLoader) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mUrl = url;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mImageLoader = imageLoader;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // The URL has potentially changed. See if we need to load it.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        loadImageIfNecessary(false);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x53C2;&amp;#x6570;&lt;code&gt;url&lt;/code&gt;&amp;#x4E0E;&amp;#x6211;&amp;#x4EEC;&amp;#x4E0A;&amp;#x9762;&amp;#x63D0;&amp;#x5230;&amp;#x7684;&lt;code&gt;ImageLoader&lt;/code&gt;,&amp;#x8BF4;&amp;#x660E;&amp;#x4E0D;&amp;#x7BA1;&amp;#x4F7F;&amp;#x7528;&amp;#x54EA;&amp;#x79CD;&amp;#x65B9;&amp;#x5F0F;&lt;code&gt;ImageLoader&lt;/code&gt;&amp;#x90FD;&amp;#x662F;&amp;#x5FC5;&amp;#x987B;&amp;#x7684;&amp;#x3002;&amp;#x518D;&amp;#x770B;&amp;#x4E0B;&lt;code&gt;loadImageIfNecessary&lt;/code&gt;&amp;#x505A;&amp;#x4E86;&amp;#x4EC0;&amp;#x4E48;&amp;#xFF1F;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;68&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;69&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;70&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;71&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;72&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;73&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;74&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;75&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;76&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;77&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;78&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;79&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;80&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;81&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;82&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;83&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;void loadImageIfNecessary(final boolean isInLayoutPass) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int width = getWidth();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int height = getHeight();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ScaleType scaleType = getScaleType();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        boolean wrapWidth = false, wrapHeight = false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (getLayoutParams() != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            wrapWidth = getLayoutParams().width == LayoutParams.WRAP_CONTENT;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            wrapHeight = getLayoutParams().height == LayoutParams.WRAP_CONTENT;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // if the view&amp;apos;s bounds aren&amp;apos;t known yet, and this is not a wrap-content/wrap-content&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // view, hold off on loading the image.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        boolean isFullyWrapContent = wrapWidth &amp;amp;&amp;amp; wrapHeight;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (width == 0 &amp;amp;&amp;amp; height == 0 &amp;amp;&amp;amp; !isFullyWrapContent) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // if the URL to be loaded in this view is empty, cancel any old requests and clear the&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // currently loaded image.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (TextUtils.isEmpty(mUrl)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (mImageContainer != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mImageContainer.cancelRequest();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mImageContainer = null;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            setDefaultImageOrNull();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // if there was an old request in this view, check if it needs to be canceled.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (mImageContainer != null &amp;amp;&amp;amp; mImageContainer.getRequestUrl() != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (mImageContainer.getRequestUrl().equals(mUrl)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // if the request is from the same URL, return.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                return;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // if there is a pre-existing request, cancel it if it&amp;apos;s fetching a different URL.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mImageContainer.cancelRequest();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                setDefaultImageOrNull();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Calculate the max image width / height to use while ignoring WRAP_CONTENT dimens.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int maxWidth = wrapWidth ? 0 : width;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int maxHeight = wrapHeight ? 0 : height;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // The pre-existing content of this view didn&amp;apos;t match the current URL. Load the new image&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // from the network.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ImageContainer newContainer = mImageLoader.get(mUrl,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                new ImageListener() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    public void onErrorResponse(VolleyError error) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        if (mErrorImageId != 0) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                 setImageResource(mErrorImageId);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    public void onResponse(final ImageContainer response, boolean isImmediate) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        // If this was an immediate response that was delivered inside of a layout&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        // pass do not set the image immediately as it will trigger a requestLayout&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        // inside of a layout. Instead, defer setting the image by posting back to&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        // the main thread.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        if (isImmediate &amp;amp;&amp;amp; isInLayoutPass) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            post(new Runnable() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                public void run() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                      onResponse(response, false);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            });&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            return;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        if (response.getBitmap() != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                 setImageBitmap(response.getBitmap());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        } else if (mDefaultImageId != 0) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                   setImageResource(mDefaultImageId);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }, maxWidth, maxHeight, scaleType);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // update the ImageContainer to be the new bitmap container.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mImageContainer = newContainer;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4EE3;&amp;#x7801;&amp;#x6BD4;&amp;#x8F83;&amp;#x591A;&amp;#xFF0C;&amp;#x4F46;&amp;#x90FD;&amp;#x662F;&amp;#x5F88;&amp;#x5BB9;&amp;#x6613;&amp;#x7406;&amp;#x89E3;&amp;#x7684;&amp;#xFF0C;&amp;#x524D;&amp;#x9762;&amp;#x4E00;&amp;#x90E8;&amp;#x5206;&amp;#x90FD;&amp;#x662F;&amp;#x5BF9;&amp;#x5BBD;&amp;#x5EA6;&amp;#x4E0E;&amp;#x9AD8;&amp;#x5EA6;&amp;#x7684;&amp;#x8BA1;&amp;#x7B97;&amp;#xFF0C;&amp;#x4F7F;&amp;#x56FE;&amp;#x7247;&amp;#x80FD;&amp;#x9002;&amp;#x5E94;&amp;#x63A7;&amp;#x4EF6;&amp;#x7684;&amp;#x5927;&amp;#x5C0F;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x5148;&amp;#x6765;&amp;#x627E;&amp;#x5230;&amp;#x6211;&amp;#x4EEC;&amp;#x6240;&amp;#x719F;&amp;#x6089;&amp;#x7684;&amp;#xFF08;&lt;code&gt;48&lt;/code&gt;&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&amp;#xFF09;&amp;#xFF0C;&amp;#x5B83;&amp;#x5C31;&amp;#x662F;&amp;#x524D;&amp;#x9762;&amp;#x7684;&lt;code&gt;get&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4EE5;&amp;#x53CA;&lt;code&gt;ImageListener&lt;/code&gt;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x76F8;&amp;#x4FE1;&amp;#x73B0;&amp;#x5728;&amp;#x4E0D;&amp;#x7528;&amp;#x591A;&amp;#x8BF4;&amp;#x4E86;&amp;#xFF0C;&amp;#x5B83;&amp;#x8C03;&amp;#x7528;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&amp;#x90FD;&amp;#x5728;&amp;#x524D;&amp;#x9762;&amp;#x8BB2;&amp;#x4E86;&amp;#x3002;&amp;#x518D;&amp;#x5411;&amp;#x4E0A;&amp;#x8D70;(&lt;code&gt;32&lt;/code&gt;&amp;#x884C;&amp;#x4EE3;&amp;#x7801;)&amp;#x53D1;&amp;#x73B0;&amp;#x6CA1;&amp;#xFF0C;&amp;#x5B83;&amp;#x5C06;&amp;#x5F53;&amp;#x524D;&lt;code&gt;NetWorkImageView&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;ImageContainer&lt;/code&gt;&amp;#x4E2D;&amp;#x4FDD;&amp;#x5B58;&amp;#x7684;&lt;code&gt;url&lt;/code&gt;&amp;#x4E0E;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&lt;code&gt;url&lt;/code&gt;&amp;#x76F8;&amp;#x6BD4;&amp;#x8F83;&amp;#xFF0C;&amp;#x662F;&amp;#x4E0D;&amp;#x662F;&amp;#x4E0E;&amp;#x524D;&amp;#x9762;&amp;#x6240;&amp;#x8BF4;&amp;#x7684;&lt;code&gt;&amp;#x9632;&amp;#x95EA;&amp;#x70C1;&amp;#x4E0E;&amp;#x5F02;&amp;#x4F4D;&lt;/code&gt;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#x76F8;&amp;#x4F3C;&amp;#x5462;&amp;#xFF1F;&amp;#x4F60;&amp;#x770B;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&lt;code&gt;url&lt;/code&gt;&amp;#x76F8;&amp;#x540C;&amp;#x7684;&amp;#x8BDD;&amp;#x8BF4;&amp;#x660E;&amp;#x5F53;&amp;#x524D;&amp;#x63A7;&amp;#x4EF6;&amp;#x4E0A;&amp;#x6240;&amp;#x663E;&amp;#x793A;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x4E0E;&amp;#x7ED3;&amp;#x679C;&amp;#x543B;&amp;#x5408;&amp;#xFF0C;&amp;#x5C31;&amp;#x76F4;&amp;#x63A5;&amp;#x8FD4;&amp;#x56DE;&amp;#x4E0D;&amp;#x505A;&amp;#x5904;&amp;#x7406;&amp;#xFF1B;&amp;#x5426;&amp;#x5219;&lt;code&gt;mImageContainer.cancelRequest()&lt;/code&gt;&amp;#x53D6;&amp;#x6D88;&amp;#x539F;&amp;#x6765;&amp;#x7684;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x5E76;&amp;#x4E14;&lt;code&gt;setDefaultImageOrNull()&lt;/code&gt;&amp;#xFF0C;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#x770B;&amp;#x65B9;&amp;#x6CD5;&amp;#x540D;&amp;#x5C31;&amp;#x77E5;&amp;#x9053;&amp;#xFF1A;&amp;#x5982;&amp;#x679C;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E86;&amp;#x9ED8;&amp;#x8BA4;&amp;#x56FE;&amp;#x7247;&amp;#x5C31;&amp;#x663E;&amp;#x793A;&amp;#x9ED8;&amp;#x8BA4;&amp;#x56FE;&amp;#x7247;&amp;#xFF0C;&amp;#x6CA1;&amp;#x6709;&amp;#x5C31;&amp;#x8BBE;&amp;#x7F6E;&amp;#x7A7A;&amp;#x56FE;&amp;#x7247;&amp;#x4E0D;&amp;#x663E;&amp;#x793A;&amp;#x3002;&amp;#x540E;&amp;#x9762;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#x5C31;&amp;#x662F;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&lt;code&gt;get&lt;/code&gt;&amp;#x5904;&amp;#x7406;&amp;#x4E86;&amp;#xFF0C;&amp;#x518D;&amp;#x8FDB;&amp;#x884C;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&lt;code&gt;NetWorkImageView&lt;/code&gt;&amp;#x4F7F;&amp;#x7528;&amp;#x8D77;&amp;#x6765;&amp;#x76F8;&amp;#x5BF9;&amp;#x4E8E;&amp;#x66F4;&amp;#x7B80;&amp;#x5355;&amp;#xFF0C;&amp;#x66F4;&amp;#x5BB9;&amp;#x6613;&amp;#x4E0A;&amp;#x624B;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x5410;&amp;#x69FD;&quot;&gt;&lt;a href=&quot;#&amp;#x5410;&amp;#x69FD;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5410;&amp;#x69FD;&quot;&gt;&lt;/a&gt;&amp;#x5410;&amp;#x69FD;&lt;/h1&gt;&lt;p&gt;&amp;#x5176;&amp;#x5B9E;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x4E24;&amp;#x79CD;&amp;#x65B9;&amp;#x5F0F;&amp;#x52A0;&amp;#x8F7D;&amp;#x56FE;&amp;#x7247;&amp;#x6700;&amp;#x7EC8;&amp;#x90FD;&amp;#x662F;&amp;#x8C03;&amp;#x7528;&amp;#x7684;&lt;code&gt;ImageRequest&lt;/code&gt;&amp;#xFF0C;&amp;#x800C;&lt;code&gt;ImageRequest&lt;/code&gt;&amp;#x662F;&amp;#x7EE7;&amp;#x627F;&amp;#x4E0E;&lt;code&gt;Request&lt;/code&gt;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8FD8;&amp;#x662F;&amp;#x8D70;&amp;#x5230;&amp;#x4E86;&amp;#x524D;&amp;#x9762;&amp;#x90A3;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x6240;&amp;#x8BB2;&amp;#x7684;&amp;#x5185;&amp;#x5BB9;&amp;#x3002;&amp;#x540C;&amp;#x7406;&amp;#x518D;&amp;#x53BB;&amp;#x770B;&lt;code&gt;StringRequest&lt;/code&gt;&amp;#x3001;&lt;code&gt;JsonObjectRequest&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;JsonArrayRequest&lt;/code&gt;&amp;#x90FD;&amp;#x662F;&amp;#x7C7B;&amp;#x4F3C;&amp;#x7684;&amp;#xFF0C;&amp;#x90FD;&amp;#x662F;&amp;#x91CD;&amp;#x5199;&lt;code&gt;deliverResponse&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;parseNetworkResponse&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E0D;&amp;#x540C;&amp;#x6570;&amp;#x636E;&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x8BF7;&amp;#x6C42;&amp;#x3002;&amp;#x540C;&amp;#x6837;&amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x53C8;&amp;#x56DE;&amp;#x5230;&amp;#x4E86;&lt;a href=&quot;https://idisfkj.github.io/2016/10/14/Android-Volley%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%80/&quot;&gt;Android Volley&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;(&amp;#x4E00;)&lt;/a&gt;&amp;#x4E2D;&amp;#x6240;&amp;#x5206;&amp;#x6790;&amp;#x7684;&amp;#x5185;&amp;#x5BB9;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x7ED3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;/a&gt;&amp;#x603B;&amp;#x7ED3;&lt;/h1&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x5BF9;&lt;code&gt;Volley&lt;/code&gt;&amp;#x52A0;&amp;#x8F7D;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x8FDB;&amp;#x884C;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x6982;&amp;#x62EC;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;#x521B;&amp;#x5EFA;&lt;code&gt;RequestQueue&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&amp;#x521B;&amp;#x5EFA;&lt;code&gt;ImageLoader&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&amp;#x5B9E;&amp;#x73B0;&amp;#x7F13;&amp;#x5B58;&amp;#x3002;&amp;#x7EE7;&amp;#x627F;&lt;code&gt;LruCache&lt;/code&gt;&amp;#x5B9E;&amp;#x73B0;&lt;code&gt;ImageLoader&lt;/code&gt;&amp;#x7684;&lt;code&gt;ImageLoader.ImageCache&lt;/code&gt;&amp;#x63A5;&amp;#x53E3;&lt;/li&gt;
&lt;li&gt;&amp;#x5982;&amp;#x679C;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;ImageView&lt;/code&gt;&amp;#x5219;&amp;#x5B9E;&amp;#x73B0;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;&lt;code&gt;ImageLoader.ImageListener&lt;/code&gt;,&amp;#x8C03;&amp;#x7528;&lt;code&gt;get&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&lt;/li&gt;
&lt;li&gt;&amp;#x5982;&amp;#x679C;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;NetWorkImageView&lt;/code&gt;&amp;#x5219;&amp;#x76F4;&amp;#x63A5;&amp;#x8C03;&amp;#x7528;&lt;code&gt;setImageUrl&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h1&gt;&lt;p&gt;&amp;#x4E0A;&amp;#x4E0
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="源码分析" scheme="https://idisfkj.github.io/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>Android Volley源码分析(一)</title>
    <link href="https://idisfkj.github.io/2016/10/14/Android-Volley%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E4%B8%80/"/>
    <id>https://idisfkj.github.io/2016/10/14/Android-Volley源码分析-一/</id>
    <published>2016-10-14T03:25:44.000Z</published>
    <updated>2016-10-17T12:42:52.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;code&gt;volley&lt;/code&gt;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x975E;&amp;#x5E38;&amp;#x6D41;&amp;#x884C;&amp;#x7684;&lt;code&gt;Android&lt;/code&gt;&amp;#x5F00;&amp;#x6E90;&amp;#x6846;&amp;#x67B6;&amp;#xFF0C;&amp;#x81EA;&amp;#x5DF1;&amp;#x5E73;&amp;#x65F6;&amp;#x4E5F;&amp;#x7ECF;&amp;#x5E38;&amp;#x4F7F;&amp;#x7528;&amp;#x5B83;&amp;#xFF0C;&amp;#x4F46;&amp;#x81EA;&amp;#x5DF1;&amp;#x5BF9;&amp;#x4E8E;&amp;#x5B83;&amp;#x7684;&amp;#x5185;&amp;#x90E8;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x8FC7;&amp;#x7A0B;&amp;#x5E76;&amp;#x6CA1;&amp;#x6709;&amp;#x8FDB;&amp;#x884C;&amp;#x592A;&amp;#x591A;&amp;#x7684;&amp;#x6DF1;&amp;#x7A76;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x4E3A;&amp;#x4E86;&amp;#x4EE5;&amp;#x540E;&amp;#x80FD;&amp;#x66F4;&amp;#x901A;&amp;#x900F;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x5B83;&amp;#xFF0C;&amp;#x4E86;&amp;#x89E3;&amp;#x5B83;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x975E;&amp;#x5E38;&amp;#x91CD;&amp;#x8981;&amp;#x7684;&amp;#x8FC7;&amp;#x7A0B;&amp;#x3002;&amp;#x81EA;&amp;#x5DF1;&amp;#x6709;&amp;#x4E86;&amp;#x4E00;&amp;#x70B9;&amp;#x7814;&amp;#x7A76;&amp;#xFF0C;&amp;#x505A;&amp;#x4E2A;&amp;#x7B14;&amp;#x8BB0;&amp;#x540C;&amp;#x65F6;&amp;#x4E0E;&amp;#x5927;&amp;#x5BB6;&amp;#x4E00;&amp;#x8D77;&amp;#x5206;&amp;#x4EAB;&amp;#x3002;&amp;#x671F;&amp;#x95F4;&amp;#x81EA;&amp;#x5DF1;&amp;#x4E5F;&amp;#x753B;&amp;#x4E86;&amp;#x4E00;&amp;#x5F20;&amp;#x56FE;&amp;#xFF0C;&amp;#x5E0C;&amp;#x671B;&amp;#x80FD;&amp;#x66F4;&amp;#x597D;&amp;#x7684;&amp;#x5E2E;&amp;#x52A9;&amp;#x6211;&amp;#x4EEC;&amp;#x7406;&amp;#x89E3;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&amp;#x4E0E;&amp;#x539F;&amp;#x7406;&amp;#x3002;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;img src=&quot;/2016/10/14/Android-Volley&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;-&amp;#x4E00;/Volley&amp;#x6846;&amp;#x67B6;&amp;#x56FE;.png&quot; alt=&quot;Volley&amp;#x6846;&amp;#x67B6;&amp;#x56FE;&quot;&gt;&lt;br&gt;&amp;#x5F00;&amp;#x59CB;&amp;#x770B;&amp;#x53EF;&amp;#x80FD;&amp;#x4F1A;&amp;#x4E00;&amp;#x8138;&amp;#x61F5;&amp;#x903C;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5148;&amp;#x7ED3;&amp;#x5408;&amp;#x6E90;&amp;#x7801;&amp;#x4E00;&amp;#x6B65;&amp;#x4E00;&amp;#x6B65;&amp;#x6765;&amp;#xFF0C;&amp;#x73B0;&amp;#x5728;&amp;#x8BA9;&amp;#x6211;&amp;#x4EEC;&amp;#x4E00;&amp;#x8D77;&amp;#x8FDB;&amp;#x5165;&lt;code&gt;Volley&lt;/code&gt;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&amp;#x4E16;&amp;#x754C;&amp;#xFF0C;&amp;#x6765;&amp;#x89E3;&amp;#x8BFB;&amp;#x5927;&amp;#x795E;&amp;#x4EEC;&amp;#x7684;&amp;#x7F16;&amp;#x7A0B;&amp;#x601D;&amp;#x60F3;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;newRequestQueue&quot;&gt;&lt;a href=&quot;#newRequestQueue&quot; class=&quot;headerlink&quot; title=&quot;newRequestQueue&quot;&gt;&lt;/a&gt;newRequestQueue&lt;/h1&gt;&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x4F7F;&amp;#x7528;&amp;#x8FC7;&lt;code&gt;Volley&lt;/code&gt;&amp;#x7684;&amp;#x90FD;&amp;#x77E5;&amp;#x9053;&amp;#xFF0C;&amp;#x4E0D;&amp;#x7BA1;&amp;#x662F;&amp;#x8FDB;&amp;#x884C;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x8FD8;&amp;#x662F;&amp;#x4EC0;&amp;#x4E48;&amp;#x522B;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#xFF0C;&amp;#x9996;&amp;#x5148;&amp;#x90FD;&amp;#x8981;&amp;#x521B;&amp;#x5EFA;&amp;#x597D;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;RequestQueue&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static final RequestQueue volleyQueue = Volley.newRequestQueue(App.mContext);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x800C;&lt;code&gt;RequestQueue&lt;/code&gt;&amp;#x7684;&amp;#x521B;&amp;#x5EFA;&amp;#x81EA;&amp;#x7136;&amp;#x79BB;&amp;#x4E0D;&amp;#x5F00;&lt;code&gt;Volley&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x9759;&amp;#x6001;&amp;#x65B9;&amp;#x6CD5;&lt;code&gt;newRequestQueue&lt;/code&gt;&amp;#xFF0C;&amp;#x4ECE;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x4E5F;&amp;#x80FD;&amp;#x77E5;&amp;#x9053;&amp;#x9996;&amp;#x5148;&amp;#x8FDB;&amp;#x5165;&amp;#x70B9;&amp;#x662F;&lt;code&gt;newRequestQueue&lt;/code&gt;,&amp;#x597D;&amp;#x4E86;&amp;#x73B0;&amp;#x5728;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x5230;&amp;#x5E95;&amp;#x505A;&amp;#x4E86;&amp;#x4EC0;&amp;#x4E48;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static RequestQueue newRequestQueue(Context context, HttpStack stack) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        File cacheDir = new File(context.getCacheDir(), DEFAULT_CACHE_DIR);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        String userAgent = &amp;quot;volley/0&amp;quot;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            String packageName = context.getPackageName();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            PackageInfo info = context.getPackageManager().getPackageInfo(packageName, 0);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            userAgent = packageName + &amp;quot;/&amp;quot; + info.versionCode;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } catch (NameNotFoundException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (stack == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (Build.VERSION.SDK_INT &amp;gt;= 9) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                stack = new HurlStack();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // Prior to Gingerbread, HttpUrlConnection was unreliable.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // See: http://android-developers.blogspot.com/2011/09/androids-http-clients.html&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                stack = new HttpClientStack(AndroidHttpClient.newInstance(userAgent));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Network network = new BasicNetwork(stack);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        RequestQueue queue = new RequestQueue(new DiskBasedCache(cacheDir), network);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        queue.start();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return queue;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4ECE;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&amp;#x4E2D;&amp;#x6211;&amp;#x4EEC;&amp;#x80FD;&amp;#x53D1;&amp;#x73B0;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;stack&lt;/code&gt;&amp;#xFF0C;&amp;#x5B83;&amp;#x4EE3;&amp;#x8868;&amp;#x7740;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x901A;&amp;#x4FE1;&lt;code&gt;HttpClient&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;HttpUrlConnection&lt;/code&gt;&amp;#xFF0C;&amp;#x4F46;&amp;#x6211;&amp;#x4EEC;&amp;#x4E00;&amp;#x822C;&amp;#x90FD;&amp;#x662F;&amp;#x9ED8;&amp;#x8BA4;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E3A;&lt;code&gt;null&lt;/code&gt;&amp;#x3002;&amp;#x56E0;&amp;#x4E3A;&amp;#x5B83;&amp;#x4F1A;&amp;#x9ED8;&amp;#x8BA4;&amp;#x5E2E;&amp;#x6211;&amp;#x4EEC;&amp;#x8FDB;&amp;#x5224;&amp;#x65AD;&amp;#x9009;&amp;#x62E9;&amp;#x66F4;&amp;#x9002;&amp;#x5408;&amp;#x7684;&amp;#x3002;&amp;#x5F53;&amp;#x624B;&amp;#x673A;&amp;#x7248;&amp;#x672C;&amp;#x5927;&amp;#x4E8E;&amp;#x7B49;&amp;#x4E8E;&lt;code&gt;9&lt;/code&gt;&amp;#x65F6;&amp;#x4F1A;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;HurlStack&lt;/code&gt;&amp;#x5B83;&amp;#x91CC;&amp;#x9762;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;HttpUrlConnection&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x5B9E;&amp;#x73B0;&amp;#x901A;&amp;#x4FE1;&amp;#x7684;&amp;#xFF0C;&amp;#x800C;&amp;#x5C0F;&amp;#x4E8E;&lt;code&gt;9&lt;/code&gt;&amp;#x65F6;&amp;#x5219;&amp;#x521B;&amp;#x5EFA;&lt;code&gt;HttpClientStack&lt;/code&gt;&amp;#xFF0C;&amp;#x5B83;&amp;#x91CC;&amp;#x9762;&amp;#x81EA;&amp;#x7136;&amp;#x662F;&lt;code&gt;HttpClient&lt;/code&gt;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;BasicNetwork&lt;/code&gt;&amp;#x6784;&amp;#x9020;&amp;#x6210;&lt;code&gt;Network&lt;/code&gt;&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x4F20;&amp;#x9012;&amp;#x4F7F;&amp;#x7528;&amp;#xFF1B;&amp;#x5728;&amp;#x8FD9;&amp;#x4E4B;&amp;#x540E;&amp;#x6784;&amp;#x5EFA;&amp;#x4E86;&lt;code&gt;RequestQueue&lt;/code&gt;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x5E2E;&amp;#x6211;&amp;#x4EEC;&amp;#x6784;&amp;#x9020;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&amp;#x7F13;&amp;#x5B58;&lt;code&gt;new DiskBasedCache(cacheDir)&lt;/code&gt;&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4E3A;&lt;code&gt;5MB&lt;/code&gt;,&amp;#x7F13;&amp;#x5B58;&amp;#x76EE;&amp;#x5F55;&amp;#x4E3A;&lt;code&gt;volley&lt;/code&gt;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x80FD;&amp;#x5728;&lt;code&gt;data/data/&amp;#x5E94;&amp;#x7528;&amp;#x5305;&amp;#x540D;/volley&lt;/code&gt;&amp;#x4E0B;&amp;#x627E;&amp;#x5230;&amp;#x7F13;&amp;#x5B58;&amp;#x3002;&amp;#x6700;&amp;#x540E;&amp;#x8C03;&amp;#x7528;&amp;#x5176;&lt;code&gt;start&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5E76;&amp;#x8FD4;&amp;#x56DE;&lt;code&gt;RequestQueue&lt;/code&gt;&amp;#x3002;&amp;#x8FD9;&amp;#x5C31;&amp;#x662F;&amp;#x6211;&amp;#x4EEC;&amp;#x524D;&amp;#x9762;&amp;#x7B2C;&amp;#x4E00;&amp;#x6BB5;&amp;#x4EE3;&amp;#x7801;&amp;#x7684;&amp;#x5185;&amp;#x90E8;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x6211;&amp;#x4EEC;&amp;#x8FDB;&amp;#x5165;&lt;code&gt;RequestQueue&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;start&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x770B;&amp;#x4E0B;&amp;#x5B83;&amp;#x5230;&amp;#x5E95;&amp;#x505A;&amp;#x4E86;&amp;#x4EC0;&amp;#x4E48;&amp;#x5462;&amp;#xFF1F;&lt;/p&gt;
&lt;h1 id=&quot;RequestQueue&quot;&gt;&lt;a href=&quot;#RequestQueue&quot; class=&quot;headerlink&quot; title=&quot;RequestQueue&quot;&gt;&lt;/a&gt;RequestQueue&lt;/h1&gt;&lt;p&gt;&amp;#x5728;&lt;code&gt;RequestQueue&lt;/code&gt;&amp;#x4E2D;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;this&lt;/code&gt;&amp;#x8C03;&amp;#x7528;&amp;#x81EA;&amp;#x8EAB;&amp;#x6765;&amp;#x9ED8;&amp;#x8BA4;&amp;#x5E2E;&amp;#x6211;&amp;#x4EEC;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;&amp;#x4E0B;&amp;#x9762;&amp;#x7684;&amp;#x6784;&amp;#x9020;&amp;#x51FD;&amp;#x6570;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public RequestQueue(Cache cache, Network network, int threadPoolSize,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            ResponseDelivery delivery) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mCache = cache;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mNetwork = network;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mDispatchers = new NetworkDispatcher[threadPoolSize];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mDelivery = delivery;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;cache&lt;/code&gt;&amp;#x540E;&amp;#x7EED;&amp;#x5728;&lt;code&gt;NetworkDispatcher&lt;/code&gt;&amp;#x4E2D;&amp;#x4F1A;&amp;#x5E2E;&amp;#x6211;&amp;#x4EEC;&amp;#x8FDB;&amp;#x884C;&lt;code&gt;response.cacheEntry&lt;/code&gt;&amp;#x7684;&amp;#x7F13;&amp;#x5B58;&amp;#xFF0C;&lt;code&gt;netWork&lt;/code&gt;&amp;#x662F;&amp;#x524D;&amp;#x9762;&amp;#x7684;&amp;#x6839;&amp;#x636E;&amp;#x7248;&amp;#x672C;&amp;#x6240;&amp;#x5C01;&amp;#x88C5;&amp;#x7684;&amp;#x901A;&amp;#x4FE1;&amp;#xFF0C;&lt;code&gt;threadPoolSize&lt;/code&gt;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6C60;&amp;#x5927;&amp;#x5C0F;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4E3A;&lt;code&gt;4&lt;/code&gt;&amp;#xFF0C;&lt;code&gt;delivery&lt;/code&gt;,&amp;#x662F;&lt;code&gt;ExecutorDelivery&lt;/code&gt;&amp;#x4F5C;&amp;#x7528;&amp;#x5728;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;,&amp;#x5728;&amp;#x6700;&amp;#x540E;&amp;#x5BF9;&amp;#x8BF7;&amp;#x6C42;&amp;#x54CD;&amp;#x5E94;&amp;#x7684;&amp;#x5206;&amp;#x53D1;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;start&quot;&gt;&lt;a href=&quot;#start&quot; class=&quot;headerlink&quot; title=&quot;start&quot;&gt;&lt;/a&gt;start&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public void start() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        stop();  // Make sure any currently running dispatchers are stopped.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Create the cache dispatcher and start it.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mCacheDispatcher = new CacheDispatcher(mCacheQueue, mNetworkQueue, mCache, mDelivery);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mCacheDispatcher.start();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Create network dispatchers (and corresponding threads) up to the pool size.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        for (int i = 0; i &amp;lt; mDispatchers.length; i++) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            NetworkDispatcher networkDispatcher = new NetworkDispatcher(mNetworkQueue, mNetwork,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    mCache, mDelivery);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            mDispatchers[i] = networkDispatcher;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            networkDispatcher.start();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&lt;code&gt;start&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x6211;&amp;#x4EEC;&amp;#x53D1;&amp;#x73B0;&amp;#x5B83;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&amp;#x4E24;&amp;#x4E2A;&lt;code&gt;dispatch&lt;/code&gt;,&amp;#x4E00;&amp;#x4E2A;&amp;#x662F;&lt;code&gt;CacheDispatcher&lt;/code&gt;&amp;#x7F13;&amp;#x5B58;&amp;#x6D3E;&amp;#x9063;,&amp;#x53E6;&amp;#x4E00;&amp;#x4E2A;&amp;#x662F;&lt;code&gt;networkDispatcher&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x7F51;&amp;#x7EDC;&amp;#x6D3E;&amp;#x9063;&amp;#xFF0C;&amp;#x5176;&amp;#x5B9E;&amp;#x4ED6;&amp;#x4EEC;&amp;#x90FD;&amp;#x662F;&lt;code&gt;Thread&lt;/code&gt;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x90FD;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;&amp;#x4ED6;&amp;#x4EEC;&amp;#x7684;&lt;code&gt;start&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x5176;&amp;#x4E2D;&lt;code&gt;networkDispatcher&lt;/code&gt;&amp;#x9ED8;&amp;#x8BA4;&amp;#x6784;&amp;#x5EFA;&amp;#x4E86;&lt;code&gt;4&lt;/code&gt;&amp;#x4E2A;&amp;#xFF0C;&amp;#x76F8;&amp;#x5F53;&amp;#x4E8E;&amp;#x5305;&amp;#x542B;&lt;code&gt;4&lt;/code&gt;&amp;#x4E2A;&amp;#x7EBF;&amp;#x7A0B;&amp;#x7684;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6C60;&amp;#x3002;&amp;#x73B0;&amp;#x5728;&amp;#x6211;&amp;#x4EEC;&amp;#x5148;&amp;#x4E0D;&amp;#x53BB;&amp;#x770B;&amp;#x4ED6;&amp;#x4EEC;&amp;#x5185;&amp;#x90E8;&amp;#x7684;&lt;code&gt;run&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x5230;&amp;#x5E95;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&amp;#x4EC0;&amp;#x4E48;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x8FD8;&amp;#x662F;&amp;#x63A5;&amp;#x7740;&amp;#x770B;&lt;code&gt;RequestQueue&lt;/code&gt;&amp;#x4E2D;&amp;#x6211;&amp;#x4EEC;&amp;#x9891;&amp;#x7E41;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&lt;code&gt;add&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;add&quot;&gt;&lt;a href=&quot;#add&quot; class=&quot;headerlink&quot; title=&quot;add&quot;&gt;&lt;/a&gt;add&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public &amp;lt;T&amp;gt; Request&amp;lt;T&amp;gt; add(Request&amp;lt;T&amp;gt; request) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Tag the request as belonging to this queue and add it to the set of current requests.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        request.setRequestQueue(this);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        synchronized (mCurrentRequests) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            mCurrentRequests.add(request);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Process requests in the order they are added.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        request.setSequence(getSequenceNumber());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        request.addMarker(&amp;quot;add-to-queue&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // If the request is uncacheable, skip the cache queue and go straight to the network.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (!request.shouldCache()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            mNetworkQueue.add(request);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return request;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Insert request into stage if there&amp;apos;s already a request with the same cache key in flight.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        synchronized (mWaitingRequests) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            String cacheKey = request.getCacheKey();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (mWaitingRequests.containsKey(cacheKey)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // There is already a request in flight. Queue up.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Queue&amp;lt;Request&amp;lt;?&amp;gt;&amp;gt; stagedRequests = mWaitingRequests.get(cacheKey);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (stagedRequests == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    stagedRequests = new LinkedList&amp;lt;Request&amp;lt;?&amp;gt;&amp;gt;();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                stagedRequests.add(request);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mWaitingRequests.put(cacheKey, stagedRequests);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (VolleyLog.DEBUG) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    VolleyLog.v(&amp;quot;Request for cacheKey=%s is in flight, putting on hold.&amp;quot;, cacheKey);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // Insert &amp;apos;null&amp;apos; queue for this cacheKey, indicating there is now a request in&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // flight.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mWaitingRequests.put(cacheKey, null);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mCacheQueue.add(request);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return request;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x7ED3;&amp;#x5408;&amp;#x4EE3;&amp;#x7801;&amp;#x4E0E;&amp;#x524D;&amp;#x9762;&amp;#x7684;&amp;#x56FE;&amp;#xFF0C;&amp;#x9996;&amp;#x5148;&amp;#x4F1A;&amp;#x4E3A;&amp;#x5F53;&amp;#x524D;&amp;#x7684;&lt;code&gt;request&lt;/code&gt;&amp;#x8BBE;&amp;#x7F6E;&lt;code&gt;RequestQueue&lt;/code&gt;,&amp;#x5E76;&amp;#x4E14;&amp;#x6839;&amp;#x636E;&amp;#x60C5;&amp;#x51B5;&amp;#x540C;&amp;#x6B65;&amp;#x662F;&amp;#x5426;&amp;#x662F;&amp;#x5F53;&amp;#x524D;&amp;#x6B63;&amp;#x5728;&amp;#x8FDB;&amp;#x884C;&amp;#x7684;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&lt;code&gt;mCurrentRequests&lt;/code&gt;&amp;#x4E2D;&amp;#xFF0C;&amp;#x770B;&lt;code&gt;11&lt;/code&gt;&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x4E4B;&amp;#x540E;&amp;#x5BF9;&amp;#x5F53;&amp;#x524D;&lt;code&gt;request&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x5224;&amp;#x65AD;&amp;#x662F;&amp;#x5426;&amp;#x9700;&amp;#x8981;&amp;#x7F13;&amp;#x5B58;&amp;#xFF08;&amp;#x9ED8;&amp;#x8BA4;&amp;#x5B9E;&amp;#x73B0;&amp;#x662F;&lt;code&gt;true&lt;/code&gt;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x53EF;&amp;#x8C03;&amp;#x7528;&lt;code&gt;request.setShouldCache()&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x8BBE;&amp;#x7F6E;&amp;#xFF09;,&amp;#x5982;&amp;#x679C;&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x5219;&amp;#x76F4;&amp;#x63A5;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x524D;&amp;#x9762;&amp;#x7684;&lt;code&gt;mNetworkQueue&lt;/code&gt;&amp;#x4E2D;&amp;#xFF0C;&amp;#x5B83;&amp;#x4F1A;&amp;#x5728;&lt;code&gt;CacheDispatcher&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;NetworkDispatcher&lt;/code&gt;&amp;#x4E2D;&amp;#x505A;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x8FD4;&amp;#x56DE;&lt;code&gt;request&lt;/code&gt;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x9700;&amp;#x8981;&amp;#x7F13;&amp;#x5B58;&amp;#xFF0C;&amp;#x770B;16&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x5219;&amp;#x5BF9;&lt;code&gt;mWaitingRequests&lt;/code&gt;&amp;#x4E2D;&amp;#x662F;&amp;#x5426;&amp;#x5305;&amp;#x542B;&lt;code&gt;cacheKey&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#x3002;&amp;#x5176;&amp;#x4E2D;&lt;code&gt;cacheKey&lt;/code&gt;&amp;#x4E3A;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&lt;code&gt;url&lt;/code&gt;&amp;#x3002;&amp;#x6700;&amp;#x540E;&amp;#x518D;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x7F13;&amp;#x5B58;&amp;#x961F;&amp;#x5217;&lt;code&gt;mCacheQueue&lt;/code&gt;&amp;#x4E2D;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;finish&quot;&gt;&lt;a href=&quot;#finish&quot; class=&quot;headerlink&quot; title=&quot;finish&quot;&gt;&lt;/a&gt;finish&lt;/h2&gt;&lt;p&gt;&amp;#x7EC6;&amp;#x5FC3;&amp;#x7684;&amp;#x4EBA;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;&amp;#x5F53;&amp;#x5BF9;&amp;#x5E94;&lt;code&gt;cacheKey&lt;/code&gt;&amp;#x7684;&lt;code&gt;value&lt;/code&gt;&amp;#x4E0D;&amp;#x4E3A;&amp;#x7A7A;&amp;#x65F6;&amp;#xFF0C;&amp;#x521B;&amp;#x5EFA;&amp;#x4E86;&lt;code&gt;LinkedList&lt;/code&gt;&amp;#x5373;&lt;code&gt;Queue&lt;/code&gt;,&amp;#x53EA;&amp;#x662F;&amp;#x5C06;&lt;code&gt;request&lt;/code&gt;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x4E86;&lt;code&gt;Queue&lt;/code&gt;&amp;#x4E2D;&amp;#xFF0C;&amp;#x53EA;&amp;#x662F;&amp;#x66F4;&amp;#x65B0;&amp;#x4E86;&lt;code&gt;mWaitingRequests&lt;/code&gt;&amp;#x4E2D;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&lt;code&gt;value&lt;/code&gt;&amp;#x4F46;&amp;#x5E76;&amp;#x6CA1;&amp;#x6709;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&lt;code&gt;mCacheQueue&lt;/code&gt;&amp;#x4E2D;&amp;#x3002;&amp;#x5176;&amp;#x5B9E;&amp;#x4E0D;&amp;#x7136;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x540E;&amp;#x7EED;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;&lt;code&gt;finish&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;,&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x6E90;&amp;#x7801;:&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;T&amp;gt; void finish(Request&amp;lt;T&amp;gt; request) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Remove from the set of requests currently being processed.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        synchronized (mCurrentRequests) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            mCurrentRequests.remove(request);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        synchronized (mFinishedListeners) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          for (RequestFinishedListener&amp;lt;T&amp;gt; listener : mFinishedListeners) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            listener.onRequestFinished(request);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (request.shouldCache()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            synchronized (mWaitingRequests) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                String cacheKey = request.getCacheKey();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Queue&amp;lt;Request&amp;lt;?&amp;gt;&amp;gt; waitingRequests = mWaitingRequests.remove(cacheKey);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (waitingRequests != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    if (VolleyLog.DEBUG) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        VolleyLog.v(&amp;quot;Releasing %d waiting requests for cacheKey=%s.&amp;quot;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                waitingRequests.size(), cacheKey);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    // Process all queued up requests. They won&amp;apos;t be considered as in flight, but&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    // that&amp;apos;s not a problem as the cache has been primed by &amp;apos;request&amp;apos;.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    mCacheQueue.addAll(waitingRequests);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x770B;&lt;code&gt;14&lt;/code&gt;&amp;#x3001;&lt;code&gt;22&lt;/code&gt;&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x6B63;&amp;#x5982;&amp;#x4E0A;&amp;#x9762;&amp;#x6211;&amp;#x6240;&amp;#x8BF4;&amp;#xFF0C;&amp;#x4F1A;&amp;#x5C06;&lt;code&gt;Queue&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;request&lt;/code&gt;&amp;#x5168;&amp;#x90E8;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&lt;code&gt;mCacheQueue&lt;/code&gt;&amp;#x4E2D;&amp;#x3002;&lt;br&gt;&amp;#x597D;&amp;#x4E86;&lt;code&gt;RequestQueue&lt;/code&gt;&amp;#x7684;&amp;#x4E3B;&amp;#x8981;&amp;#x6E90;&amp;#x7801;&amp;#x5DEE;&amp;#x4E0D;&amp;#x591A;&amp;#x5C31;&amp;#x8FD9;&amp;#x4E9B;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x6211;&amp;#x4EEC;&amp;#x8FDB;&amp;#x5165;&lt;code&gt;CacheDispatcher&lt;/code&gt;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;,&amp;#x770B;&amp;#x5B83;&amp;#x7A76;&amp;#x7ADF;&amp;#x5982;&amp;#x4F55;&amp;#x5DE5;&amp;#x4F5C;&amp;#x7684;&amp;#x5462;&amp;#xFF1F;&lt;/p&gt;
&lt;h1 id=&quot;CacheDispatcher&quot;&gt;&lt;a href=&quot;#CacheDispatcher&quot; class=&quot;headerlink&quot; title=&quot;CacheDispatcher&quot;&gt;&lt;/a&gt;CacheDispatcher&lt;/h1&gt;&lt;p&gt;&amp;#x524D;&amp;#x9762;&amp;#x63D0;&amp;#x5230;&amp;#x4E86;&amp;#x5B83;&amp;#x4E0E;&lt;code&gt;NetworkDispatcher&lt;/code&gt;&amp;#x672C;&amp;#x8D28;&amp;#x90FD;&amp;#x662F;&lt;code&gt;Thread&lt;/code&gt;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x6211;&amp;#x4EEC;&amp;#x81EA;&amp;#x7136;&amp;#x662F;&amp;#x770B;&lt;code&gt;run&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&lt;/p&gt;
&lt;h2 id=&quot;run&quot;&gt;&lt;a href=&quot;#run&quot; class=&quot;headerlink&quot; title=&quot;run&quot;&gt;&lt;/a&gt;run&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;68&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;69&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;70&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;71&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;72&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;73&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;74&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;75&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;76&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;77&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;78&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;79&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;80&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public void run() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (DEBUG) VolleyLog.v(&amp;quot;start new dispatcher&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Process.setThreadPriority(Process.THREAD_PRIORITY_BACKGROUND);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Make a blocking call to initialize the cache.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mCache.initialize();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        while (true) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // Get a request from the cache triage queue, blocking until&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // at least one is available.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                final Request&amp;lt;?&amp;gt; request = mCacheQueue.take();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                request.addMarker(&amp;quot;cache-queue-take&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // If the request has been canceled, don&amp;apos;t bother dispatching it.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (request.isCanceled()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    request.finish(&amp;quot;cache-discard-canceled&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    continue;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // Attempt to retrieve this item from cache.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Cache.Entry entry = mCache.get(request.getCacheKey());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (entry == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    request.addMarker(&amp;quot;cache-miss&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    // Cache miss; send off to the network dispatcher.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    mNetworkQueue.put(request);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    continue;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // If it is completely expired, just send it to the network.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (entry.isExpired()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    request.addMarker(&amp;quot;cache-hit-expired&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    request.setCacheEntry(entry);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    mNetworkQueue.put(request);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    continue;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // We have a cache hit; parse its data for delivery back to the request.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                request.addMarker(&amp;quot;cache-hit&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Response&amp;lt;?&amp;gt; response = request.parseNetworkResponse(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        new NetworkResponse(entry.data, entry.responseHeaders));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                request.addMarker(&amp;quot;cache-hit-parsed&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (!entry.refreshNeeded()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    // Completely unexpired cache hit. Just deliver the response.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    mDelivery.postResponse(request, response);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    // Soft-expired cache hit. We can deliver the cached response,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    // but we need to also send the request to the network for&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    // refreshing.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    request.addMarker(&amp;quot;cache-hit-refresh-needed&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    request.setCacheEntry(entry);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    // Mark the response as intermediate.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    response.intermediate = true;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;             &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    // Post the intermediate response back to the user and have&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    // the delivery then forward the request along to the network.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    mDelivery.postResponse(request, response, new Runnable() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        public void run() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                                                            mNetworkQueue.put(request);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            } catch (InterruptedException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                // Not much we can do about this.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    });&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                                                                          &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } catch (InterruptedException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // We may have been interrupted because it was time to quit.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (mQuit) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    return;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                continue;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x770B;&amp;#x8D77;&amp;#x6765;&amp;#x5F88;&amp;#x591A;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x7ED3;&amp;#x5408;&amp;#x56FE;&amp;#x6765;&amp;#x6311;&amp;#x4E3B;&amp;#x8981;&amp;#x7684;&amp;#x770B;&amp;#x3002;&amp;#x9996;&amp;#x5148;&amp;#x521B;&amp;#x5EFA;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&amp;#x65E0;&amp;#x9650;&amp;#x5FAA;&amp;#x73AF;&amp;#x4E00;&amp;#x76F4;&amp;#x5728;&amp;#x76D1;&amp;#x89C6;&amp;#x7740;&lt;code&gt;request&lt;/code&gt;&amp;#x7684;&amp;#x53D8;&amp;#x5316;&amp;#x3002;&amp;#x4ECE;&amp;#x7F13;&amp;#x5B58;&amp;#x961F;&amp;#x5217;&lt;code&gt;mCacheQueue&lt;/code&gt;&amp;#x4E2D;&amp;#x83B7;&amp;#x53D6;&lt;code&gt;request&lt;/code&gt;,&amp;#x5982;&amp;#x679C;&amp;#x8BE5;&amp;#x8BF7;&amp;#x6C42;&amp;#x662F;&lt;code&gt;cancle&lt;/code&gt;&amp;#x4E86;&amp;#xFF0C;&amp;#x8C03;&amp;#x7528;&lt;code&gt;request.finish()&lt;/code&gt;&amp;#x6E05;&amp;#x9664;&amp;#x76F8;&amp;#x5E94;&amp;#x6570;&amp;#x636E;&amp;#x5E76;&amp;#x8FDB;&amp;#x884C;&amp;#x4E0B;&amp;#x4E00;&amp;#x4E2A;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x5426;&amp;#x5219;&amp;#x4ECE;&amp;#x524D;&amp;#x9762;&amp;#x63D0;&amp;#x5230;&amp;#x7684;&lt;code&gt;mCache&lt;/code&gt;&amp;#x4E2D;&amp;#x83B7;&amp;#x53D6;&lt;code&gt;Cache.Entry&lt;/code&gt;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x4E0D;&amp;#x5B58;&amp;#x5728;&amp;#x6216;&amp;#x8005;&amp;#x5DF2;&amp;#x7ECF;&amp;#x8FC7;&amp;#x671F;&amp;#xFF0C;&amp;#x5C06;&amp;#x8BF7;&amp;#x6C42;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x7F51;&amp;#x7EDC;&amp;#x961F;&amp;#x5217;&amp;#x4E2D;&lt;code&gt;mNetWorkQueue&lt;/code&gt;&amp;#xFF0C;&amp;#x8FDB;&amp;#x884C;&amp;#x540E;&amp;#x7EED;&amp;#x7684;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x5B58;&amp;#x5728;&amp;#xFF08;&lt;code&gt;41&lt;/code&gt;&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&amp;#xFF09;&amp;#x5219;&amp;#x8FDB;&amp;#x884C;&lt;code&gt;request.parseNetworkResponse()&lt;/code&gt;&amp;#x89E3;&amp;#x6790;&amp;#x51FA;&lt;code&gt;response&lt;/code&gt;,&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&lt;code&gt;request&lt;/code&gt;&amp;#x5BF9;&amp;#x5E94;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x89E3;&amp;#x6790;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&lt;code&gt;StringRequest&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;JsonObjectRequest&lt;/code&gt;&amp;#x6709;&amp;#x5404;&amp;#x81EA;&amp;#x7684;&amp;#x89E3;&amp;#x6790;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&amp;#x518D;&amp;#x770B;&lt;code&gt;45&lt;/code&gt;&amp;#x884C;&amp;#xFF0C;&amp;#x53D1;&amp;#x73B0;&amp;#x4E0D;&amp;#x7BA1;&lt;code&gt;entry&lt;/code&gt;&amp;#x662F;&amp;#x5426;&amp;#x9700;&amp;#x8981;&amp;#x66F4;&amp;#x65B0;&amp;#x7684;&amp;#xFF0C;&amp;#x90FD;&amp;#x4F1A;&amp;#x8FDB;&amp;#x4E00;&amp;#x6B65;&amp;#x5BF9;&lt;code&gt;response&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&lt;code&gt;mDelivery.postResponse(request, response)&lt;/code&gt;&amp;#x9012;&amp;#x9001;&amp;#xFF0C;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x662F;&amp;#x9700;&amp;#x8981;&amp;#x66F4;&amp;#x65B0;&amp;#x7684;&amp;#x8BDD;&amp;#x91CD;&amp;#x65B0;&amp;#x8BBE;&amp;#x7F6E;&lt;code&gt;request&lt;/code&gt;&amp;#x7684;&lt;code&gt;entry&lt;/code&gt;&amp;#x4E0E;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&lt;code&gt;mNetworkQueue&lt;/code&gt;&amp;#x4E2D;&amp;#xFF0C;&amp;#x4E5F;&amp;#x5C31;&amp;#x76F8;&amp;#x5F53;&amp;#x4E0E;&amp;#x91CD;&amp;#x65B0;&amp;#x8FDB;&amp;#x884C;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x4E00;&amp;#x904D;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x518D;&amp;#x56DE;&amp;#x5230;&amp;#x9012;&amp;#x9001;&amp;#x7684;&amp;#x9636;&amp;#x6BB5;&amp;#xFF0C;&amp;#x524D;&amp;#x9762;&amp;#x5DF2;&amp;#x7ECF;&amp;#x63D0;&amp;#x5230;&amp;#x5728;&amp;#x521B;&amp;#x5EFA;&lt;code&gt;RequestQueue&lt;/code&gt;&amp;#x662F;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&lt;code&gt;ExecutorDelivery&lt;/code&gt;,&lt;code&gt;mDelivery.postResponse&lt;/code&gt;&amp;#x5C31;&amp;#x662F;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x770B;&amp;#x4E00;&amp;#x4E0B;&lt;/p&gt;
&lt;h2 id=&quot;ExecutorDelivery&quot;&gt;&lt;a href=&quot;#ExecutorDelivery&quot; class=&quot;headerlink&quot; title=&quot;ExecutorDelivery&quot;&gt;&lt;/a&gt;ExecutorDelivery&lt;/h2&gt;&lt;p&gt;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&amp;#x521B;&amp;#x5EFA;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;Executor&lt;/code&gt;&amp;#xFF0C;&amp;#x5BF9;&amp;#x540E;&amp;#x9762;&amp;#x8FDB;&amp;#x884C;&amp;#x9012;&amp;#x9001;,&amp;#x4F5C;&amp;#x7528;&amp;#x5728;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public ExecutorDelivery(final Handler handler) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Make an Executor that just wraps the handler.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mResponsePoster = new Executor() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            public void execute(Runnable command) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                handler.post(command);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        };&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;postResponse&quot;&gt;&lt;a href=&quot;#postResponse&quot; class=&quot;headerlink&quot; title=&quot;postResponse&quot;&gt;&lt;/a&gt;postResponse&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public void postResponse(Request&amp;lt;?&amp;gt; request, Response&amp;lt;?&amp;gt; response) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        postResponse(request, response, null);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public void postResponse(Request&amp;lt;?&amp;gt; request, Response&amp;lt;?&amp;gt; response, Runnable runnable) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        request.markDelivered();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        request.addMarker(&amp;quot;post-response&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mResponsePoster.execute(new ResponseDeliveryRunnable(request, response, runnable));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x5C31;&amp;#x7B80;&amp;#x5355;&amp;#x4E86;&amp;#x5C31;&amp;#x662F;&amp;#x8C03;&amp;#x7528;&lt;code&gt;execute&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x6267;&amp;#x884C;&amp;#xFF0C;&amp;#x5728;&amp;#x8FDB;&amp;#x5165;&lt;code&gt;ResponseDeliveryRunnable&lt;/code&gt;&amp;#x7684;&lt;code&gt;run&lt;/code&gt;&amp;#x770B;&amp;#x5B83;&amp;#x5982;&amp;#x4F55;&amp;#x6267;&amp;#x884C;&lt;/p&gt;
&lt;h3 id=&quot;ResponseDeliveryRunnable&quot;&gt;&lt;a href=&quot;#ResponseDeliveryRunnable&quot; class=&quot;headerlink&quot; title=&quot;ResponseDeliveryRunnable&quot;&gt;&lt;/a&gt;ResponseDeliveryRunnable&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public void run() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // If this request has canceled, finish it and don&amp;apos;t deliver.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (mRequest.isCanceled()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mRequest.finish(&amp;quot;canceled-at-delivery&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                return;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // Deliver a normal response or error, depending.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (mResponse.isSuccess()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                 mRequest.deliverResponse(mResponse.result);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mRequest.deliverError(mResponse.error);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // If this is an intermediate response, add a marker, otherwise we&amp;apos;re done&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // and the request can be finished.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (mResponse.intermediate) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mRequest.addMarker(&amp;quot;intermediate-response&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mRequest.finish(&amp;quot;done&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // If we have been provided a post-delivery runnable, run it.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (mRunnable != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mRunnable.run();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x7B2C;&lt;code&gt;9&lt;/code&gt;&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x5BF9;&amp;#x4E8E;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x54CD;&amp;#x5E94;&amp;#x505A;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x9012;&amp;#x9001;&amp;#xFF0C;&lt;code&gt;deliverResponse&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;deliverError&lt;/code&gt;&amp;#x5185;&amp;#x90E8;&amp;#x5206;&amp;#x522B;&amp;#x8C03;&amp;#x7528;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&amp;#x6211;&amp;#x4EEC;&amp;#x975E;&amp;#x5E38;&amp;#x719F;&amp;#x6089;&amp;#x7684;&lt;code&gt;Listener&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;onResponse&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;onErrorResponse&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x8FDB;&amp;#x800C;&amp;#x8FD4;&amp;#x56DE;&amp;#x5230;&amp;#x6211;&amp;#x4EEC;&amp;#x5BF9;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x7ED3;&amp;#x679C;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#x51FD;&amp;#x6570;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x5C31;&amp;#x662F;&amp;#x6574;&amp;#x4E2A;&amp;#x7684;&amp;#x7F13;&amp;#x5B58;&amp;#x6D3E;&amp;#x9063;&amp;#xFF0C;&amp;#x7B80;&amp;#x800C;&amp;#x8A00;&amp;#x4E4B;&amp;#xFF0C;&amp;#x5B58;&amp;#x5728;&amp;#x8BF7;&amp;#x6C42;&amp;#x54CD;&amp;#x5E94;&amp;#x7684;&amp;#x7F13;&amp;#x5B58;&amp;#x6570;&amp;#x636E;&amp;#x5C31;&amp;#x4E0D;&amp;#x8FDB;&amp;#x884C;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x76F4;&amp;#x63A5;&amp;#x8C03;&amp;#x7528;&amp;#x7F13;&amp;#x5B58;&amp;#x4E2D;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x8FDB;&amp;#x884C;&amp;#x5206;&amp;#x53D1;&amp;#x9012;&amp;#x9001;&amp;#x3002;&amp;#x53CD;&amp;#x4E4B;&amp;#x6267;&amp;#x884C;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x3002;&lt;br&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x6211;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&lt;code&gt;NetworkDispatcher&lt;/code&gt;&amp;#x662F;&amp;#x5982;&amp;#x4F55;&amp;#x5904;&amp;#x7406;&amp;#x7684;&lt;/p&gt;
&lt;h1 id=&quot;NetworkDispatcher&quot;&gt;&lt;a href=&quot;#NetworkDispatcher&quot; class=&quot;headerlink&quot; title=&quot;NetworkDispatcher&quot;&gt;&lt;/a&gt;NetworkDispatcher&lt;/h1&gt;&lt;h2 id=&quot;run-1&quot;&gt;&lt;a href=&quot;#run-1&quot; class=&quot;headerlink&quot; title=&quot;run&quot;&gt;&lt;/a&gt;run&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public void run() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         Process.setThreadPriority(Process.THREAD_PRIORITY_BACKGROUND);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        while (true) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            long startTimeMs = SystemClock.elapsedRealtime();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            Request&amp;lt;?&amp;gt; request;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // Take a request from the queue.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                request = mQueue.take();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } catch (InterruptedException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // We may have been interrupted because it was time to quit.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (mQuit) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    return;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                continue;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                request.addMarker(&amp;quot;network-queue-take&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // If the request was cancelled already, do not perform the&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // network request.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (request.isCanceled()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    request.finish(&amp;quot;network-discard-cancelled&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    continue;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                addTrafficStatsTag(request);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // Perform the network request.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                NetworkResponse networkResponse = mNetwork.performRequest(request);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                request.addMarker(&amp;quot;network-http-complete&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // If the server returned 304 AND we delivered a response already,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // we&amp;apos;re done -- don&amp;apos;t deliver a second identical response.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (networkResponse.notModified &amp;amp;&amp;amp; request.hasHadResponseDelivered()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    request.finish(&amp;quot;not-modified&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    continue;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // Parse the response here on the worker thread.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Response&amp;lt;?&amp;gt; response = request.parseNetworkResponse(networkResponse);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                request.addMarker(&amp;quot;network-parse-complete&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // Write to cache if applicable.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // TODO: Only update cache metadata instead of entire record for 304s.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (request.shouldCache() &amp;amp;&amp;amp; response.cacheEntry != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                     mCache.put(request.getCacheKey(), response.cacheEntry);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    request.addMarker(&amp;quot;network-cache-written&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // Post the response back.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                request.markDelivered();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mDelivery.postResponse(request, response);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } catch (VolleyError volleyError) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                 volleyError.setNetworkTimeMs(SystemClock.elapsedRealtime() - startTimeMs);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                parseAndDeliverNetworkError(request, volleyError);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } catch (Exception e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                VolleyLog.e(e, &amp;quot;Unhandled exception %s&amp;quot;, e.toString());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                VolleyError volleyError = new VolleyError(e);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                 volleyError.setNetworkTimeMs(SystemClock.elapsedRealtime() - startTimeMs);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mDelivery.postError(request, volleyError);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&amp;#x4E5F;&amp;#x521B;&amp;#x5EFA;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&amp;#x65E0;&amp;#x9650;&amp;#x5FAA;&amp;#x73AF;&amp;#x7684;&lt;code&gt;while&lt;/code&gt;,&amp;#x540C;&amp;#x6837;&amp;#x4E5F;&amp;#x662F;&amp;#x5148;&amp;#x83B7;&amp;#x53D6;&lt;code&gt;request&lt;/code&gt;&amp;#xFF0C;&amp;#x4E0D;&amp;#x8FC7;&amp;#x662F;&amp;#x4ECE;&lt;code&gt;mQueue&lt;/code&gt;&amp;#x4E2D;&amp;#xFF0C;&amp;#x5373;&amp;#x524D;&amp;#x9762;&amp;#x591A;&amp;#x6B21;&amp;#x51FA;&amp;#x73B0;&amp;#x7684;&lt;code&gt;mNetWorkQueue&lt;/code&gt;,&amp;#x901A;&amp;#x8FC7;&amp;#x770B;&amp;#x4EE3;&amp;#x7801;&amp;#x53D1;&amp;#x73B0;&amp;#x4E00;&amp;#x4E9B;&amp;#x5B9E;&amp;#x73B0;&amp;#x8DDF;&lt;code&gt;CacheDispatcher&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x7C7B;&amp;#x4F3C;&amp;#x3002;&amp;#x4E5F;&amp;#x6B63;&amp;#x5982;&amp;#x56FE;&amp;#x7247;&amp;#x4E2D;&amp;#x6240;&amp;#x5C55;&amp;#x793A;&amp;#x7684;&amp;#x4E00;&amp;#x6837;&amp;#xFF0C;&amp;#xFF08;&lt;code&gt;23&lt;/code&gt;&amp;#x884C;&amp;#xFF09;&amp;#x5982;&amp;#x4F55;&amp;#x8BF7;&amp;#x6C42;&amp;#x53D6;&amp;#x6D88;&amp;#x4E86;&amp;#xFF0C;&amp;#x76F4;&amp;#x63A5;&lt;code&gt;finish&lt;/code&gt;&amp;#xFF1B;&amp;#x5426;&amp;#x5219;&amp;#x8FDB;&amp;#x884C;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x8C03;&amp;#x7528;(&lt;code&gt;31&lt;/code&gt;&amp;#x884C;)&lt;code&gt;mNetwork.performRequest(request)&lt;/code&gt;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x7684;&lt;code&gt;mNetWork&lt;/code&gt;&amp;#x5373;&amp;#x4E3A;&amp;#x524D;&amp;#x9762;&lt;code&gt;RequestQueue&lt;/code&gt;&amp;#x4E2D;&amp;#x5BF9;&amp;#x4E0D;&amp;#x540C;&amp;#x7248;&amp;#x672C;&amp;#x8FDB;&amp;#x884C;&amp;#x9009;&amp;#x62E9;&amp;#x7684;&lt;code&gt;stack&lt;/code&gt;&amp;#x7684;&amp;#x5C01;&amp;#x88C5;&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x8C03;&amp;#x7528;&lt;code&gt;HurlStack&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;HttpClientStack&lt;/code&gt;&amp;#x5404;&amp;#x81EA;&amp;#x7684;&lt;code&gt;performRequest&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x6784;&amp;#x9020;&amp;#x8BF7;&amp;#x6C42;&amp;#x5934;&amp;#x4E0E;&amp;#x53C2;&amp;#x6570;&amp;#x5206;&amp;#x522B;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;HttpClient&lt;/code&gt;&amp;#x6216;&amp;#x8005;&lt;code&gt;HttpUrlConnection&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x518D;&amp;#x6765;&amp;#x770B;&lt;code&gt;42&lt;/code&gt;&amp;#x884C;&amp;#xFF0C;&amp;#x662F;&amp;#x4E0D;&amp;#x662F;&amp;#x5F88;&amp;#x719F;&amp;#x6089;&amp;#xFF0C;&amp;#x4E0E;&lt;code&gt;CacheDispatcher&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x4E00;&amp;#x6837;&amp;#x8FDB;&amp;#x884C;&lt;code&gt;response&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x89E3;&amp;#x6790;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x5982;&amp;#x679C;&amp;#x9700;&amp;#x8981;&amp;#x7F13;&amp;#x5B58;&amp;#x5C31;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x7F13;&amp;#x5B58;&amp;#x4E2D;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#xFF08;&lt;code&gt;54&lt;/code&gt;&amp;#x884C;&amp;#xFF09;&amp;#x518D;&amp;#x8C03;&amp;#x7528;&lt;code&gt;mDelivery.postResponse(request, response)&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x9012;&amp;#x9001;&amp;#x3002;&amp;#x81F3;&amp;#x4E8E;&amp;#x540E;&amp;#x9762;&amp;#x7684;&amp;#x5269;&amp;#x4F59;&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&amp;#x4E0E;&lt;code&gt;CacheDispatcher&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x4E00;&amp;#x6A21;&amp;#x4E00;&amp;#x6837;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x4E0D;&amp;#x591A;&amp;#x7D2F;&amp;#x8D58;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x597D;&amp;#x4E86;&amp;#xFF0C;&lt;code&gt;Volley&lt;/code&gt;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&amp;#x89E3;&amp;#x6790;&amp;#x5148;&amp;#x5C31;&amp;#x5230;&amp;#x8FD9;&amp;#x91CC;&amp;#x4E86;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x518D;&amp;#x56DE;&amp;#x8FC7;&amp;#x53BB;&amp;#x770B;&amp;#x90A3;&amp;#x5F20;&amp;#x56FE;&amp;#x662F;&amp;#x4E0D;&amp;#x662F;&amp;#x611F;&amp;#x89C9;&amp;#x5F88;&amp;#x6E05;&amp;#x6670;&amp;#x4E86;&amp;#x5462;?&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x7ED3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;/a&gt;&amp;#x603B;&amp;#x7ED3;&lt;/h1&gt;&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x5BF9;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;Volley&lt;/code&gt;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x505A;&amp;#x4E2A;&amp;#x603B;&amp;#x7ED3;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;newRequestQueue&lt;/code&gt;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x4E0E;&amp;#x6784;&amp;#x9020;&lt;code&gt;RequestQueue&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&amp;#x8C03;&amp;#x7528;&lt;code&gt;RequestQueue&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;add&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x6DFB;&amp;#x52A0;&lt;code&gt;request&lt;/code&gt;&amp;#x5230;&amp;#x8BF7;&amp;#x6C42;&amp;#x961F;&amp;#x5217;&amp;#x4E2D;&lt;/li&gt;
&lt;li&gt;&amp;#x7F13;&amp;#x5B58;&amp;#x6D3E;&amp;#x9063;&amp;#xFF0C;&amp;#x5148;&amp;#x8FDB;&amp;#x884C;&lt;code&gt;CacheDispatcher&lt;/code&gt;,&amp;#x5224;&amp;#x65AD;&amp;#x7F13;&amp;#x5B58;&amp;#x4E2D;&amp;#x662F;&amp;#x5426;&amp;#x5B58;&amp;#x5728;&amp;#xFF0C;&amp;#x6709;&amp;#x5219;&amp;#x89E3;&amp;#x6790;&lt;code&gt;response&lt;/code&gt;&amp;#xFF0C;&amp;#x518D;&amp;#x76F4;&amp;#x63A5;&lt;code&gt;postResponse&lt;/code&gt;&amp;#x9012;&amp;#x9001;&amp;#xFF0C;&amp;#x5426;&amp;#x5219;&amp;#x8FDB;&amp;#x884C;&amp;#x540E;&amp;#x7EED;&amp;#x7684;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&lt;/li&gt;
&lt;li&gt;&amp;#x7F51;&amp;#x7EDC;&amp;#x6D3E;&amp;#x9063;&amp;#xFF0C;&lt;code&gt;NetworkDispatcher&lt;/code&gt;&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&lt;code&gt;request&lt;/code&gt;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x89E3;&amp;#x6790;&lt;code&gt;response&lt;/code&gt;&amp;#x5982;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E86;&amp;#x7F13;&amp;#x5B58;&amp;#x5C31;&amp;#x5C06;&amp;#x7ED3;&amp;#x679C;&amp;#x4FDD;&amp;#x5B58;&amp;#x5230;&lt;code&gt;cache&lt;/code&gt;&amp;#x4E2D;&amp;#xFF0C;&amp;#x518D;&amp;#x8FDB;&amp;#x884C;&amp;#x6700;&amp;#x540E;&amp;#x7684;&lt;code&gt;postResponse&lt;/code&gt;&amp;#x9012;&amp;#x9001;&amp;#x3002;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;volley&lt;/code&gt;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x975E;&amp;#x5E38;&amp;#x6D41;&amp;#x884C;&amp;#x7684;&lt;code&gt;Android&lt;/code&gt;&amp;#x5F00;&amp;#x6E90;&amp;#x6846;&amp;#x67B6;&amp;#
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="源码分析" scheme="https://idisfkj.github.io/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>AIDL入门</title>
    <link href="https://idisfkj.github.io/2016/09/25/AIDL%E5%85%A5%E9%97%A8/"/>
    <id>https://idisfkj.github.io/2016/09/25/AIDL入门/</id>
    <published>2016-09-25T12:14:06.000Z</published>
    <updated>2016-09-25T14:26:14.000Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x4E00;&amp;#x76F4;&amp;#x542C;&amp;#x8BF4;&lt;code&gt;AIDL&lt;/code&gt;&amp;#x4F46;&amp;#x662F;&amp;#x81EA;&amp;#x5DF1;&amp;#x8FD8;&amp;#x6CA1;&amp;#x6709;&amp;#x771F;&amp;#x6B63;&amp;#x4F7F;&amp;#x7528;&amp;#x8FC7;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x6CA1;&amp;#x6709;&amp;#x78B0;&amp;#x5230;&amp;#x8FC7;&amp;#x4F7F;&amp;#x7528;&amp;#x5B83;&amp;#x7684;&amp;#x573A;&amp;#x666F;&amp;#xFF0C;&amp;#x4F46;&amp;#x8FD9;&amp;#x5E76;&amp;#x4E0D;&amp;#x80FD;&amp;#x6210;&amp;#x4E3A;&amp;#x6211;&amp;#x4E0D;&amp;#x53BB;&amp;#x4E86;&amp;#x89E3;&amp;#x5B83;&amp;#x7684;&amp;#x501F;&amp;#x53E3;&amp;#x3002;&amp;#x73B0;&amp;#x5728;&amp;#x8FD8;&amp;#x6CA1;&amp;#x6709;&amp;#x4E86;&amp;#x89E3;&amp;#x7684;&amp;#x53EF;&amp;#x4EE5;&amp;#x548C;&amp;#x6211;&amp;#x4E00;&amp;#x8D77;&amp;#x8FDB;&amp;#x884C;&amp;#x4E86;&amp;#x89E3;&amp;#xFF08;&amp;#x4EC5;&amp;#x9650;&amp;#x4E8E;&amp;#x5165;&amp;#x95E8;&amp;#xFF0C;&amp;#x5927;&amp;#x795E;&amp;#x53EF;&amp;#x4EE5;&amp;#x79FB;&amp;#x6B65;&amp;#x4E86;&amp;#xFF09;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x4EC0;&amp;#x4E48;&amp;#x662F;AIDL&quot;&gt;&lt;a href=&quot;#&amp;#x4EC0;&amp;#x4E48;&amp;#x662F;AIDL&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4EC0;&amp;#x4E48;&amp;#x662F;AIDL&quot;&gt;&lt;/a&gt;&amp;#x4EC0;&amp;#x4E48;&amp;#x662F;AIDL&lt;/h2&gt;&lt;p&gt;&amp;#x4EC0;&amp;#x4E48;&amp;#x662F;AIDL&amp;#x5462;&amp;#xFF1F;&amp;#x5B83;&amp;#x7684;&amp;#x5168;&amp;#x79F0;&amp;#x662F;&lt;code&gt;Android Interface Definition Language&lt;/code&gt;,&amp;#x4E2D;&amp;#x6587;&amp;#x540D;&amp;#x5B57;&amp;#x5C31;&amp;#x662F;&lt;code&gt;Android&lt;/code&gt;&amp;#x63A5;&amp;#x53E3;&amp;#x5B9A;&amp;#x4E49;&amp;#x8BED;&amp;#x8A00;&amp;#x3002;&lt;code&gt;Android&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x8FDB;&amp;#x7A0B;&amp;#x95F4;&amp;#x4E0D;&amp;#x80FD;&amp;#x8FDB;&amp;#x884C;&amp;#x5185;&amp;#x5B58;&amp;#x5171;&amp;#x4EAB;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x8FDB;&amp;#x7A0B;&amp;#x95F4;&amp;#x7684;&amp;#x901A;&amp;#x4FE1;&amp;#xFF0C;&lt;code&gt;Android&lt;/code&gt;&amp;#x91C7;&amp;#x7528;&amp;#x8FDC;&amp;#x7A0B;&amp;#x8FC7;&amp;#x7A0B;&amp;#x8C03;&amp;#x5EA6;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x4F7F;&amp;#x7528;&amp;#x4E00;&amp;#x79CD;&amp;#x5B9A;&amp;#x4E49;&amp;#x63A5;&amp;#x53E3;&amp;#x4E0E;&amp;#x516C;&amp;#x5F00;&amp;#x63A5;&amp;#x53E3;&amp;#x7684;&amp;#x65B9;&amp;#x5F0F;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&amp;#x4ECE;&amp;#x800C;&amp;#x8FBE;&amp;#x5230;&amp;#x8DE8;&amp;#x8FDB;&amp;#x7A0B;&amp;#x95F4;&amp;#x7684;&amp;#x901A;&amp;#x4FE1;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x7684;&amp;#x65B9;&amp;#x5F0F;&amp;#x6210;&amp;#x4E3A;AIDL&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5B9E;&amp;#x73B0;AIDL&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&quot;&gt;&lt;a href=&quot;#&amp;#x5B9E;&amp;#x73B0;AIDL&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5B9E;&amp;#x73B0;AIDL&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&quot;&gt;&lt;/a&gt;&amp;#x5B9E;&amp;#x73B0;AIDL&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&lt;/h2&gt;&lt;p&gt;&amp;#x603B;&amp;#x4F53;&amp;#x6765;&amp;#x8BF4;&amp;#x6211;&amp;#x628A;&amp;#x5176;&amp;#x5206;&amp;#x4E3A;3&amp;#x4E2A;&amp;#x6B65;&amp;#x9AA4;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;#x521B;&amp;#x5EFA;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&lt;code&gt;.aidl&lt;/code&gt;&amp;#x6587;&amp;#x4EF6;&amp;#xFF0C;&amp;#x4E0E;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x63A5;&amp;#x53E3;&lt;/li&gt;
&lt;li&gt;&amp;#x5B9E;&amp;#x73B0;&amp;#x521B;&amp;#x5EFA;&amp;#x7684;&amp;#x63A5;&amp;#x53E3;&lt;/li&gt;
&lt;li&gt;&amp;#x5411;&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x66B4;&amp;#x9732;&amp;#x5B9E;&amp;#x73B0;&amp;#x7684;&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x5B9E;&amp;#x73B0;&amp;#x8C03;&amp;#x7528;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x6765;&amp;#x8BE6;&amp;#x7EC6;&amp;#x7684;&amp;#x8BF4;&amp;#x8BF4;&amp;#x5404;&amp;#x4E2A;&amp;#x6B65;&amp;#x9AA4;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x521B;&amp;#x5EFA;-aidl&amp;#x6587;&amp;#x4EF6;&amp;#x4E0E;&amp;#x63A5;&amp;#x53E3;&quot;&gt;&lt;a href=&quot;#&amp;#x521B;&amp;#x5EFA;-aidl&amp;#x6587;&amp;#x4EF6;&amp;#x4E0E;&amp;#x63A5;&amp;#x53E3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x521B;&amp;#x5EFA;.aidl&amp;#x6587;&amp;#x4EF6;&amp;#x4E0E;&amp;#x63A5;&amp;#x53E3;&quot;&gt;&lt;/a&gt;&amp;#x521B;&amp;#x5EFA;.aidl&amp;#x6587;&amp;#x4EF6;&amp;#x4E0E;&amp;#x63A5;&amp;#x53E3;&lt;/h2&gt;&lt;p&gt;&amp;#x5728;&lt;code&gt;Android Studio&lt;/code&gt;&amp;#x4E2D;&amp;#x65B0;&amp;#x5EFA;&amp;#x9879;&amp;#x76EE;&amp;#xFF0C;&amp;#x5728;&amp;#x9879;&amp;#x76EE;&amp;#x7684;&lt;code&gt;src&lt;/code&gt;&amp;#x76EE;&amp;#x5F55;&amp;#x4E0B;&amp;#x65B0;&amp;#x5EFA;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;.aidl&lt;/code&gt;&amp;#x6587;&amp;#x4EF6;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/09/25/AIDL&amp;#x5165;&amp;#x95E8;/1.png&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x4E2A;&amp;#x65B0;&amp;#x5EFA;&amp;#x7684;&lt;code&gt;.aidl&lt;/code&gt;&amp;#x6587;&amp;#x4EF6;&amp;#x662F;&amp;#x5B9A;&amp;#x4E49;&amp;#x8FDC;&amp;#x7A0B;&amp;#x8FDB;&amp;#x7A0B;&amp;#x6240;&amp;#x4EE5;&amp;#x66B4;&amp;#x9732;&amp;#x7684;&amp;#x63A5;&amp;#x53E3;,&amp;#x6211;&amp;#x8FD9;&amp;#x91CC;&amp;#x547D;&amp;#x540D;&amp;#x4E3A;&lt;code&gt;IRemoteService&lt;/code&gt;&amp;#x3002;&amp;#x521B;&amp;#x5EFA;&amp;#x5B8C;&amp;#x4E4B;&amp;#x540E;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x80FD;&amp;#x5728;&lt;code&gt;src/main/aidl&lt;/code&gt;&amp;#x4E2D;&amp;#x627E;&amp;#x5230;&amp;#x8FD9;&amp;#x4E2A;&amp;#x6587;&amp;#x4EF6;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x662F;&amp;#x6211;&amp;#x4EEC;&amp;#x66B4;&amp;#x9732;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;sayHello&lt;/code&gt;&amp;#x7684;&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x5B83;&amp;#x7684;&amp;#x7C7B;&amp;#x578B;&amp;#x662F;&lt;code&gt;HelloMessage&lt;/code&gt;&amp;#xFF0C;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x5BF9;&amp;#x8C61;&amp;#x7C7B;&amp;#x578B;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;// IRemoteService.aidl&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;package com.idisfkj.aidldemo;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// Declare any non-default types here with import statements&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;import com.idisfkj.aidldemo.HelloMessage;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;interface IRemoteService {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * Demonstrates some basic types that you can use as parameters&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * and return values in AIDL.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    void basicTypes(int anInt, long aLong, boolean aBoolean, float aFloat,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            double aDouble, String aString);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    HelloMessage sayHello();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x73B0;&amp;#x5728;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x521B;&amp;#x5EFA;&lt;code&gt;HelloMessage&lt;/code&gt;&amp;#x7C7B;&amp;#xFF0C;&amp;#x5728;&amp;#x6211;&amp;#x4EEC;&amp;#x65E5;&amp;#x5E38;&amp;#x521B;&amp;#x5EFA;&amp;#x6587;&amp;#x4EF6;&amp;#x7684;&lt;code&gt;main/java&lt;/code&gt;&amp;#x4E2D;&amp;#x521B;&amp;#x5EFA;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;package com.idisfkj.aidldemo;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;import android.os.Parcel;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;import android.os.Parcelable;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;public class HelloMessage implements Parcelable{&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private String message;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private int pId;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public HelloMessage(String message, int pId) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        this.message = message;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        this.pId = pId;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    protected HelloMessage(Parcel in) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        message = in.readString();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        pId = in.readInt();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public static final Creator&amp;lt;HelloMessage&amp;gt; CREATOR = new Creator&amp;lt;HelloMessage&amp;gt;() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        public HelloMessage createFromParcel(Parcel in) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return new HelloMessage(in);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        public HelloMessage[] newArray(int size) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return new HelloMessage[size];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    };&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public String getMessage() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return message;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public void setMessage(String message) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        this.message = message;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public int getpId() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return pId;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public void setpId(int pId) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        this.pId = pId;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public int describeContents() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public void writeToParcel(Parcel parcel, int i) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        parcel.writeString(message);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        parcel.writeInt(pId);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5B83;&amp;#x5305;&amp;#x62EC;&amp;#x4E24;&amp;#x4E2A;&amp;#x5C5E;&amp;#x6027;&amp;#x5B57;&amp;#x6BB5;&lt;code&gt;message&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;pId&lt;/code&gt;,&amp;#x4EE3;&amp;#x8868;&amp;#x4E0B;&amp;#x9762;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x4F20;&amp;#x9012;&amp;#x7684;&amp;#x4FE1;&amp;#x606F;&amp;#x4E0E;&amp;#x65B9;&amp;#x4FBF;&amp;#x67E5;&amp;#x770B;&amp;#x7684;&amp;#x8FDB;&amp;#x7A0B;&lt;code&gt;ID&lt;/code&gt;&amp;#x3002;&amp;#x8FD9;&amp;#x91CC;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&lt;code&gt;Parcelable&lt;/code&gt;&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x8FDB;&amp;#x884C;&amp;#x5E8F;&amp;#x5217;&amp;#x5316;&amp;#x3002;&amp;#x56E0;&amp;#x4E3A;&amp;#x4F7F;&amp;#x7528;&amp;#x5230;&amp;#x4E86;&lt;code&gt;Parcelable&lt;/code&gt;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x56DE;&amp;#x5230;&lt;code&gt;aidl&lt;/code&gt;&amp;#x76EE;&amp;#x5F55;&amp;#xFF0C;&amp;#x518D;&amp;#x65B0;&amp;#x5EFA;&amp;#x4E00;&amp;#x4E2A;&amp;#x4E0E;&lt;code&gt;HelloMessage&lt;/code&gt;&amp;#x76F8;&amp;#x540C;&amp;#x540D;&amp;#x5B57;&amp;#x7684;&lt;code&gt;.aidl&lt;/code&gt;&amp;#x6587;&amp;#x4EF6;&amp;#xFF0C;&amp;#x5185;&amp;#x5BB9;&amp;#x4E3A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;// HelloMessage.aidl&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;package com.idisfkj.aidldemo;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// Declare any non-default types here with import statements&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;parcelable HelloMessage;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x5728;&amp;#x524D;&amp;#x9762;&amp;#x65B0;&amp;#x5EFA;&amp;#x7684;&lt;code&gt;IRemoteService.aidl&lt;/code&gt;&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#x5BFC;&amp;#x5165;&amp;#x8BE5;&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x5305;&amp;#x3002;&amp;#xFF08;&amp;#x53EF;&amp;#x4EE5;&amp;#x67E5;&amp;#x770B;&amp;#x524D;&amp;#x9762;&amp;#x8D34;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x6211;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&amp;#xFF09;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x6240;&amp;#x9700;&amp;#x7684;&lt;code&gt;.aidl&lt;/code&gt;&amp;#x6587;&amp;#x4EF6;&amp;#x4E0E;&amp;#x63A5;&amp;#x53E3;&amp;#x90FD;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5EFA;&amp;#x597D;&amp;#x4E86;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x518D;&lt;code&gt;Build -&amp;gt; Make Project&lt;/code&gt;(&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x662F;&amp;#x5728;&lt;code&gt;Module&lt;/code&gt;&amp;#x4E2D;&amp;#x5219;&lt;code&gt;Build -&amp;gt; Make Module App&lt;/code&gt;)&amp;#x3002;&amp;#x5B8C;&amp;#x4E86;&amp;#x4E4B;&amp;#x540E;&amp;#x6211;&amp;#x4EEC;&amp;#x5C31;&amp;#x80FD;&amp;#x5728;&lt;code&gt;build/generated/source/aidl&lt;/code&gt;&amp;#x4E2D;&amp;#x67E5;&amp;#x770B;&amp;#x751F;&amp;#x6210;&amp;#x7684;&lt;code&gt;IRemoteService&lt;/code&gt;&amp;#x3002;&amp;#x6253;&amp;#x5F00;&amp;#x4E4B;&amp;#x540E;&amp;#x80FD;&amp;#x770B;&amp;#x5230;&amp;#x5982;&amp;#x4E0B;&amp;#x4FE1;&amp;#x606F;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public interface IRemoteService extends android.os.IInterface&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;{&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;/** Local-side IPC implementation stub class. */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;public static abstract class Stub extends android.os.Binder implements com.idisfkj.aidldemo.IRemoteService&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;{&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;private static final java.lang.String DESCRIPTOR = &amp;quot;com.idisfkj.aidldemo.IRemoteService&amp;quot;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;/** Construct the stub at attach it to the interface. */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;public Stub()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;{&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;this.attachInterface(this, DESCRIPTOR);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;/**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * Cast an IBinder object into an com.idisfkj.aidldemo.IRemoteService interface,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; * generating a proxy if needed.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;public static com.idisfkj.aidldemo.IRemoteService asInterface(android.os.IBinder obj)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;{&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; //&amp;#x7701;&amp;#x7565;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;&amp;#x5B83;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&amp;#x9759;&amp;#x6001;&amp;#x62BD;&amp;#x8C61;&amp;#x7C7B;&lt;code&gt;Stub&lt;/code&gt;&amp;#xFF0C;&amp;#x5B83;&amp;#x7EE7;&amp;#x627F;&amp;#x4E8E;&lt;code&gt;Binder&lt;/code&gt;&amp;#x540C;&amp;#x65F6;&amp;#x5B9E;&amp;#x73B0;&amp;#x6211;&amp;#x4EEC;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&lt;code&gt;IRemoteService&lt;/code&gt;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;New IRemoteService.Stub()&lt;/code&gt;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x6211;&amp;#x4EEC;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x63A5;&amp;#x53E3;,&amp;#x540C;&amp;#x65F6;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;asInterface&lt;/code&gt;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x5176;&amp;#x4EE3;&amp;#x7406;&amp;#xFF0C;&amp;#x8C03;&amp;#x7528;&amp;#x63A5;&amp;#x53E3;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x63A5;&amp;#x53E3;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&quot;&gt;&lt;a href=&quot;#&amp;#x63A5;&amp;#x53E3;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x63A5;&amp;#x53E3;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&quot;&gt;&lt;/a&gt;&amp;#x63A5;&amp;#x53E3;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&lt;/h2&gt;&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x5EFA;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;Service&lt;/code&gt;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;Service&lt;/code&gt;&amp;#x7684;&lt;code&gt;onBind&lt;/code&gt;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x4F20;&amp;#x9012;&amp;#x7ED1;&amp;#x5B9A;&amp;#x7684;&lt;code&gt;IBinder&lt;/code&gt;&amp;#xFF0C;&amp;#x4E0A;&amp;#x9762;&amp;#x5DF2;&amp;#x7ECF;&amp;#x8BF4;&amp;#x4E86;&lt;code&gt;Stub&lt;/code&gt;&amp;#x7EE7;&amp;#x627F;&amp;#x4E0E;&lt;code&gt;Binder&lt;/code&gt;&amp;#x800C;&lt;code&gt;Binder&lt;/code&gt;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&lt;code&gt;IBinder&lt;/code&gt;&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;Stub&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public class RemoteService extends Service {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public RemoteService() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    IRemoteService.Stub mBinder = new IRemoteService.Stub() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        public void basicTypes(int anInt, long aLong, boolean aBoolean, float aFloat, double aDouble, String aString) throws RemoteException {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        public HelloMessage sayHello() throws RemoteException {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return new HelloMessage(&amp;quot;&amp;#x5F53;&amp;#x524D;&amp;#x7EBF;&amp;#x7A0B;:&amp;quot; + Thread.currentThread().toString() + &amp;quot;\n&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    + &amp;quot;&amp;#x5F53;&amp;#x524D;&amp;#x7EBF;&amp;#x7A0B;id:&amp;quot; + Thread.currentThread().getId() + &amp;quot;\n&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    + &amp;quot;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;id:&amp;quot; + getMainLooper().getThread().getId(), Process.myPid());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    };&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public IBinder onBind(Intent intent) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // TODO: Return the communication channel to the service.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return mBinder;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;&amp;#x8C03;&amp;#x7528;&quot;&gt;&lt;a href=&quot;#&amp;#x8C03;&amp;#x7528;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x8C03;&amp;#x7528;&quot;&gt;&lt;/a&gt;&amp;#x8C03;&amp;#x7528;&lt;/h2&gt;&lt;p&gt;&amp;#x5728;&lt;code&gt;MainActivity&lt;/code&gt;&amp;#x4E2D;&amp;#x7ED1;&amp;#x5B9A;&amp;#x5F00;&amp;#x542F;&lt;code&gt;Service&lt;/code&gt;&amp;#xFF0C;&amp;#x5B9E;&amp;#x73B0;&lt;code&gt;ServiceConnection&lt;/code&gt;,&amp;#x5728;&lt;code&gt;onServiceConnected&lt;/code&gt;&amp;#x4E2D;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;iRemoteService = IRemoteService.Stub.asInterface(iBinder);&lt;/code&gt;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x8C03;&amp;#x7528;&amp;#x7684;&amp;#x4EE3;&amp;#x7406;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x8C03;&amp;#x7528;&lt;code&gt;iRemoteService.sayHello()&lt;/code&gt;&amp;#x83B7;&amp;#x53D6;&amp;#x901A;&amp;#x4FE1;&amp;#x7684;&amp;#x4FE1;&amp;#x606F;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public class MainActivity extends AppCompatActivity {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private TextView mPidText;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private IRemoteService iRemoteService;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private boolean mBind = false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    protected void onCreate(Bundle savedInstanceState) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        super.onCreate(savedInstanceState);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        setContentView(R.layout.activity_main);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mPidText = (TextView) findViewById(R.id.pid_text);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mPidText.setText(&amp;quot;&amp;#x672C;&amp;#x5730;id:&amp;quot; + Process.myPid());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    protected void onStart() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        super.onStart();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Intent intent = new Intent(MainActivity.this, RemoteService.class);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        bindService(intent, conn, BIND_AUTO_CREATE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    protected void onStop() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        super.onStop();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        unbindService(conn);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mBind = false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private ServiceConnection conn = new ServiceConnection() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        public void onServiceConnected(ComponentName componentName, IBinder iBinder) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            iRemoteService = IRemoteService.Stub.asInterface(iBinder);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            mBind = true;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        public void onServiceDisconnected(ComponentName componentName) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            iRemoteService = null;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            mBind = false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    };&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public void myClick(View view) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        switch (view.getId()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            case R.id.show_pid_bt:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (mBind) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        Log.v(&amp;quot;TAG&amp;quot;, &amp;quot;&amp;#x8FDC;&amp;#x7A0B;id:&amp;quot; + iRemoteService.sayHello().getpId());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    } catch (RemoteException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        e.printStackTrace();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            case R.id.show_message_bt:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (mBind) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        Log.v(&amp;quot;TAG&amp;quot;, &amp;quot;Message:&amp;quot; + iRemoteService.sayHello().getMessage());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    } catch (RemoteException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        e.printStackTrace();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5F53;&amp;#x7136;&amp;#x5728;&lt;code&gt;AndroidManifest.xml&lt;/code&gt;&amp;#x4E2D;&amp;#x8981;&amp;#x5BF9;&lt;code&gt;Service&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x914D;&amp;#x7F6E;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;service&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:name=&amp;quot;.RemoteService&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:enabled=&amp;quot;true&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:exported=&amp;quot;true&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:process=&amp;quot;:remote&amp;quot;&amp;gt;&amp;lt;/service&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x6CE8;&amp;#x610F;&amp;#x56E0;&amp;#x4E3A;&amp;#x8981;&amp;#x6A21;&amp;#x4EFF;&amp;#x8FDC;&amp;#x7A0B;&amp;#x95F4;&amp;#x7684;&amp;#x901A;&amp;#x4FE1;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8981;&amp;#x5C06;process&amp;#x8BBE;&amp;#x7F6E;&amp;#x6210;remote&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x4E0D;&amp;#x8BBE;&amp;#x7F6E;&amp;#x5F53;&amp;#x7136;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#xFF0C;&amp;#x4F46;&amp;#x8FD9;&amp;#x5C31;&amp;#x4E0D;&amp;#x662F;&amp;#x4E0D;&amp;#x540C;&amp;#x8FDB;&amp;#x7A0B;&amp;#x4E2D;&amp;#x7684;&amp;#x901A;&amp;#x4FE1;&amp;#x4E86;&amp;#xFF0C;aidl&amp;#x5C31;&amp;#x6CA1;&amp;#x4EC0;&amp;#x4E48;&amp;#x610F;&amp;#x4E49;&amp;#x4E86;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x6548;&amp;#x679C;&amp;#x5427;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/09/25/AIDL&amp;#x5165;&amp;#x95E8;/2.png&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/09/25/AIDL&amp;#x5165;&amp;#x95E8;/3.png&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x8FDB;&amp;#x7A0B;&amp;#x662F;&lt;code&gt;26951&lt;/code&gt;&amp;#x800C;&amp;#x670D;&amp;#x52A1;&amp;#x7AEF;&amp;#x8FDB;&amp;#x7A0B;&amp;#x4E3A;&lt;code&gt;26974&lt;/code&gt;&amp;#xFF0C;&amp;#x8BF4;&amp;#x660E;&amp;#x4ED6;&amp;#x4EEC;&amp;#x5904;&amp;#x4E8E;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x8FDB;&amp;#x7A0B;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&lt;code&gt;AIDL&lt;/code&gt;&amp;#x4E5F;&amp;#x5C31;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&amp;#x3002;&amp;#x5F53;&amp;#x7136;&amp;#x5982;&amp;#x4E0A;&amp;#x6240;&amp;#x8FF0;&amp;#x5C06;&lt;code&gt;process&lt;/code&gt;&amp;#x53BB;&amp;#x6389;&amp;#xFF0C;&amp;#x5C31;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;&amp;#xFF0C;&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x4E0E;&amp;#x670D;&amp;#x52A1;&amp;#x7AEF;&amp;#x7684;&amp;#x8FDB;&amp;#x7A0B;&amp;#x5C31;&amp;#x662F;&amp;#x4E00;&amp;#x6837;&amp;#x7684;&amp;#x4E86;&amp;#x3002;&amp;#x8FD9;&amp;#x4E2A;&amp;#x5C31;&amp;#x7559;&amp;#x4E2A;&amp;#x8BFB;&amp;#x8005;&amp;#x81EA;&amp;#x884C;&amp;#x6D4B;&amp;#x8BD5;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x6E90;&amp;#x4EE3;&amp;#x7801;&amp;#x4E0B;&amp;#x8F7D;&amp;#x5730;&amp;#x5740;&amp;#xFF1A;&lt;a href=&quot;https://github.com/idisfkj/AIDLDemo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/idisfkj/AIDLDemo&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x8F6C;&amp;#x8F7D;&amp;#x8BF7;&amp;#x6307;&amp;#x660E;&amp;#x51FA;&amp;#x5904;idisfkj&amp;#x535A;&amp;#x5BA2;&amp;#xFF1A;&lt;a href=&quot;https://idisfkj.github.io&quot;&gt;https://idisfkj.github.io&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x4E00;&amp;#x76F4;&amp;#x542C;&amp;#x8BF4;&lt;code&gt;AIDL&lt;/code&gt;&amp;#x4F46;&amp;#x662F;&amp;#x81EA;&amp;#x5DF1;&amp;#x8FD8;&amp;#x6CA1;&amp;#x6709;&amp;#x771F;&amp;#x6B63;&amp;#x4F7F;&amp;#x7528;
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="AIDL" scheme="https://idisfkj.github.io/tags/AIDL/"/>
    
  </entry>
  
  <entry>
    <title>React Native For Android</title>
    <link href="https://idisfkj.github.io/2016/08/29/React-Native-For-Android/"/>
    <id>https://idisfkj.github.io/2016/08/29/React-Native-For-Android/</id>
    <published>2016-08-29T02:08:44.000Z</published>
    <updated>2016-08-29T07:20:19.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h1&gt;&lt;p&gt;&lt;code&gt;React Native&lt;/code&gt;&amp;#x6709;&amp;#x70B9;&amp;#x5927;&amp;#x52BF;&amp;#x6240;&amp;#x8D8B;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x524D;&amp;#x6BB5;&amp;#x65F6;&amp;#x95F4;&amp;#x7814;&amp;#x7A76;&amp;#x4E86;&amp;#x4E0B;&amp;#x5B83;&amp;#xFF0C;&amp;#x770B;&amp;#x4E86;&amp;#x5B83;&amp;#x7684;&amp;#x5B98;&amp;#x65B9;&amp;#x6587;&amp;#x6863;&amp;#x540C;&amp;#x65F6;&amp;#x4E5F;&amp;#x5728;&lt;code&gt;Github&lt;/code&gt;&amp;#x6D4F;&amp;#x89C8;&amp;#x4E86;&amp;#x524D;&amp;#x8F88;&amp;#x4EEC;&amp;#x7684;&amp;#x6770;&amp;#x4F5C;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x81EA;&amp;#x5DF1;&amp;#x4E5F;&amp;#x5199;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&lt;code&gt;Demo&lt;/code&gt;&amp;#x4E5F;&amp;#x7B97;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x597D;&amp;#x7684;&amp;#x5165;&amp;#x95E8;&amp;#x3002;&amp;#x914D;&amp;#x5408;&amp;#x5B98;&amp;#x65B9;&amp;#x6587;&amp;#x6863;&amp;#x4E0E;&amp;#x4EE3;&amp;#x7801;&amp;#x5B9E;&amp;#x4F8B;&amp;#x76F8;&amp;#x4FE1;&amp;#x90FD;&amp;#x80FD;&amp;#x5F88;&amp;#x5FEB;&amp;#x7684;&amp;#x8FDB;&amp;#x5165;&lt;code&gt;React Native&lt;/code&gt;&amp;#x7684;&amp;#x4E16;&amp;#x754C;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x6211;&amp;#x4ECB;&amp;#x7ECD;&amp;#x7684;&amp;#x4E0D;&amp;#x4F1A;&amp;#x5F88;&amp;#x8BE6;&amp;#x7EC6;&amp;#xFF0C;&amp;#x662F;&amp;#x9488;&amp;#x5BF9;&lt;code&gt;React Native&lt;/code&gt;&amp;#x8BED;&amp;#x6CD5;&amp;#x6709;&amp;#x4E00;&amp;#x5B9A;&amp;#x4F1A;&amp;#x57FA;&amp;#x7840;&amp;#x7684;&amp;#x540C;&amp;#x5B66;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;React-Native&amp;#x4ECB;&amp;#x7ECD;&quot;&gt;&lt;a href=&quot;#React-Native&amp;#x4ECB;&amp;#x7ECD;&quot; class=&quot;headerlink&quot; title=&quot;React Native&amp;#x4ECB;&amp;#x7ECD;&quot;&gt;&lt;/a&gt;React Native&amp;#x4ECB;&amp;#x7ECD;&lt;/h1&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x4ECB;&amp;#x7ECD;&amp;#x4E0B;&lt;code&gt;React Native&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;#x5B83;&amp;#x662F;&amp;#x501F;&amp;#x52A9;&amp;#x4E8E;&lt;code&gt;FaceBook&lt;/code&gt;&amp;#x73B0;&amp;#x6709;&amp;#x7684;&amp;#x8F6E;&amp;#x5B50;&amp;#xFF0C;&amp;#x5B83;&amp;#x53EF;&amp;#x4EE5;&amp;#x5B9E;&amp;#x73B0;&amp;#x5BF9;&lt;code&gt;ISO&lt;/code&gt;&amp;#x548C;&lt;code&gt;Android&lt;/code&gt;&amp;#x4E24;&amp;#x5927;&amp;#x5E73;&amp;#x53F0;&amp;#x7684;&amp;#x652F;&amp;#x6301;&lt;/li&gt;
&lt;li&gt;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;React.js&lt;/code&gt;&amp;#x6765;&amp;#x64CD;&amp;#x4F5C;&amp;#x539F;&amp;#x751F;&amp;#x7684;&lt;code&gt;UI&lt;/code&gt;&amp;#x7EC4;&amp;#x4EF6;&amp;#xFF0C;&amp;#x66FF;&amp;#x4EE3;&amp;#x4E86;&lt;code&gt;DOM&lt;/code&gt;&amp;#x5143;&amp;#x7D20;&lt;/li&gt;
&lt;li&gt;&amp;#x5728;&lt;code&gt;UI&lt;/code&gt;&amp;#x65B9;&amp;#x9762;&amp;#xFF0C;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&lt;code&gt;Flexbox&lt;/code&gt;&amp;#x7684;&amp;#x5E03;&amp;#x5C40;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x4E5F;&amp;#x652F;&amp;#x6301;&lt;code&gt;css-layout&lt;/code&gt;&amp;#x6837;&amp;#x5F0F;&lt;/li&gt;
&lt;li&gt;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;JSX&lt;/code&gt;&amp;#x6765;&amp;#x8F6C;&amp;#x6362;&amp;#x6210;&lt;code&gt;JS&lt;/code&gt;&amp;#x6765;&amp;#x6267;&amp;#x884C;&amp;#xFF0C;&lt;code&gt;JSX&lt;/code&gt;&amp;#x662F;&amp;#x4E00;&amp;#x79CD;&amp;#x7C7B;&amp;#x4F3C;&amp;#x4E8E;&lt;code&gt;XML&lt;/code&gt;&amp;#x8BED;&amp;#x6CD5;&amp;#x7684;&amp;#x811A;&amp;#x6B65;&amp;#x6269;&amp;#x5C55;&amp;#x8BED;&amp;#x8A00;&amp;#x3002;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&lt;code&gt;React Native&lt;/code&gt;&amp;#x7684;&amp;#x73AF;&amp;#x5883;&amp;#x642D;&amp;#x5EFA;,&amp;#x53EF;&amp;#x4EE5;&amp;#x53C2;&amp;#x8003;&amp;#x5B98;&amp;#x65B9;&amp;#x6587;&amp;#x6863;&lt;a href=&quot;https://facebook.github.io/react-native/docs/getting-started.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Getting Started&lt;/a&gt;,&amp;#x5982;&amp;#x679C;&amp;#x82F1;&amp;#x6587;&amp;#x4E0D;&amp;#x597D;&amp;#x7684;&amp;#x522B;&amp;#x6025;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x8FD8;&amp;#x6709;&amp;#x4E2D;&amp;#x6587;&amp;#x7248;&amp;#x7684;&lt;a href=&quot;http://reactnative.cn/docs/0.31/getting-started.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Getting Started&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x63A8;&amp;#x8350;&amp;#x4F7F;&amp;#x7528;&amp;#x82F1;&amp;#x6587;&amp;#x7248;&amp;#x7684;&amp;#xFF0C;&amp;#x4E2D;&amp;#x6587;&amp;#x7248;&amp;#x7684;&amp;#x8FD8;&amp;#x662F;&amp;#x5B58;&amp;#x5728;&amp;#x5751;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x4ECB;&amp;#x7ECD;&amp;#x4E0B;Demo&amp;#x4E2D;&amp;#x7528;&amp;#x5230;&amp;#x7684;&amp;#x7EC4;&amp;#x4EF6;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;Navigator&quot;&gt;&lt;a href=&quot;#Navigator&quot; class=&quot;headerlink&quot; title=&quot;Navigator&quot;&gt;&lt;/a&gt;Navigator&lt;/h1&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x5BFC;&amp;#x822A;&amp;#x5668;,&amp;#x76F4;&amp;#x767D;&amp;#x7684;&amp;#x7406;&amp;#x89E3;&amp;#x5C31;&amp;#x662F;&amp;#x5B9E;&amp;#x73B0;&amp;#x754C;&amp;#x9762;&amp;#x4E4B;&amp;#x95F4;&amp;#x7684;&amp;#x8DF3;&amp;#x8F6C;&amp;#xFF0C;&amp;#x5728;&lt;code&gt;React Native&lt;/code&gt;&amp;#x4E2D;&amp;#x501F;&amp;#x52A9;&amp;#x5B83;&amp;#x80FD;&amp;#x5F88;&amp;#x597D;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x754C;&amp;#x9762;&amp;#x7684;&amp;#x5207;&amp;#x6362;&amp;#x3002;&amp;#x5B9E;&amp;#x73B0;&amp;#x5B83;&amp;#x9700;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&amp;#x51E0;&amp;#x4E2A;&amp;#x5FC5;&amp;#x8981;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;Navigator initialRoute={{title: &amp;apos;&amp;#x4E3B;&amp;#x9875;&amp;apos;, component: Welcome}}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          configureScene={(route,routeStack) =&amp;gt; Navigator.SceneConfigs.FloatFromLeft}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          renderScene={this.renderScene}/&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;initialRoute&quot;&gt;&lt;a href=&quot;#initialRoute&quot; class=&quot;headerlink&quot; title=&quot;initialRoute&quot;&gt;&lt;/a&gt;initialRoute&lt;/h2&gt;&lt;p&gt;&lt;code&gt;Navigator&lt;/code&gt;&amp;#x90FD;&amp;#x662F;&amp;#x7531;&lt;code&gt;route&lt;/code&gt;&amp;#x6765;&amp;#x63A7;&amp;#x5236;&amp;#x8DF3;&amp;#x8F6C;&amp;#x8DEF;&amp;#x7EBF;&amp;#x7684;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5F00;&amp;#x59CB;&amp;#x4F7F;&amp;#x7528;&amp;#x65F6;&amp;#x8981;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&lt;code&gt;route&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;initialRoute={{title: &amp;apos;&amp;#x4E3B;&amp;#x9875;&amp;apos;, component: Welcome}}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x91CC;&amp;#x9762;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&amp;#x540D;&amp;#x4E0D;&amp;#x53D7;&amp;#x9650;&amp;#x5236;&amp;#xFF0C;&amp;#x4F46;&amp;#x662F;&amp;#x4F60;&amp;#x5FC5;&amp;#x987B;&amp;#x8981;&amp;#x6307;&amp;#x660E;&amp;#x8DF3;&amp;#x8F6C;&amp;#x7684;&lt;code&gt;Componnet&lt;/code&gt;&amp;#x7EC4;&amp;#x4EF6;&amp;#x540D;&amp;#xFF0C;&amp;#x65B9;&amp;#x4FBF;&amp;#x5728;&amp;#x540E;&amp;#x7EED;&amp;#x6267;&amp;#x884C;&amp;#x4E2D;&amp;#x53D6;&amp;#x51FA;&amp;#x3002;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;route.component&lt;/code&gt;&amp;#x53D6;&amp;#x51FA;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;renderScene&quot;&gt;&lt;a href=&quot;#renderScene&quot; class=&quot;headerlink&quot; title=&quot;renderScene&quot;&gt;&lt;/a&gt;renderScene&lt;/h2&gt;&lt;p&gt;&amp;#x8BE5;&amp;#x914D;&amp;#x7F6E;&amp;#x5C31;&amp;#x662F;&amp;#x6267;&amp;#x884C;&amp;#x6CA1;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;route&lt;/code&gt;&amp;#x7684;&amp;#x5177;&amp;#x4F53;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x4ECE;&amp;#x800C;&amp;#x6E32;&amp;#x67D3;&amp;#x51FA;&amp;#x6765;&amp;#xFF0C;&amp;#x5B83;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E24;&amp;#x4E2A;&amp;#x5185;&amp;#x7F6E;&amp;#x53C2;&amp;#x6570;&lt;code&gt;route&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;navigator&lt;/code&gt;&amp;#xFF0C;&amp;#x6765;&amp;#x65B9;&amp;#x4FBF;&amp;#x6E32;&amp;#x67D3;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;renderScene={this.renderScene}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;renderScene(route, navigator){&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    _navigator = navigator;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    let DefaultComponet = route.component;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return &amp;lt;DefaultComponet&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      route = {route} navigator = {navigator}/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&lt;code&gt;renderScene&lt;/code&gt;&amp;#x4E2D;&amp;#x6211;&amp;#x4EEC;&amp;#x53D6;&amp;#x51FA;&amp;#x6BCF;&amp;#x6B21;&amp;#x8981;&amp;#x5BFC;&amp;#x822A;&amp;#x7684;&lt;code&gt;Component&lt;/code&gt;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x6E32;&amp;#x67D3;&amp;#x51FA;&amp;#x6765;&amp;#xFF0C;&amp;#x5E76;&amp;#x4E14;&amp;#x628A;&lt;code&gt;route&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;navigator&lt;/code&gt;&amp;#x4F20;&amp;#x5230;&amp;#x6E32;&amp;#x67D3;&amp;#x7684;&amp;#x754C;&amp;#x9762;&amp;#x4E2D;&amp;#x3002;&amp;#x5728;&amp;#x6E32;&amp;#x67D3;&amp;#x754C;&amp;#x9762;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;this.props.rout&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;this.props.navigator&lt;/code&gt;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x3002;&amp;#x6700;&amp;#x540E;&amp;#x4E00;&amp;#x6B65;&amp;#x5C31;&amp;#x662F;&amp;#x8981;&amp;#x7ED1;&amp;#x5B9A;&amp;#x4E8B;&amp;#x4EF6;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;this.renderScene = this.renderScene.bind(this);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x4E0D;&amp;#x61C2;props&amp;#x7684;&amp;#x53EF;&amp;#x4EE5;&amp;#x81EA;&amp;#x5DF1;&amp;#x67E5;&amp;#x9605;&amp;#x5B98;&amp;#x65B9;&amp;#x6587;&amp;#x6863;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;push&amp;#x4E0E;pop&quot;&gt;&lt;a href=&quot;#push&amp;#x4E0E;pop&quot; class=&quot;headerlink&quot; title=&quot;push&amp;#x4E0E;pop&quot;&gt;&lt;/a&gt;push&amp;#x4E0E;pop&lt;/h2&gt;&lt;p&gt;&lt;code&gt;Navigator&lt;/code&gt;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&lt;code&gt;push&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;pop&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x63A7;&amp;#x5236;&lt;code&gt;route&lt;/code&gt;&amp;#x7684;&amp;#x8DEF;&amp;#x7EBF;&amp;#xFF0C;&amp;#x76F8;&amp;#x5F53;&amp;#x4E8E;&amp;#x6211;&amp;#x4EEC;&amp;#x719F;&amp;#x77E5;&amp;#x7684;&amp;#x6808;&amp;#x3002;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;push&lt;/code&gt;&amp;#x6765;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E0B;&amp;#x4E00;&amp;#x4E2A;&amp;#x5BFC;&amp;#x822A;&amp;#x7684;&lt;code&gt;route&lt;/code&gt;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;pop&lt;/code&gt;&amp;#x6765;&amp;#x9000;&amp;#x51FA;&amp;#x8BE5;&amp;#x754C;&amp;#x9762;&amp;#x8FD4;&amp;#x56DE;&amp;#x539F;&amp;#x6765;&amp;#x7684;&amp;#x754C;&amp;#x9762;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;TouchableOpacity onPress={() =&amp;gt; this.props.navigator.push({&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        title: &amp;apos;&amp;#x8BE6;&amp;#x60C5;&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        component: Detail,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        number: rowID,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      })}&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &amp;lt;View style={styles.item}&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;View style={styles.content}&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &amp;lt;Text style={styles.des}&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            {rowData.title}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &amp;lt;/Text&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          ....&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &amp;lt;/View&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/TouchableOpacity&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;TouchableOpacity&lt;/code&gt;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x70B9;&amp;#x51FB;&amp;#x76D1;&amp;#x542C;&amp;#x7EC4;&amp;#x4EF6;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x7ED1;&amp;#x5B9A;&amp;#x70B9;&amp;#x51FB;&amp;#x4E8B;&amp;#x4EF6;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;TouchableOpacity onPress={() =&amp;gt; this.props.navigator.pop()}&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;lt;Image source={require(&amp;apos;../imgs/back.png&amp;apos;)} style={styles.back}/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &amp;lt;/TouchableOpacity&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&amp;#x70B9;&amp;#x51FB;&amp;#x4EE5;&amp;#x540E;&amp;#x6E32;&amp;#x67D3;&amp;#x51FA;&amp;#x6765;&amp;#x7684;&amp;#x754C;&amp;#x9762;&amp;#x4E2D;&amp;#x8C03;&amp;#x7528;&lt;code&gt;pop&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x9000;&amp;#x51FA;&amp;#x8BE5;&amp;#x6E32;&amp;#x67D3;.&lt;/p&gt;
&lt;h1 id=&quot;ListView&quot;&gt;&lt;a href=&quot;#ListView&quot; class=&quot;headerlink&quot; title=&quot;ListView&quot;&gt;&lt;/a&gt;ListView&lt;/h1&gt;&lt;p&gt;&amp;#x662F;&amp;#x4E0D;&amp;#x662F;&amp;#x611F;&amp;#x89C9;&amp;#x5F88;&amp;#x4EB2;&amp;#x5207;&amp;#xFF0C;&amp;#x5B83;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&amp;#x7684;&amp;#x529F;&amp;#x80FD;&amp;#x8DDF;&lt;code&gt;Android&lt;/code&gt;&amp;#x4E2D;&amp;#x662F;&amp;#x4E00;&amp;#x6837;&amp;#x7684;&amp;#x3002;&amp;#x4F46;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&amp;#x65B9;&amp;#x6CD5;&amp;#x5C31;&amp;#x4E0D;&amp;#x540C;&amp;#x4E86;&amp;#x54E6;&amp;#x3002;&amp;#x4E0D;&amp;#x8FC7;&amp;#x6574;&amp;#x4F53;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x539F;&amp;#x7406;&amp;#x8FD8;&amp;#x662F;&amp;#x7C7B;&amp;#x4F3C;&amp;#x3002;&amp;#x65E0;&amp;#x975E;&amp;#x4E5F;&amp;#x8981;&amp;#x6574;&amp;#x4E2A;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#xFF0C;&amp;#x4E0E;&amp;#x7ED1;&amp;#x5B9A;&amp;#x6CA1;&amp;#x4E2A;&lt;code&gt;Item&lt;/code&gt;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;rowHasChanged&quot;&gt;&lt;a href=&quot;#rowHasChanged&quot; class=&quot;headerlink&quot; title=&quot;rowHasChanged&quot;&gt;&lt;/a&gt;rowHasChanged&lt;/h2&gt;&lt;p&gt;&amp;#x5728;&amp;#x6E32;&amp;#x67D3;&amp;#x4E4B;&amp;#x524D;&amp;#x8981;&amp;#x8BBE;&amp;#x7F6E;&amp;#x5224;&amp;#x65AD;&amp;#x8BE5;&amp;#x6570;&amp;#x636E;&amp;#x662F;&amp;#x5426;&amp;#x9700;&amp;#x8981;&amp;#x4ECE;&amp;#x65B0;&amp;#x6E32;&amp;#x67D3;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x5C31;&amp;#x51CF;&amp;#x5C11;&amp;#x8BB8;&amp;#x591A;&amp;#x4E0D;&amp;#x5FC5;&amp;#x8981;&amp;#x7684;&amp;#x6E32;&amp;#x67D3;&amp;#x6B65;&amp;#x9AA4;&amp;#xFF0C;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x80FD;&amp;#x5E2E;&amp;#x52A9;&amp;#x6211;&amp;#x4EEC;&amp;#x8FDB;&amp;#x884C;&amp;#x5224;&amp;#x65AD;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;const listView = new ListView.DataSource({&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      rowHasChanged: (r1,r2) =&amp;gt; r1!==r2});&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;cloneWithRows&quot;&gt;&lt;a href=&quot;#cloneWithRows&quot; class=&quot;headerlink&quot; title=&quot;cloneWithRows&quot;&gt;&lt;/a&gt;cloneWithRows&lt;/h2&gt;&lt;p&gt;&amp;#x4E3A;&lt;code&gt;listView&lt;/code&gt;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x6570;&amp;#x636E;&amp;#x6E90;,&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;state&lt;/code&gt;&amp;#x72B6;&amp;#x6001;&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x4FDD;&amp;#x5B58;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;this.state={&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      dataSource: listView.cloneWithRows(this._rowData())};&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;&amp;#x7ED1;&amp;#x5B9A;&quot;&gt;&lt;a href=&quot;#&amp;#x7ED1;&amp;#x5B9A;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7ED1;&amp;#x5B9A;&quot;&gt;&lt;/a&gt;&amp;#x7ED1;&amp;#x5B9A;&lt;/h2&gt;&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x5728;&amp;#x6E32;&amp;#x67D3;&lt;code&gt;render()&lt;/code&gt;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&amp;#x7EC4;&amp;#x4EF6;&amp;#x8D44;&amp;#x6E90;&amp;#x7ED1;&amp;#x5B9A;:&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;ListView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            style={styles.container}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            dataSource={this.state.dataSource}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            renderRow={this._renderRow.bind(this)}/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &amp;lt;/View&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5176;&amp;#x4E2D;&lt;code&gt;dataSource&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;renderRow&lt;/code&gt;&amp;#x662F;&amp;#x4E24;&amp;#x4E2A;&amp;#x5FC5;&amp;#x8981;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x524D;&amp;#x4E00;&amp;#x4E2A;&amp;#x662F;&amp;#x7ED1;&amp;#x5B9A;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#xFF0C;&amp;#x540E;&amp;#x4E00;&amp;#x4E2A;&amp;#x662F;&amp;#x7ED1;&amp;#x5B9A;&amp;#x6E32;&amp;#x67D3;&amp;#x7684;&amp;#x6BCF;&amp;#x4E00;&amp;#x884C;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x3002;&amp;#x5176;&amp;#x4E2D;&lt;code&gt;_renderRow&lt;/code&gt;&amp;#x662F;&lt;code&gt;Item&lt;/code&gt;&amp;#x7684;&amp;#x5E03;&amp;#x5C40;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;_renderRow(rowData,sectionID,rowID,highlightRow){&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;TouchableOpacity onPress={() =&amp;gt; this.props.navigator.push({&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        title: &amp;apos;&amp;#x8BE6;&amp;#x60C5;&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        component: Detail,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        number: rowID,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      })}&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &amp;lt;View style={styles.item}&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;View style={styles.content}&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &amp;lt;Text style={styles.des}&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            {rowData.title}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &amp;lt;/Text&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &amp;lt;View style={styles.bottom}&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;lt;Text style={styles.fb}&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              {&amp;quot;&amp;#x53D1;&amp;#x5E03;: &amp;quot;+rowData.fb}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;lt;/Text&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;lt;Text style={styles.data}&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              {&amp;quot;&amp;#x65E5;&amp;#x671F;: &amp;quot;+rowData.data}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;lt;/Text&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &amp;lt;/View&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;/View&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;Image style={styles.image}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        source={{uri: rowData.image}}/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &amp;lt;/View&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &amp;lt;/TouchableOpacity&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    );&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;renderRow&lt;/code&gt;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x56DB;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&lt;code&gt;rowData,sectionID,rowID,highlightRow&lt;/code&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x5229;&amp;#x7528;&lt;code&gt;rowData&lt;/code&gt;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x3002;&amp;#x5E03;&amp;#x5C40;&amp;#x6837;&amp;#x5F0F;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;css-layout&lt;/code&gt;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;,&amp;#x53EF;&amp;#x4EE5;&amp;#x76F4;&amp;#x63A5;&amp;#x5728;&amp;#x7EC4;&amp;#x4EF6;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;style={{flex: 1}}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6216;&amp;#x8005;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;StyleSheet&lt;/code&gt;&amp;#x6765;&amp;#x7EDF;&amp;#x4E00;&amp;#x521B;&amp;#x5EFA;:&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;const styles = StyleSheet.create({&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  container: {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    flex: 1,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    backgroundColor: &amp;apos;#F5FCFF&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  },&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  title: {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    backgroundColor: &amp;apos;royalblue&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    justifyContent: &amp;apos;center&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    alignItems: &amp;apos;center&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    borderColor: &amp;apos;gray&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    borderBottomWidth: 1,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  },&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;});&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;css&amp;#x8FD9;&amp;#x91CC;&amp;#x4E0D;&amp;#x591A;&amp;#x8BF4;&amp;#xFF0C;&amp;#x81EA;&amp;#x5DF1;&amp;#x53EF;&amp;#x4EE5;&amp;#x53C2;&amp;#x8003;&amp;#x5B98;&amp;#x65B9;&amp;#x6587;&amp;#x6863;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;TabNavigator&quot;&gt;&lt;a href=&quot;#TabNavigator&quot; class=&quot;headerlink&quot; title=&quot;TabNavigator&quot;&gt;&lt;/a&gt;TabNavigator&lt;/h1&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x518D;&amp;#x7B80;&amp;#x5355;&amp;#x4ECB;&amp;#x7ECD;&amp;#x4E0B;&lt;code&gt;TabNavigator&lt;/code&gt;&amp;#x8FD9;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x7C7B;&amp;#x4F3C;&amp;#x4E8E;&lt;code&gt;Android&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;FragmentTabHost&lt;/code&gt;&amp;#x3002;&amp;#x76F8;&amp;#x4FE1;&amp;#x90FD;&amp;#x77E5;&amp;#x9053;&amp;#x5B83;&amp;#x7684;&amp;#x529F;&amp;#x80FD;&amp;#x662F;&amp;#x4EC0;&amp;#x4E48;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;TabNavigator&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;TabNavigator.Item&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          title=&amp;quot;&amp;#x65B0;&amp;#x95FB;&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          selected={this.state.selectedTab===&amp;apos;news&amp;apos;}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          selectedTitleStyle={styles.selectedText}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          titleStyle={styles.text}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          renderIcon={() =&amp;gt; &amp;lt;Image source={require(&amp;apos;../imgs/ic_news.png&amp;apos;)} style={styles.image}/&amp;gt;}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          renderSelectedIcon={() =&amp;gt; &amp;lt;Image source={require(&amp;apos;../imgs/ic_news_pressed.png&amp;apos;)} style={styles.image}/&amp;gt;}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          onPress={() =&amp;gt; this.setState({selectedTab: &amp;apos;news&amp;apos;})}&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &amp;lt;News {...this.props}/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;lt;/TabNavigator.Item&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/TabNavigator&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;&amp;lt;TabNavigator.Item&amp;gt;&lt;/code&gt;&amp;#x5B50;&amp;#x6807;&amp;#x7B7E;&amp;#x6765;&amp;#x8BBE;&amp;#x7F6E;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&amp;#x5E95;&amp;#x90E8;&lt;code&gt;Item&lt;/code&gt;&amp;#xFF0C;&amp;#x5728;&amp;#x5176;&amp;#x4E2D;&amp;#x5728;&amp;#x8BBE;&amp;#x7F6E;&amp;#x8BE5;&lt;code&gt;Item&lt;/code&gt;&amp;#x8981;&amp;#x6E32;&amp;#x67D3;&amp;#x7684;&amp;#x754C;&amp;#x9762;&amp;#xFF0C;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&lt;code&gt;News&lt;/code&gt;&amp;#x5C31;&amp;#x662F;&amp;#x8981;&amp;#x6E32;&amp;#x67D3;&amp;#x7684;&amp;#x754C;&amp;#x9762;,&amp;#x8BE5;&amp;#x754C;&amp;#x9762;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;export default News&lt;/code&gt;&amp;#x5BFC;&amp;#x51FA;&amp;#xFF0C;&lt;code&gt;import News from &amp;apos;./News&amp;apos;&lt;/code&gt;&amp;#x5BFC;&amp;#x5165;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x5148;&amp;#x5C31;&amp;#x4ECB;&amp;#x7ECD;&amp;#x5230;&amp;#x8FD9;&amp;#x91CC;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x8FD8;&amp;#x6709;&amp;#x9700;&amp;#x8981;&amp;#x53EF;&amp;#x4EE5;&amp;#x4E0B;&amp;#x8F7D;&amp;#x6E90;&amp;#x7801;,&amp;#x540E;&amp;#x7EED;&amp;#x8FD8;&amp;#x4F1A;&amp;#x7EE7;&amp;#x7EED;&amp;#x518D;&amp;#x505A;&amp;#x6269;&amp;#x5C55;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;a href=&quot;#&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/a&gt;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;/2016/08/29/React-Native-For-Android/rn.gif&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x9879;&amp;#x76EE;&amp;#x5730;&amp;#x5740;&amp;#xFF1A;&lt;a href=&quot;https://github.com/idisfkj/RNDemo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/idisfkj/RNDemo&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x8F6C;&amp;#x8F7D;&amp;#x8BF7;&amp;#x6307;&amp;#x660E;&amp;#x51FA;&amp;#x5904; idisfkj&amp;#x535A;&amp;#x5BA2;&amp;#xFF1A;&lt;a href=&quot;https://idisfkj.github.io&quot;&gt;https://idisfkj.github.io&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h1&gt;&lt;p&gt;&lt;code&gt;React Na
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="React Native" scheme="https://idisfkj.github.io/tags/React-Native/"/>
    
  </entry>
  
  <entry>
    <title>hexo使用新node版本问题</title>
    <link href="https://idisfkj.github.io/2016/08/29/hexo%E4%BD%BF%E7%94%A8%E6%96%B0node%E7%89%88%E6%9C%AC%E9%97%AE%E9%A2%98/"/>
    <id>https://idisfkj.github.io/2016/08/29/hexo使用新node版本问题/</id>
    <published>2016-08-28T16:47:07.000Z</published>
    <updated>2016-08-28T17:09:42.000Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x4ECA;&amp;#x5929;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;hexo&lt;/code&gt;&amp;#x5199;&amp;#x535A;&amp;#x5BA2;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x53D1;&amp;#x73B0;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;hexo&lt;/code&gt;&amp;#x547D;&amp;#x4EE4;&amp;#x5C45;&amp;#x7136;&amp;#x51FA;&amp;#x73B0;&amp;#x9519;&amp;#x8BEF;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Error: Module version mismatch. Expected 48, got 47.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Error (native)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Object.Module._extensions..node (module.js:568:18)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Module.load (module.js:458:32)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at tryModuleLoad (module.js:417:12)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Function.Module._load (module.js:409:3)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Module.require (module.js:468:17)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at require (internal/module.js:20:19)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Object.&amp;lt;anonymous&amp;gt; (/usr/local/lib/node_modules/hexo/node_modules/dtrace-provider/dtrace-provider.js:17:23)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Module._compile (module.js:541:32)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Object.Module._extensions..js (module.js:550:10)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Module.load (module.js:458:32)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at tryModuleLoad (module.js:417:12)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Function.Module._load (module.js:409:3)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Module.require (module.js:468:17)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at require (internal/module.js:20:19)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Object.&amp;lt;anonymous&amp;gt; (/usr/local/lib/node_modules/hexo/node_modules/bunyan/lib/bunyan.js:79:18)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;{ Error: Cannot find module &amp;apos;./build/default/DTraceProviderBindings&amp;apos;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Function.Module._resolveFilename (module.js:440:15)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Function.Module._load (module.js:388:25)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Module.require (module.js:468:17)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at require (internal/module.js:20:19)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Object.&amp;lt;anonymous&amp;gt; (/usr/local/lib/node_modules/hexo/node_modules/dtrace-provider/dtrace-provider.js:17:23)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Module._compile (module.js:541:32)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Object.Module._extensions..js (module.js:550:10)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Module.load (module.js:458:32)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at tryModuleLoad (module.js:417:12)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Function.Module._load (module.js:409:3)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Module.require (module.js:468:17)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at require (internal/module.js:20:19)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Object.&amp;lt;anonymous&amp;gt; (/usr/local/lib/node_modules/hexo/node_modules/bunyan/lib/bunyan.js:79:18)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Module._compile (module.js:541:32)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Object.Module._extensions..js (module.js:550:10)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Module.load (module.js:458:32) code: &amp;apos;MODULE_NOT_FOUND&amp;apos; }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;{ Error: Cannot find module &amp;apos;./build/Debug/DTraceProviderBindings&amp;apos;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Function.Module._resolveFilename (module.js:440:15)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Function.Module._load (module.js:388:25)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Module.require (module.js:468:17)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at require (internal/module.js:20:19)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Object.&amp;lt;anonymous&amp;gt; (/usr/local/lib/node_modules/hexo/node_modules/dtrace-provider/dtrace-provider.js:17:23)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Module._compile (module.js:541:32)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Object.Module._extensions..js (module.js:550:10)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Module.load (module.js:458:32)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at tryModuleLoad (module.js:417:12)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Function.Module._load (module.js:409:3)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Module.require (module.js:468:17)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at require (internal/module.js:20:19)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Object.&amp;lt;anonymous&amp;gt; (/usr/local/lib/node_modules/hexo/node_modules/bunyan/lib/bunyan.js:79:18)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Module._compile (module.js:541:32)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Object.Module._extensions..js (module.js:550:10)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    at Module.load (module.js:458:32) code: &amp;apos;MODULE_NOT_FOUND&amp;apos; }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x867D;&amp;#x7136;&amp;#x4E5F;&amp;#x80FD;&amp;#x8FD0;&amp;#x884C;&lt;code&gt;hexo&lt;/code&gt;&amp;#xFF0C;&amp;#x4F46;&amp;#x662F;&amp;#x60F3;&amp;#x5230;&amp;#x6BCF;&amp;#x6B21;&amp;#x770B;&amp;#x5230;&amp;#x8FD9;&amp;#x79CD;&amp;#x4E1C;&amp;#x897F;&amp;#x5FC3;&amp;#x91CC;&amp;#x90FD;&amp;#x4E0D;&amp;#x723D;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x575A;&amp;#x51B3;&amp;#x8981;&amp;#x89E3;&amp;#x51B3;&amp;#x5B83;&amp;#x3002;&amp;#x6700;&amp;#x540E;&amp;#x7ECF;&amp;#x8FC7;&amp;#x5404;&amp;#x79CD;&amp;#x67E5;&amp;#x8D44;&amp;#x6599;&amp;#x53D1;&amp;#x73B0;&amp;#x662F;&lt;code&gt;node&lt;/code&gt;&amp;#x7684;&amp;#x7248;&amp;#x672C;&amp;#x95EE;&amp;#x9898;&amp;#xFF0C;&amp;#x7531;&amp;#x4E8E;&amp;#x524D;&amp;#x6BB5;&amp;#x65F6;&amp;#x95F4;&amp;#x641E;&amp;#x4E86;&amp;#x4E0B;&lt;code&gt;React-Native&lt;/code&gt;&amp;#x5347;&amp;#x7EA7;&amp;#x4E86;&lt;code&gt;node&lt;/code&gt;&amp;#x7248;&amp;#x672C;&amp;#xFF0C;&amp;#x4EE5;&amp;#x81F3;&amp;#x4E8E;&amp;#x73B0;&amp;#x5728;&amp;#x7684;&lt;code&gt;node&lt;/code&gt;&amp;#x7248;&amp;#x672C;&amp;#x662F;&amp;#x6700;&amp;#x65B0;&amp;#x7684;&lt;code&gt;6.3.1&lt;/code&gt;&amp;#x3002;&amp;#x7531;&amp;#x4E8E;&amp;#x65B0;&amp;#x7248;&amp;#x672C;&amp;#x4E2D;&amp;#x6709;&amp;#x7684;&amp;#x6A21;&amp;#x5757;&amp;#x4E0D;&amp;#x652F;&amp;#x6301;&amp;#xFF0C;&amp;#x6240;&amp;#x6709;&amp;#x6211;&amp;#x4EEC;&amp;#x8FD8;&amp;#x662F;&amp;#x6309;&amp;#x7167;&amp;#x6D41;&amp;#x884C;&amp;#x7248;&amp;#x5427;&lt;code&gt;(node4-lts)&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x597D;&amp;#x4E86;&amp;#x4E0B;&amp;#x9762;&amp;#x8BF4;&amp;#x4E0B;&amp;#x5177;&amp;#x4F53;&amp;#x89E3;&amp;#x51B3;&amp;#x6B65;&amp;#x9AA4;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6848;&quot;&gt;&lt;a href=&quot;#&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6848;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6848;&quot;&gt;&lt;/a&gt;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6848;&lt;/h2&gt;&lt;p&gt;&amp;#x65E2;&amp;#x7136;&amp;#x77E5;&amp;#x9053;&amp;#x539F;&amp;#x56E0;&amp;#x90A3;&amp;#x5C31;&amp;#x597D;&amp;#x529E;&amp;#x4E86;&amp;#xFF0C;&amp;#x53EA;&amp;#x8981;&amp;#x66F4;&amp;#x6539;&lt;code&gt;node&lt;/code&gt;&amp;#x7684;&amp;#x7248;&amp;#x672C;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x67E5;&amp;#x770B;&amp;#x7248;&amp;#x672C;&quot;&gt;&lt;a href=&quot;#&amp;#x67E5;&amp;#x770B;&amp;#x7248;&amp;#x672C;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x67E5;&amp;#x770B;&amp;#x7248;&amp;#x672C;&quot;&gt;&lt;/a&gt;&amp;#x67E5;&amp;#x770B;&amp;#x7248;&amp;#x672C;&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;brew install homebrew/versions/node&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;&amp;#x5B89;&amp;#x88C5;&amp;#x6307;&amp;#x5B9A;&amp;#x7248;&amp;#x672C;&quot;&gt;&lt;a href=&quot;#&amp;#x5B89;&amp;#x88C5;&amp;#x6307;&amp;#x5B9A;&amp;#x7248;&amp;#x672C;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5B89;&amp;#x88C5;&amp;#x6307;&amp;#x5B9A;&amp;#x7248;&amp;#x672C;&quot;&gt;&lt;/a&gt;&amp;#x5B89;&amp;#x88C5;&amp;#x6307;&amp;#x5B9A;&amp;#x7248;&amp;#x672C;&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;brew install homebrew/versions/node4-lts&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;&amp;#x5B89;&amp;#x88C5;&amp;#x6A21;&amp;#x677F;&quot;&gt;&lt;a href=&quot;#&amp;#x5B89;&amp;#x88C5;&amp;#x6A21;&amp;#x677F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5B89;&amp;#x88C5;&amp;#x6A21;&amp;#x677F;&quot;&gt;&lt;/a&gt;&amp;#x5B89;&amp;#x88C5;&amp;#x6A21;&amp;#x677F;&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;sudo npm install hexo-cli -g&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x8FD0;&amp;#x884C;&amp;#x4E0B;&lt;code&gt;hexo server&lt;/code&gt;&amp;#x53D1;&amp;#x73B0;&amp;#x95EE;&amp;#x9898;&amp;#x89E3;&amp;#x51B3;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&amp;#x679C;&amp;#x7136;&amp;#x65B0;&amp;#x7248;&amp;#x672C;&amp;#x8FD8;&amp;#x662F;&amp;#x4E0D;&amp;#x8981;&amp;#x8F7B;&amp;#x6613;&amp;#x4F7F;&amp;#x7528;&amp;#xFF0C;&amp;#x8001;&amp;#x7248;&amp;#x672C;&amp;#x8FD8;&amp;#x662F;&amp;#x76F8;&amp;#x5BF9;&amp;#x7A33;&amp;#x5B9A;&lt;/em&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x8F6C;&amp;#x8F7D;&amp;#x8BF7;&amp;#x6307;&amp;#x660E;&amp;#x51FA;&amp;#x5904;idisfkj&amp;#x535A;&amp;#x5BA2;&amp;#xFF1A;&lt;a href=&quot;https://idisfkj.github.io&quot;&gt;https://idisfkj.github.io&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x4ECA;&amp;#x5929;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;hexo&lt;/code&gt;&amp;#x5199;&amp;#x535A;&amp;#x5BA2;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x53D1;&amp;#x73B0;&amp;#x4F7F;&amp;#x7528;
    
    </summary>
    
      <category term="hexo" scheme="https://idisfkj.github.io/categories/hexo/"/>
    
    
      <category term="hexo" scheme="https://idisfkj.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>LoopView-循环轮播控件</title>
    <link href="https://idisfkj.github.io/2016/08/09/LoopView-%E5%BE%AA%E7%8E%AF%E8%BD%AE%E6%92%AD%E6%8E%A7%E4%BB%B6/"/>
    <id>https://idisfkj.github.io/2016/08/09/LoopView-循环轮播控件/</id>
    <published>2016-08-09T07:48:35.000Z</published>
    <updated>2016-10-31T12:12:07.000Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x8FD9;&amp;#x6B21;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x5B66;&amp;#x4E60;&amp;#x4E00;&amp;#x4E0B;&amp;#x65E5;&amp;#x5E38;&amp;#x770B;&amp;#x5230;&amp;#x7684;&amp;#x5E7F;&amp;#x544A;&amp;#x8F6E;&amp;#x64AD;&amp;#x5668;&amp;#xFF0C;&amp;#x51E0;&amp;#x4E4E;&amp;#x6BCF;&amp;#x4E2A;&lt;code&gt;App&lt;/code&gt;&amp;#x4E2D;&amp;#x90FD;&amp;#x62E5;&amp;#x6709;&amp;#x8FD9;&amp;#x6837;&amp;#x7684;&amp;#x63A7;&amp;#x4EF6;&amp;#x3002;&amp;#x8FD9;&amp;#x79CD;&amp;#x4F7F;&amp;#x7528;&amp;#x9891;&amp;#x7E41;&amp;#x7684;&amp;#x63A7;&amp;#x4EF6;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5E94;&amp;#x8BE5;&amp;#x61C2;&amp;#x5F97;&amp;#x5B83;&amp;#x4EEC;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x539F;&amp;#x7406;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x5DE5;&amp;#x7A0B;&amp;#x4E2D;&amp;#x5C31;&amp;#x80FD;&amp;#x66F4;&amp;#x52A0;&amp;#x719F;&amp;#x7EC3;&amp;#x4E0E;&amp;#x8F7B;&amp;#x677E;&amp;#x3002;&amp;#x5148;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x6548;&amp;#x679C;&amp;#x5427;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;a href=&quot;#&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/a&gt;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;/2016/08/09/LoopView-&amp;#x5FAA;&amp;#x73AF;&amp;#x8F6E;&amp;#x64AD;&amp;#x63A7;&amp;#x4EF6;/loopView.gif&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x539F;&amp;#x7406;&quot;&gt;&lt;a href=&quot;#&amp;#x539F;&amp;#x7406;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x539F;&amp;#x7406;&quot;&gt;&lt;/a&gt;&amp;#x539F;&amp;#x7406;&lt;/h1&gt;&lt;p&gt;&amp;#x5176;&amp;#x5B9E;&amp;#x8FD9;&amp;#x4E2A;&amp;#x63A7;&amp;#x4EF6;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x672C;&amp;#x8D28;&amp;#x5C31;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;ViewPager&lt;/code&gt;&amp;#xFF0C;&amp;#x76F8;&amp;#x4FE1;&amp;#x5927;&amp;#x5BB6;&amp;#x5BF9;&lt;code&gt;ViewPager&lt;/code&gt;&amp;#x4E0D;&amp;#x4F1A;&amp;#x5F88;&amp;#x964C;&amp;#x751F;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&lt;code&gt;ViewPager&lt;/code&gt;+&lt;code&gt;Fragment&lt;/code&gt;&amp;#x5B9E;&amp;#x73B0;&amp;#x65B0;&amp;#x95FB;&amp;#x7684;&amp;#x754C;&amp;#x9762;&amp;#x3002;&amp;#x9996;&amp;#x5148;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x660E;&amp;#x786E;&amp;#x6211;&amp;#x4EEC;&amp;#x6240;&amp;#x8981;&amp;#x7684;&amp;#x9700;&amp;#x6C42;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&lt;code&gt;ViewPager&lt;/code&gt;&amp;#x6ED1;&amp;#x52A8;&amp;#x5207;&amp;#x6362;&amp;#x753B;&amp;#x9762;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x6700;&amp;#x91CD;&amp;#x8981;&amp;#x7684;&amp;#x662F;&amp;#x5B83;&amp;#x81EA;&amp;#x5DF1;&amp;#x80FD;&amp;#x5FAA;&amp;#x73AF;&amp;#x5207;&amp;#x6362;&amp;#x3002;&amp;#x597D;&amp;#x4E86;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x6211;&amp;#x6765;&amp;#x7B80;&amp;#x8981;&amp;#x7684;&amp;#x89E3;&amp;#x91CA;&amp;#x4E0B;&amp;#x6838;&amp;#x5FC3;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&quot;&gt;&lt;a href=&quot;#&amp;#x521D;&amp;#x59CB;&amp;#x5316;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&quot;&gt;&lt;/a&gt;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&lt;/h2&gt;&lt;p&gt;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E00;&amp;#x4E2A;&amp;#x8F6E;&amp;#x64AD;&amp;#x63A7;&amp;#x4EF6;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x9996;&amp;#x5148;&amp;#x8981;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&lt;code&gt;LoopView&lt;/code&gt;&amp;#x63A7;&amp;#x4EF6;&amp;#xFF0C;&amp;#x8BBE;&amp;#x7F6E;&amp;#x76F8;&amp;#x5173;&amp;#x5E03;&amp;#x5C40;&amp;#x6587;&amp;#x4EF6;&amp;#xFF0C;&amp;#x4E0E;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x4E00;&amp;#x4E9B;&amp;#x6BD4;&amp;#x8F83;&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&amp;#x7ED1;&amp;#x5B9A;&amp;#x63A7;&amp;#x4EF6;&amp;#x3001;&amp;#x8BBE;&amp;#x7F6E;&amp;#x76D1;&amp;#x542C;&amp;#x4E0E;&amp;#x83B7;&amp;#x53D6;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x5C5E;&amp;#x6027;&amp;#x503C;&amp;#x3002;&amp;#x8FD9;&amp;#x91CC;&amp;#x5E03;&amp;#x5C40;&amp;#x6211;&amp;#x5C31;&amp;#x4E0D;&amp;#x591A;&amp;#x8BF4;&amp;#x4E86;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x81EA;&amp;#x884C;&amp;#x67E5;&amp;#x770B;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public void init(Context context) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        LayoutInflater.from(context).inflate(R.layout.loopview_layout, this, true);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        viewPager = (ViewPager) findViewById(R.id.loopView);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        linearCircler = (LinearLayout) findViewById(R.id.linear_circler);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        linearCirclerNo = (LinearLayout) findViewById(R.id.linear_circler_no);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        descript = (TextView) findViewById(R.id.descript);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        viewPager.addOnPageChangeListener(this);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        viewPager.setOnTouchListener(this);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x662F;&amp;#x4E00;&amp;#x4E9B;&amp;#x5FC5;&amp;#x8981;&amp;#x7684;&amp;#x5E03;&amp;#x5C40;&amp;#x586B;&amp;#x5145;&amp;#x4E0E;&amp;#x76D1;&amp;#x542C;&amp;#x7ED1;&amp;#x5B9A;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x6211;&amp;#x8FD9;&amp;#x91CC;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E86;&amp;#x5C5E;&amp;#x6027;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x4E5F;&amp;#x8981;&amp;#x83B7;&amp;#x53D6;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public LoopView(Context context, AttributeSet attrs, int defStyleAttr) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        super(context, attrs, defStyleAttr);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        TypedArray typedArray = getContext().obtainStyledAttributes(attrs, R.styleable.LoopView);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        rate = typedArray.getInteger(R.styleable.LoopView_rate, DEF_RATE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        bottomStyle = typedArray.getInteger(R.styleable.LoopView_bottom_style, DEF_BOTTOM_STYLE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        typedArray.recycle();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        init(context);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5176;&amp;#x4E2D;&lt;code&gt;rate&lt;/code&gt;&amp;#x4EE3;&amp;#x8868;&amp;#x4E0B;&amp;#x9762;&amp;#x4F1A;&amp;#x63D0;&amp;#x5230;&amp;#x7684;&amp;#x8F6E;&amp;#x64AD;&amp;#x7684;&amp;#x901F;&amp;#x5EA6;&amp;#xFF0C;&lt;code&gt;bottomStyle&lt;/code&gt;&amp;#x4EE3;&amp;#x8868;&amp;#x7684;&amp;#x662F;&lt;code&gt;LoopView&lt;/code&gt;&amp;#x7684;&amp;#x6837;&amp;#x5F0F;&amp;#x3002;&amp;#x8FD9;&amp;#x4E9B;&amp;#x5C5E;&amp;#x6027;&amp;#x90FD;&amp;#x662F;&amp;#x5728;&amp;#x5E03;&amp;#x5C40;&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#x8BBE;&amp;#x7F6E;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;addOnPageChangeListener&quot;&gt;&lt;a href=&quot;#addOnPageChangeListener&quot; class=&quot;headerlink&quot; title=&quot;addOnPageChangeListener&quot;&gt;&lt;/a&gt;addOnPageChangeListener&lt;/h2&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x4E2A;&amp;#x662F;&amp;#x76D1;&amp;#x542C;&lt;code&gt;LoopView&lt;/code&gt;&amp;#x4E2D;&lt;code&gt;ViewPager&lt;/code&gt;&amp;#x63A7;&amp;#x4EF6;&amp;#x7684;&lt;code&gt;pager&lt;/code&gt;&amp;#x5207;&amp;#x6362;&amp;#x3002;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&amp;#x5B83;&amp;#x7684;&amp;#x4E09;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&lt;code&gt;onPageScrolled&lt;/code&gt;&amp;#x3001;&lt;code&gt;onPageSelected&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;onPageScrollStateChanged&lt;/code&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x8FD9;&amp;#x91CC;&amp;#x8981;&amp;#x7528;&amp;#x7684;&amp;#x662F;&amp;#x4E2D;&amp;#x95F4;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;onPageSelected&quot;&gt;&lt;a href=&quot;#onPageSelected&quot; class=&quot;headerlink&quot; title=&quot;onPageSelected&quot;&gt;&lt;/a&gt;onPageSelected&lt;/h3&gt;&lt;p&gt;&amp;#x5728;&amp;#x8FD9;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&amp;#x5BF9;&amp;#x754C;&amp;#x9762;&amp;#x4E2D;&amp;#x5706;&amp;#x70B9;&amp;#x9009;&amp;#x4E2D;&amp;#x5207;&amp;#x6362;&amp;#x4E0E;&amp;#x63CF;&amp;#x8FF0;&amp;#x6587;&amp;#x672C;&amp;#x7684;&amp;#x5185;&amp;#x5BB9;&amp;#x7684;&amp;#x53D8;&amp;#x66F4;,&amp;#x4EE3;&amp;#x7801;&amp;#x4E0D;&amp;#x662F;&amp;#x5F88;&amp;#x591A;,&amp;#x76F4;&amp;#x63A5;&amp;#x770B;&amp;#x6E90;&amp;#x7801;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   public void onPageSelected(int position) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       mCurrentPos = position;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       if (bottomStyle == getResources().getInteger(R.integer.loop_have_descript))&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           descript.setText(list.get(position % list.size()).getDescript());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       for (int i = 0; i &amp;lt; linearLayout.getChildCount(); i++) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           if (i == position % list.size())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;               linearLayout.getChildAt(i).setSelected(true);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           else&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;               linearLayout.getChildAt(i).setSelected(false);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;setOnTouchListener&quot;&gt;&lt;a href=&quot;#setOnTouchListener&quot; class=&quot;headerlink&quot; title=&quot;setOnTouchListener&quot;&gt;&lt;/a&gt;setOnTouchListener&lt;/h2&gt;&lt;p&gt;&amp;#x5B9E;&amp;#x73B0;&amp;#x89E6;&amp;#x6478;&amp;#x76D1;&amp;#x542C;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x4E3A;&amp;#x4E86;&amp;#x9632;&amp;#x6B62;&amp;#x5728;&amp;#x6211;&amp;#x4EEC;&amp;#x624B;&amp;#x52A8;&amp;#x5207;&amp;#x6362;&amp;#x65F6;&amp;#xFF0C;&lt;code&gt;LoopView&lt;/code&gt;&amp;#x8FD8;&amp;#x5728;&amp;#x81EA;&amp;#x5DF1;&amp;#x5FAA;&amp;#x73AF;&amp;#x5207;&amp;#x6362;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x5C31;&amp;#x4F7F;&amp;#x5F97;&amp;#x6211;&amp;#x4EEC;&amp;#x624B;&amp;#x52A8;&amp;#x5207;&amp;#x6362;&amp;#x65F6;&amp;#x4E0D;&amp;#x534F;&amp;#x8C03;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x505A;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&amp;#x624B;&amp;#x6307;&amp;#x89E6;&amp;#x6478;&amp;#x5230;&lt;code&gt;LoopView&lt;/code&gt;&amp;#x65F6;&amp;#x505C;&amp;#x6B62;&amp;#x81EA;&amp;#x52A8;&amp;#x5FAA;&amp;#x73AF;&amp;#xFF0C;&amp;#x5373;&lt;code&gt;ACTION_DOWN&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;ACTION_MOVE&lt;/code&gt;&amp;#x3002;&amp;#x5728;&amp;#x624B;&amp;#x6307;&amp;#x79BB;&amp;#x5F00;&amp;#x65F6;&amp;#x5F00;&amp;#x542F;&amp;#x5FAA;&amp;#x73AF;&amp;#xFF0C;&amp;#x5373;&lt;code&gt;ACTION_UP&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   public boolean onTouch(View view, MotionEvent motionEvent) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       switch (motionEvent.getAction()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           case MotionEvent.ACTION_DOWN:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           case MotionEvent.ACTION_MOVE:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;               pauseLoop();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;               break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           case MotionEvent.ACTION_UP:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;               if (mSes.isShutdown())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                   startLoop();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;               break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       return false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x81F3;&amp;#x4E8E;&amp;#x5FAA;&amp;#x73AF;&amp;#x64AD;&amp;#x653E;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x662F;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E00;&amp;#x4E2A;&amp;#x5468;&amp;#x671F;&amp;#x6027;&amp;#x7684;&amp;#x7EBF;&amp;#x7A0B;&amp;#xFF0C;&amp;#x8BA9;&amp;#x5B83;&amp;#x5FAA;&amp;#x73AF;&amp;#x81EA;&amp;#x52A8;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x501F;&amp;#x52A9;&amp;#x7684;&amp;#x662F;&lt;code&gt;ScheduledExecutorService&lt;/code&gt;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x662F;&lt;code&gt;pauseLoop();&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;startLoop()&lt;/code&gt;&amp;#x4EE3;&amp;#x7801;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;protected void startLoop() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mSes = Executors.newSingleThreadScheduledExecutor();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mSes.scheduleAtFixedRate(new AutoRunnable(), rate, rate, TimeUnit.SECONDS);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    protected void pauseLoop() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mSes.shutdown();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x8C03;&amp;#x7528;&amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x63A7;&amp;#x5236;&amp;#x4E0E;&amp;#x5B9E;&amp;#x73B0;&amp;#x5FAA;&amp;#x73AF;&amp;#x8F6E;&amp;#x64AD;&amp;#xFF0C;&amp;#x539F;&amp;#x7406;&amp;#x5C31;&amp;#x4ECB;&amp;#x7ECD;&amp;#x5230;&amp;#x8FD9;&amp;#x91CC;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x6765;&amp;#x8BF4;&amp;#x4E0B;&amp;#x5728;&amp;#x9879;&amp;#x76EE;&amp;#x4E2D;&amp;#x5982;&amp;#x4F55;&amp;#x4F7F;&amp;#x7528;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;&amp;#x4F7F;&amp;#x7528;&quot;&gt;&lt;a href=&quot;#&amp;#x4F7F;&amp;#x7528;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4F7F;&amp;#x7528;&quot;&gt;&lt;/a&gt;&amp;#x4F7F;&amp;#x7528;&lt;/h1&gt;&lt;h2 id=&quot;&amp;#x6DFB;&amp;#x52A0;&amp;#x4F9D;&amp;#x8D56;&quot;&gt;&lt;a href=&quot;#&amp;#x6DFB;&amp;#x52A0;&amp;#x4F9D;&amp;#x8D56;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6DFB;&amp;#x52A0;&amp;#x4F9D;&amp;#x8D56;&quot;&gt;&lt;/a&gt;&amp;#x6DFB;&amp;#x52A0;&amp;#x4F9D;&amp;#x8D56;&lt;/h2&gt;&lt;h3 id=&quot;Maven&quot;&gt;&lt;a href=&quot;#Maven&quot; class=&quot;headerlink&quot; title=&quot;Maven&quot;&gt;&lt;/a&gt;Maven&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;lt;groupId&amp;gt;com.idisfkj.loopview&amp;lt;/groupId&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;lt;artifactId&amp;gt;loopview&amp;lt;/artifactId&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;lt;version&amp;gt;2.0.0&amp;lt;/version&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &amp;lt;type&amp;gt;pom&amp;lt;/type&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Gradle&quot;&gt;&lt;a href=&quot;#Gradle&quot; class=&quot;headerlink&quot; title=&quot;Gradle&quot;&gt;&lt;/a&gt;Gradle&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;compile &amp;apos;com.idisfkj.loopview:loopview:2.0.0&amp;apos;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x6839;&amp;#x636E;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;&amp;#x9700;&amp;#x6C42;&amp;#x6DFB;&amp;#x52A0;&amp;#x4F9D;&amp;#x8D56;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;&amp;#x5E03;&amp;#x5C40;&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#x5F15;&amp;#x7528;&quot;&gt;&lt;a href=&quot;#&amp;#x5E03;&amp;#x5C40;&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#x5F15;&amp;#x7528;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5E03;&amp;#x5C40;&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#x5F15;&amp;#x7528;&quot;&gt;&lt;/a&gt;&amp;#x5E03;&amp;#x5C40;&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#x5F15;&amp;#x7528;&lt;/h2&gt;&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x5728;&amp;#x6839;&amp;#x5E03;&amp;#x5C40;&amp;#x4E2D;&amp;#x52A0;&amp;#x4E0A;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x5C5E;&amp;#x6027;&amp;#x7684;&amp;#x5F15;&amp;#x7528;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;xmlns:loop=&amp;quot;http://schemas.android.com/apk/res-auto&amp;quot;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5F15;&amp;#x7528;&lt;code&gt;LoopView&lt;/code&gt;&amp;#x63A7;&amp;#x4EF6;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;com.idisfkj.loopview.LoopView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:id=&amp;quot;@+id/loop_view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_width=&amp;quot;match_parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            android:layout_height=&amp;quot;200dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            loop:bottom_style=&amp;quot;@integer/loop_have_descript&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            loop:rate=&amp;quot;3&amp;quot;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/com.idisfkj.loopview.LoopView&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;bottom_style&lt;/code&gt;&amp;#x4EE3;&amp;#x8868;&lt;code&gt;LoopView&lt;/code&gt;&amp;#x5E95;&amp;#x90E8;&amp;#x6837;&amp;#x5F0F;&amp;#xFF0C;&amp;#x6709;&amp;#x4E09;&amp;#x4E2A;&amp;#x53EF;&amp;#x9009;&amp;#x503C;,&amp;#x9ED8;&amp;#x8BA4;&amp;#x4E3A;&lt;code&gt;loop_have_descript&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;loop_have_descript &amp;#x4EE3;&amp;#x8868;&amp;#x6709;&amp;#x63CF;&amp;#x8FF0;&amp;#x7684;&amp;#x5E03;&amp;#x5C40;&lt;/li&gt;
&lt;li&gt;loop_no_descript_right &amp;#x4EE3;&amp;#x8868;&amp;#x6CA1;&amp;#x6709;&amp;#x63CF;&amp;#x8FF0;&amp;#x4E14;&amp;#x5706;&amp;#x70B9;&amp;#x5C45;&amp;#x53F3;&amp;#x7684;&amp;#x5E03;&amp;#x5C40;&lt;/li&gt;
&lt;li&gt;loop_no_descript_center &amp;#x4EE3;&amp;#x8868;&amp;#x6CA1;&amp;#x6709;&amp;#x63CF;&amp;#x8FF0;&amp;#x4E14;&amp;#x5706;&amp;#x70B9;&amp;#x5C45;&amp;#x4E2D;&amp;#x7684;&amp;#x5E03;&amp;#x5C40;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;rate&lt;/code&gt;&amp;#x4EE3;&amp;#x8868;&amp;#x8F6E;&amp;#x64AD;&amp;#x7684;&amp;#x901F;&amp;#x5EA6;&amp;#xFF0C;&lt;code&gt;&amp;#x5355;&amp;#x4F4D;&amp;#x4E3A;s&lt;/code&gt;,&amp;#x9ED8;&amp;#x8BA4;&amp;#x4E3A;3s&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x8BBE;&amp;#x7F6E;&amp;#x9ED8;&amp;#x8BA4;&amp;#x56FE;&amp;#x7247;&quot;&gt;&lt;a href=&quot;#&amp;#x8BBE;&amp;#x7F6E;&amp;#x9ED8;&amp;#x8BA4;&amp;#x56FE;&amp;#x7247;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x8BBE;&amp;#x7F6E;&amp;#x9ED8;&amp;#x8BA4;&amp;#x56FE;&amp;#x7247;&quot;&gt;&lt;/a&gt;&amp;#x8BBE;&amp;#x7F6E;&amp;#x9ED8;&amp;#x8BA4;&amp;#x56FE;&amp;#x7247;&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;loopView.setDefaultImageView(xxx);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;loopView.setErrorImageView(xxx);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;&amp;#x586B;&amp;#x5145;&amp;#x6570;&amp;#x636E;&quot;&gt;&lt;a href=&quot;#&amp;#x586B;&amp;#x5145;&amp;#x6570;&amp;#x636E;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x586B;&amp;#x5145;&amp;#x6570;&amp;#x636E;&quot;&gt;&lt;/a&gt;&amp;#x586B;&amp;#x5145;&amp;#x6570;&amp;#x636E;&lt;/h2&gt;&lt;p&gt;&amp;#x586B;&amp;#x5145;&amp;#x6570;&amp;#x636E;&amp;#x9700;&amp;#x8981;&amp;#x501F;&amp;#x52A9;&lt;code&gt;LoopViewEntity&lt;/code&gt;&amp;#x5B9E;&amp;#x4F53;&amp;#x7C7B;&amp;#x6765;&amp;#x5B58;&amp;#x50A8;,&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;for (int i = 0; i &amp;lt; urls.length; i++) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            LoopViewEntity entity = new LoopViewEntity();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            entity.setImageUrl(urls[i]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            entity.setDescript(descripts[i]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            list.add(entity);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;loopView.setLoopData(list);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;item&amp;#x70B9;&amp;#x51FB;&amp;#x76D1;&amp;#x542C;&quot;&gt;&lt;a href=&quot;#item&amp;#x70B9;&amp;#x51FB;&amp;#x76D1;&amp;#x542C;&quot; class=&quot;headerlink&quot; title=&quot;item&amp;#x70B9;&amp;#x51FB;&amp;#x76D1;&amp;#x542C;&quot;&gt;&lt;/a&gt;item&amp;#x70B9;&amp;#x51FB;&amp;#x76D1;&amp;#x542C;&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;loopView.setOnItemClickListener(new LoopView.OnItemClickListener() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            public void onItemClick(int position) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                //to do ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        });&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x6B22;&amp;#x8FCE;Star&amp;#x4E0E;Fork&amp;#xFF0C;&amp;#x5982;&amp;#x6709;&amp;#x9700;&amp;#x8981;&amp;#x540E;&amp;#x7EED;&amp;#x6211;&amp;#x4F1A;&amp;#x7EE7;&amp;#x7EED;&amp;#x4F18;&amp;#x5316;&amp;#xFF0C;&amp;#x6216;&amp;#x8005;&amp;#x52A0;&amp;#x5165;&amp;#x4E0E;&amp;#x6211;&amp;#x4E00;&amp;#x8D77;&amp;#x6765;&amp;#x4F18;&amp;#x5316;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x9879;&amp;#x76EE;&amp;#x5730;&amp;#x5740;&amp;#xFF1A;&lt;a href=&quot;https://github.com/idisfkj/AndroidLoopView&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/idisfkj/AndroidLoopView&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x8F6C;&amp;#x8F7D;&amp;#x8BF7;&amp;#x6307;&amp;#x660E;&amp;#x51FA;&amp;#x5904; idisfkj&amp;#x535A;&amp;#x5BA2;&amp;#xFF1A;&lt;a href=&quot;https://idisfkj.github.io&quot;&gt;https://idisfkj.github.io&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x8FD9;&amp;#x6B21;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x5B66;&amp;#x4E60;&amp;#x4E00;&amp;#x4E0B;&amp;#x65E5;&amp;#x5E38;&amp;#x770B;&amp;#x5230;&amp;#x7684;&amp;#x5E7F;&amp;#x544A;&amp;#x8F6E;&amp;
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="ViewPager" scheme="https://idisfkj.github.io/tags/ViewPager/"/>
    
  </entry>
  
  <entry>
    <title>RecyclerView下拉刷新与上拉更多</title>
    <link href="https://idisfkj.github.io/2016/08/03/RecyclerView%E4%B8%8B%E6%8B%89%E5%88%B7%E6%96%B0%E4%B8%8E%E4%B8%8A%E6%8B%89%E6%9B%B4%E5%A4%9A/"/>
    <id>https://idisfkj.github.io/2016/08/03/RecyclerView下拉刷新与上拉更多/</id>
    <published>2016-08-03T02:59:30.000Z</published>
    <updated>2016-08-03T09:49:33.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h1&gt;&lt;p&gt;&amp;#x5728;&amp;#x539F;&amp;#x6765;&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&amp;#x4E2D;&amp;#x6211;&amp;#x63D0;&amp;#x53CA;&amp;#x4E86;&amp;#x5982;&amp;#x4F55;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;RecyclerView&lt;/code&gt;&amp;#x6DFB;&amp;#x52A0;&lt;code&gt;header&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;footer&lt;/code&gt;&amp;#xFF0C;&amp;#x4ECA;&amp;#x5929;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x66F4;&amp;#x6DF1;&amp;#x5165;&amp;#x7684;&amp;#x6269;&amp;#x5C55;&amp;#x4E00;&amp;#x4E0B;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;RecyclerView&lt;/code&gt;&amp;#x5B9E;&amp;#x73B0;&amp;#x5E38;&amp;#x7528;&amp;#x7684;&amp;#x4E0B;&amp;#x62C9;&amp;#x5237;&amp;#x65B0;&amp;#x4E0E;&amp;#x4E0A;&amp;#x62C9;&amp;#x52A0;&amp;#x8F7D;&amp;#x66F4;&amp;#x591A;&amp;#x7684;&amp;#x529F;&amp;#x80FD;&amp;#x3002;&amp;#x5F53;&amp;#x7136;&amp;#x8FD9;&amp;#x4E9B;&amp;#x529F;&amp;#x80FD;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E5F;&amp;#x662F;&amp;#x57FA;&amp;#x4E8E;&amp;#x524D;&amp;#x9762;&amp;#x7684;&lt;a href=&quot;https://idisfkj.github.io/2016/07/05/RecyclerView%E6%B7%BB%E5%8A%A0header%E4%B8%8Efooter/&quot;&gt;RecyclerView&amp;#x6DFB;&amp;#x52A0;header&amp;#x4E0E;footer&lt;/a&gt;&amp;#x4E3A;&amp;#x57FA;&amp;#x7840;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x7684;&amp;#xFF0C;&amp;#x4E0D;&amp;#x662F;&amp;#x5F88;&amp;#x4E86;&amp;#x89E3;&amp;#x7684;&amp;#x53EF;&amp;#x4EE5;&amp;#x5148;&amp;#x770B;&amp;#x770B;&amp;#x524D;&amp;#x9762;&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&amp;#x53EF;&amp;#x80FD;&amp;#x80FD;&amp;#x66F4;&amp;#x597D;&amp;#x7684;&amp;#x5E2E;&amp;#x52A9;&amp;#x7406;&amp;#x89E3;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x4F9D;&amp;#x8D56;&quot;&gt;&lt;a href=&quot;#&amp;#x4F9D;&amp;#x8D56;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4F9D;&amp;#x8D56;&quot;&gt;&lt;/a&gt;&amp;#x4F9D;&amp;#x8D56;&lt;/h2&gt;&lt;p&gt;&amp;#x4E3A;&amp;#x4E86;&amp;#x65B9;&amp;#x6CD5;&amp;#x5927;&amp;#x5BB6;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x6211;&amp;#x5DF2;&amp;#x7ECF;&amp;#x628A;&amp;#x4ED6;&amp;#x4E0A;&amp;#x4F20;&amp;#x5230;&lt;code&gt;Jcenter&lt;/code&gt;&amp;#x4E2D;&amp;#x4E86;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5927;&amp;#x5BB6;&amp;#x53EF;&amp;#x4EE5;&amp;#x8C03;&amp;#x7528;&amp;#x4E0B;&amp;#x9762;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x4E86;&amp;#x76F4;&amp;#x63A5;&amp;#x83B7;&amp;#x53D6;&amp;#x4F7F;&amp;#x7528;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;compile &amp;apos;com.idisfkj.enchancerecyclerview:mylibrary:1.1.1&amp;apos;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;EnhanceRecyclerView&quot;&gt;&lt;a href=&quot;#EnhanceRecyclerView&quot; class=&quot;headerlink&quot; title=&quot;EnhanceRecyclerView&quot;&gt;&lt;/a&gt;EnhanceRecyclerView&lt;/h2&gt;&lt;p&gt;&amp;#x6211;&amp;#x5C06;&amp;#x8FD9;&amp;#x4E2A;&amp;#x6269;&amp;#x5C55;&amp;#x7684;&lt;code&gt;RecyclerView&lt;/code&gt;&amp;#x547D;&amp;#x540D;&amp;#x4E3A;&lt;code&gt;EnhanceRecyclerView&lt;/code&gt;&amp;#xFF0C;&amp;#x7EE7;&amp;#x627F;&lt;code&gt;RecyclerView&lt;/code&gt;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x77E5;&amp;#x9053;&amp;#x65E2;&amp;#x7136;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E0B;&amp;#x62C9;&amp;#x5237;&amp;#x65B0;&amp;#x4E0E;&amp;#x4E0A;&amp;#x62C9;&amp;#x66F4;&amp;#x591A;&amp;#x81EA;&amp;#x7136;&amp;#x5148;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&amp;#x5934;&amp;#x90E8;&amp;#x4E0E;&amp;#x5C3E;&amp;#x90E8;&amp;#x7684;&amp;#x5E03;&amp;#x5C40;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x5148;&amp;#x5229;&amp;#x7528;&amp;#x524D;&amp;#x9762;&amp;#x7684;&amp;#x77E5;&amp;#x8BC6;&amp;#x6765;&amp;#x4E3A;&lt;code&gt;EnhanceRecycleView&lt;/code&gt;&amp;#x6DFB;&amp;#x52A0;&lt;code&gt;header&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;footer&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public void initView() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        View headerView = LayoutInflater.from(getContext()).inflate(R.layout.head_layout, null);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        View footerView = LayoutInflater.from(getContext()).inflate(R.layout.footer_layout, null);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        addHeaderView(headerView);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        addFooterView(footerView);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&amp;#x5E03;&amp;#x5C40;&amp;#x6587;&amp;#x4EF6;&amp;#x5C31;&amp;#x4E0D;&amp;#x591A;&amp;#x8BF4;&amp;#x4E86;&amp;#xFF0C;&amp;#x81F3;&amp;#x4E8E;addHeaderView&amp;#x4E0E;addFooterView&amp;#x65B9;&amp;#x6CD5;&amp;#x53EF;&amp;#x4EE5;&amp;#x67E5;&amp;#x770B;&amp;#x6211;&amp;#x524D;&amp;#x9762;&amp;#x7684;&amp;#x90A3;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#xFF0C;&amp;#x6709;&amp;#x8BE6;&amp;#x7EC6;&amp;#x7684;&amp;#x4ECB;&amp;#x7ECD;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;&amp;#x8BBE;&amp;#x7F6E;&amp;#x76D1;&amp;#x542C;&amp;#x5668;&quot;&gt;&lt;a href=&quot;#&amp;#x8BBE;&amp;#x7F6E;&amp;#x76D1;&amp;#x542C;&amp;#x5668;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x8BBE;&amp;#x7F6E;&amp;#x76D1;&amp;#x542C;&amp;#x5668;&quot;&gt;&lt;/a&gt;&amp;#x8BBE;&amp;#x7F6E;&amp;#x76D1;&amp;#x542C;&amp;#x5668;&lt;/h2&gt;&lt;p&gt;&amp;#x65E2;&amp;#x7136;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E0B;&amp;#x62C9;&amp;#x5237;&amp;#x65B0;&amp;#x4E0E;&amp;#x4E0A;&amp;#x62C9;&amp;#x52A0;&amp;#x8F7D;&amp;#xFF0C;&amp;#x81EA;&amp;#x7136;&amp;#x5C11;&amp;#x4E0D;&amp;#x4E86;&amp;#x5BF9;&amp;#x76D1;&amp;#x542C;&amp;#x5668;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x4E0B;&amp;#x9762;&amp;#x6765;&amp;#x8BE6;&amp;#x7EC6;&amp;#x4ECB;&amp;#x7ECD;&amp;#x4E0B;&amp;#x5BF9;&amp;#x76D1;&amp;#x542C;&amp;#x5668;&lt;code&gt;OnScrollListener&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;OnTouchListener&lt;/code&gt;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;OnScrollListener&quot;&gt;&lt;a href=&quot;#OnScrollListener&quot; class=&quot;headerlink&quot; title=&quot;OnScrollListener&quot;&gt;&lt;/a&gt;OnScrollListener&lt;/h2&gt;&lt;p&gt;&amp;#x4E3A;&lt;code&gt;EnhanceRecyclerView&lt;/code&gt;&amp;#x6DFB;&amp;#x52A0;&lt;code&gt;addOnScrollListener&lt;/code&gt;&amp;#x5B9E;&amp;#x73B0;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;onScrollStateChanged&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;onScrolled&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;onScrolled&quot;&gt;&lt;a href=&quot;#onScrolled&quot; class=&quot;headerlink&quot; title=&quot;onScrolled&quot;&gt;&lt;/a&gt;onScrolled&lt;/h3&gt;&lt;p&gt;&amp;#x5728;&lt;code&gt;onScrolled&lt;/code&gt;&amp;#x4E2D;&amp;#x6211;&amp;#x4EEC;&amp;#x4E3B;&amp;#x8981;&amp;#x505A;&amp;#x7684;&amp;#x662F;&amp;#x83B7;&amp;#x53D6;&lt;code&gt;EnhanceRcyclerView&lt;/code&gt;&amp;#x4E2D;&lt;code&gt;item&lt;/code&gt;&amp;#x7684;&amp;#x603B;&amp;#x6570;&amp;#x91CF;&amp;#x3001;&amp;#x89C6;&amp;#x56FE;&amp;#x663E;&amp;#x793A;&amp;#x4E2D;&amp;#x7684;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;item&lt;/code&gt;&amp;#x5728;&lt;code&gt;EnhanceRecyclerView&lt;/code&gt;&amp;#x4E2D;&amp;#x6240;&amp;#x5904;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#x4E0E;&amp;#x89C6;&amp;#x56FE;&amp;#x663E;&amp;#x793A;&amp;#x4E2D;&amp;#x6700;&amp;#x540E;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;item&lt;/code&gt;&amp;#x5728;&lt;code&gt;EnhanceRecyclerView&lt;/code&gt;&amp;#x4E2D;&amp;#x6240;&amp;#x5904;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&lt;code&gt;item&lt;/code&gt;&amp;#x7684;&amp;#x603B;&amp;#x6570;&amp;#x91CF;&amp;#x5F88;&amp;#x597D;&amp;#x83B7;&amp;#x53D6;&amp;#x76F4;&amp;#x63A5;&amp;#x8C03;&amp;#x7528;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;totalCount = getLayoutManager().getItemCount();&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x7531;&amp;#x4E8E;&lt;code&gt;RecyclerView&lt;/code&gt;&amp;#x80FD;&amp;#x5B9E;&amp;#x73B0;&lt;code&gt;LinearLayoutManager&lt;/code&gt;&amp;#x3001;&lt;code&gt;GridLayoutManager&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;StaggeredGridLayoutManager&lt;/code&gt;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x5E03;&amp;#x5C40;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x53E6;&amp;#x5916;&amp;#x4E24;&amp;#x4E2A;&amp;#x8981;&amp;#x6839;&amp;#x636E;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&lt;code&gt;manager&lt;/code&gt;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;,&amp;#x8FD8;&amp;#x662F;&amp;#x770B;&amp;#x5177;&amp;#x4F53;&amp;#x4EE3;&amp;#x7801;&amp;#x5427;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;if (getLayoutManager() instanceof LinearLayoutManager) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    lastItem = ((LinearLayoutManager) getLayoutManager()).findLastVisibleItemPosition();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    firstVisible = ((LinearLayoutManager) getLayoutManager()).findFirstVisibleItemPosition();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    into = ((StaggeredGridLayoutManager) getLayoutManager()).findLastVisibleItemPositions(into);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    firstInto = ((StaggeredGridLayoutManager) getLayoutManager()).findFirstVisibleItemPositions(firstInto);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    lastItem = into[0];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    firstVisible = firstInto[0];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;onScrollStateChanged&quot;&gt;&lt;a href=&quot;#onScrollStateChanged&quot; class=&quot;headerlink&quot; title=&quot;onScrollStateChanged&quot;&gt;&lt;/a&gt;onScrollStateChanged&lt;/h3&gt;&lt;p&gt;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x4E86;&amp;#x90A3;&amp;#x4E09;&amp;#x4E2A;&amp;#x5173;&amp;#x952E;&amp;#x6570;&amp;#x636E;&amp;#x4EE5;&amp;#x540E;&amp;#xFF0C;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&lt;code&gt;onScrollStateChanged&lt;/code&gt;&amp;#x4E2D;&amp;#x5B9E;&amp;#x73B0;&amp;#x5177;&amp;#x4F53;&amp;#x7684;&amp;#x903B;&amp;#x8F91;&amp;#xFF0C;&amp;#x5728;&amp;#x8FD9;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x4E3B;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&amp;#x7684;&amp;#x662F;&amp;#x5BF9;&amp;#x4E0A;&amp;#x62C9;&amp;#x52A0;&amp;#x8F7D;&amp;#x66F4;&amp;#x591A;&amp;#x7684;&amp;#x5904;&amp;#x7406;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;if (lastItem == adapter.getItemCount() + 1 &amp;amp;&amp;amp; newState == RecyclerView.SCROLL_STATE_IDLE &amp;amp;&amp;amp; !isLoad) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    ViewGroup.LayoutParams params = getFooterView(0).getLayoutParams();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    params.width = RecyclerView.LayoutParams.MATCH_PARENT;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    params.height = RecyclerView.LayoutParams.WRAP_CONTENT;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    getFooterView(0).setLayoutParams(params);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    getFooterView(0).setVisibility(View.VISIBLE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    smoothScrollToPosition(totalCount);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    isLoad = true;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    loadMoreListener.onLoadMore();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (firstVisible == 0) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    isTop = true;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    isTop = false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    RecyclerView.LayoutParams params = (RecyclerView.LayoutParams) getHeaderView(0).getLayoutParams();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    params.width = RecyclerView.LayoutParams.MATCH_PARENT;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    params.height = RecyclerView.LayoutParams.WRAP_CONTENT;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    params.setMargins(0, -getHeaderView(0).getHeight(), 0, 0);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    getHeaderView(0).setLayoutParams(params);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x7B80;&amp;#x5355;&amp;#x8BF4;&amp;#x660E;&amp;#x4E0B;&amp;#xFF0C;&amp;#x6838;&amp;#x5FC3;&amp;#x5C31;&amp;#x662F;&amp;#x5224;&amp;#x65AD;&lt;code&gt;lastItem&lt;/code&gt;&amp;#x662F;&amp;#x5426;&amp;#x5904;&amp;#x5728;&amp;#x6700;&amp;#x540E;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x662F;&amp;#x7684;&amp;#x8BDD;&amp;#x5C31;&amp;#x7EE7;&amp;#x7EED;&amp;#x52A0;&amp;#x8F7D;&amp;#x66F4;&amp;#x591A;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&amp;#x5BF9;&amp;#x6570;&amp;#x636E;&amp;#x5904;&amp;#x7406;&amp;#x7684;&amp;#x63A5;&amp;#x53E3;&amp;#x6240;&amp;#x4EE5;&amp;#x53EA;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&lt;code&gt;loadMoreListener.onLoadMore();&lt;/code&gt;&amp;#x5373;&amp;#x53EF;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x4E0A;&amp;#x62C9;&amp;#x52A0;&amp;#x8F7D;&amp;#x66F4;&amp;#x591A;&amp;#x6838;&amp;#x5FC3;&amp;#x5C31;&amp;#x662F;&amp;#x8FD9;&amp;#x4E48;&amp;#x591A;&amp;#xFF0C;&amp;#x5176;&amp;#x5B83;&amp;#x7684;&amp;#x53EF;&amp;#x4EE5;&amp;#x67E5;&amp;#x770B;&amp;#x6E90;&amp;#x7801;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;OnTouchListener&quot;&gt;&lt;a href=&quot;#OnTouchListener&quot; class=&quot;headerlink&quot; title=&quot;OnTouchListener&quot;&gt;&lt;/a&gt;OnTouchListener&lt;/h2&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x4E2A;&amp;#x76D1;&amp;#x542C;&amp;#x5668;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x5BF9;&amp;#x4E0B;&amp;#x62C9;&amp;#x5237;&amp;#x65B0;&amp;#x8FDB;&amp;#x884C;&amp;#x5904;&amp;#x7406;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x5206;&amp;#x522B;&amp;#x5BF9;&amp;#x5176;&amp;#x4E2D;&amp;#x6211;&amp;#x4EEC;&amp;#x6240;&amp;#x719F;&amp;#x6089;&amp;#x7684;&lt;code&gt;MotionEvent.ACTION_DOWN&lt;/code&gt;&amp;#x3001;&lt;code&gt;MotionEvent.ACTION_MOVE&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;MotionEvent.ACTION_UP&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x5904;&amp;#x7406;&amp;#x3002;&lt;code&gt;ACTION_DOWN&lt;/code&gt;&amp;#x5C31;&amp;#x662F;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x83B7;&amp;#x53D6;&amp;#x6309;&amp;#x4E0B;&amp;#x7684;&amp;#x5750;&amp;#x6807;&amp;#x4F4D;&amp;#x7F6E;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x4E0D;&amp;#x591A;&amp;#x8BF4;&amp;#x4E86;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x4E3B;&amp;#x8981;&amp;#x7684;&amp;#x9488;&amp;#x5BF9;&amp;#x53E6;&amp;#x5916;&amp;#x7684;&amp;#x4E24;&amp;#x4E2A;&amp;#x8FDB;&amp;#x884C;&amp;#x7B80;&amp;#x5355;&amp;#x8BF4;&amp;#x660E;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;ACTION-MOVE&quot;&gt;&lt;a href=&quot;#ACTION-MOVE&quot; class=&quot;headerlink&quot; title=&quot;ACTION_MOVE&quot;&gt;&lt;/a&gt;ACTION_MOVE&lt;/h3&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x505A;&amp;#x7684;&amp;#x903B;&amp;#x8F91;&amp;#x5C31;&amp;#x662F;&amp;#x5BF9;&amp;#x89E6;&amp;#x6478;&amp;#x540E;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x6839;&amp;#x636E;&amp;#x6ED1;&amp;#x52A8;&amp;#x7684;&amp;#x8DDD;&amp;#x79BB;&amp;#x6765;&amp;#x52A8;&amp;#x6001;&amp;#x7684;&amp;#x6539;&amp;#x53D8;&lt;code&gt;header&lt;/code&gt;&amp;#x7684;&amp;#x6587;&amp;#x672C;&amp;#x4E0E;&amp;#x5E03;&amp;#x5C40;&amp;#x89C6;&amp;#x56FE;&amp;#x7684;&amp;#x663E;&amp;#x793A;&amp;#x3002;    &lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public void touchMove(MotionEvent event) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        endY = event.getY();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        moveY = endY - startY;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x9632;&amp;#x6B62;item&amp;#x5411;&amp;#x4E0A;&amp;#x6ED1;&amp;#x51FA;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (moveY &amp;gt; 0 &amp;amp;&amp;amp; !isRefreshing) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            //&amp;#x9632;&amp;#x6B62;&amp;#x56DE;&amp;#x9000;&amp;#x6587;&amp;#x672C;&amp;#x663E;&amp;#x793A;&amp;#x5F02;&amp;#x5E38;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            scrollToPosition(0);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (getHeaderView(0).getVisibility() == GONE)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                getHeaderView(0).setVisibility(VISIBLE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            RecyclerView.LayoutParams params = (RecyclerView.LayoutParams) getHeaderView(0).getLayoutParams();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            params.width = RecyclerView.LayoutParams.MATCH_PARENT;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            params.height = RecyclerView.LayoutParams.WRAP_CONTENT;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            //&amp;#x4F7F;header&amp;#x968F;moveY&amp;#x7684;&amp;#x503C;&amp;#x4ECE;&amp;#x9876;&amp;#x90E8;&amp;#x6E10;&amp;#x6E10;&amp;#x51FA;&amp;#x73B0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (moveY &amp;gt;= 400) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                moveY = 100 + moveY / 4;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                moveY = moveY / 2;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            viewHeight = getHeaderView(0).getHeight();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (viewHeight &amp;lt;= 0)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                viewHeight = 130;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            moveY = moveY - viewHeight;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            params.setMargins(0, (int) moveY, 0, 0);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            getHeaderView(0).setLayoutParams(params);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (moveY &amp;gt; 80) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                text.setText(getResources().getString(R.string.release_to_refresh));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                text.setText(getResources().getString(R.string.pull_to_refresh));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (getHeaderView(0).getVisibility() != GONE &amp;amp;&amp;amp; !isRefreshing) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                getHeaderView(0).setVisibility(GONE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x81F3;&amp;#x4E8E;&amp;#x4E0B;&amp;#x62C9;&amp;#x65F6;&amp;#x4E0E;&amp;#x9876;&amp;#x90E8;&amp;#x7684;&amp;#x8DDD;&amp;#x79BB;&amp;#x53D8;&amp;#x5316;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&amp;#x8BBE;&amp;#x7F6E;&lt;code&gt;margin&lt;/code&gt;&amp;#x6765;&amp;#x52A8;&amp;#x6001;&amp;#x6539;&amp;#x53D8;&amp;#x7684;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;ACTION-UP&quot;&gt;&lt;a href=&quot;#ACTION-UP&quot; class=&quot;headerlink&quot; title=&quot;ACTION_UP&quot;&gt;&lt;/a&gt;ACTION_UP&lt;/h3&gt;&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x7684;&amp;#x89E6;&amp;#x6478;&amp;#x5904;&amp;#x7406;&amp;#x5C31;&amp;#x662F;&amp;#x5728;&amp;#x79BB;&amp;#x5F00;&amp;#x5C4F;&amp;#x5E55;&amp;#x65F6;&amp;#x6839;&amp;#x636E;&amp;#x6ED1;&amp;#x52A8;&amp;#x7684;&amp;#x8DDD;&amp;#x79BB;&amp;#xFF0C;&amp;#x662F;&amp;#x5426;&amp;#x8C03;&amp;#x7528;&amp;#x52A0;&amp;#x8F7D;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x6216;&amp;#x8005;&amp;#x9690;&amp;#x85CF;&amp;#x4E0B;&amp;#x62C9;&amp;#x5237;&amp;#x65B0;&amp;#x5934;&amp;#x90E8;&amp;#xFF0C;&amp;#x5177;&amp;#x4F53;&amp;#x8FD8;&amp;#x662F;&amp;#x770B;&amp;#x4EE3;&amp;#x7801;&amp;#x5427;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public void touchUp() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (!isRefreshing &amp;amp;&amp;amp; (endY -startY) != 0 ) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            RecyclerView.LayoutParams params1 = (RecyclerView.LayoutParams) getHeaderView(0).getLayoutParams();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            params1.width = RecyclerView.LayoutParams.MATCH_PARENT;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            params1.height = RecyclerView.LayoutParams.WRAP_CONTENT;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (moveY &amp;gt;= 80) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                text.setText(getResources().getString(R.string.refreshing));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                params1.setMargins(0, 0, 0, 0);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                isRefreshing = true;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                //&amp;#x5237;&amp;#x65B0;&amp;#x6570;&amp;#x636E;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                pullToRefresh.onRefreshing();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (viewHeight &amp;lt;= 0)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    viewHeight = 130;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                params1.setMargins(0, -viewHeight, 0, 0);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                getHeaderView(0).setVisibility(GONE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            getHeaderView(0).setLayoutParams(params1);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x4EE3;&amp;#x7801;&amp;#x4E2D;&amp;#x91CD;&amp;#x8981;&amp;#x7684;&amp;#x5730;&amp;#x65B9;&amp;#x90FD;&amp;#x6709;&amp;#x6307;&amp;#x51FA;&amp;#x76F8;&amp;#x4FE1;&amp;#x90FD;&amp;#x80FD;&amp;#x770B;&amp;#x61C2;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x4E0B;&amp;#x62C9;&amp;#x4E0E;&amp;#x4E0A;&amp;#x62C9;&amp;#x7684;&amp;#x903B;&amp;#x8F91;&amp;#x5C31;&amp;#x57FA;&amp;#x672C;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x6765;&amp;#x770B;&amp;#x63A5;&amp;#x53E3;&amp;#x7684;&amp;#x8BBE;&amp;#x8BA1;&amp;#x5427;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;&amp;#x4E0B;&amp;#x62C9;&amp;#x4E0E;&amp;#x4E0A;&amp;#x62C9;&amp;#x63A5;&amp;#x53E3;&quot;&gt;&lt;a href=&quot;#&amp;#x4E0B;&amp;#x62C9;&amp;#x4E0E;&amp;#x4E0A;&amp;#x62C9;&amp;#x63A5;&amp;#x53E3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4E0B;&amp;#x62C9;&amp;#x4E0E;&amp;#x4E0A;&amp;#x62C9;&amp;#x63A5;&amp;#x53E3;&quot;&gt;&lt;/a&gt;&amp;#x4E0B;&amp;#x62C9;&amp;#x4E0E;&amp;#x4E0A;&amp;#x62C9;&amp;#x63A5;&amp;#x53E3;&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public interface PullToRefreshListener {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        void onRefreshing();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public void setPullToRefreshListener(PullToRefreshListener pullToRefresh) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (loadMoreListener == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            initListener();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        this.pullToRefresh = pullToRefresh;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public interface LoadMoreListener {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        void onLoadMore();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public void setLoadMoreListener(LoadMoreListener loadMoreListener) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (pullToRefresh == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            initListener();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        this.loadMoreListener = loadMoreListener;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&amp;#x8FD0;&amp;#x7528;&amp;#x662F;&amp;#x6DFB;&amp;#x52A0;&amp;#x63A5;&amp;#x53E3;&amp;#x76D1;&amp;#x542C;&amp;#x65F6;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x524D;&amp;#x9762;&amp;#x4E3A;&lt;code&gt;EnhanceRecyclerView&lt;/code&gt;&amp;#x6240;&amp;#x8BBE;&amp;#x7F6E;&amp;#x7684;&amp;#x76D1;&amp;#x542C;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x72B6;&amp;#x6001;&amp;#x91CD;&amp;#x7F6E;&amp;#x8BBE;&amp;#x7F6E;&quot;&gt;&lt;a href=&quot;#&amp;#x72B6;&amp;#x6001;&amp;#x91CD;&amp;#x7F6E;&amp;#x8BBE;&amp;#x7F6E;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x72B6;&amp;#x6001;&amp;#x91CD;&amp;#x7F6E;&amp;#x8BBE;&amp;#x7F6E;&quot;&gt;&lt;/a&gt;&amp;#x72B6;&amp;#x6001;&amp;#x91CD;&amp;#x7F6E;&amp;#x8BBE;&amp;#x7F6E;&lt;/h2&gt;&lt;p&gt;&amp;#x5728;&amp;#x8C03;&amp;#x7528;&amp;#x4E0B;&amp;#x62C9;&amp;#x5237;&amp;#x65B0;&amp;#x6216;&amp;#x8005;&amp;#x4E0A;&amp;#x62C9;&amp;#x52A0;&amp;#x8F7D;&amp;#x66F4;&amp;#x591A;&amp;#x4E4B;&amp;#x540E;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x4E3A;&amp;#x5176;&amp;#x6784;&amp;#x9020;&amp;#x901A;&amp;#x7528;&amp;#x65B9;&amp;#x6CD5;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x72B6;&amp;#x6001;&amp;#x7684;&amp;#x91CD;&amp;#x7F6E;&amp;#x4E0E;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x66F4;&amp;#x65B0;&amp;#xFF0C;&amp;#x65B9;&amp;#x4FBF;&amp;#x7EDF;&amp;#x4E00;&amp;#x8C03;&amp;#x7528;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public void setLoadMoreComplete() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       RecyclerView.LayoutParams params = (LayoutParams) getFooterView(0).getLayoutParams();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       params.width = 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       params.height = 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       getFooterView(0).setLayoutParams(params);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       getFooterView(0).setVisibility(View.GONE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       this.getAdapter().notifyDataSetChanged();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       isLoad = false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   public void setRefreshComplete() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       RecyclerView.LayoutParams params1 = (RecyclerView.LayoutParams) getHeaderView(0).getLayoutParams();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       params1.width = RecyclerView.LayoutParams.MATCH_PARENT;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       params1.height = RecyclerView.LayoutParams.WRAP_CONTENT;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       params1.setMargins(0, -getHeaderView(0).getHeight(), 0, 0);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       getHeaderView(0).setLayoutParams(params1);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       getHeaderView(0).setVisibility(GONE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       this.getAdapter().notifyDataSetChanged();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       isRefreshing = false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x6240;&amp;#x7528;&amp;#x5DE5;&amp;#x4F5C;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5B8C;&amp;#x6210;&amp;#x4E0B;&amp;#x9762;&amp;#x6765;&amp;#x505A;&amp;#x4E2A;&amp;#x8C03;&amp;#x7528;&amp;#x793A;&amp;#x8303;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;&amp;#x4F7F;&amp;#x7528;&quot;&gt;&lt;a href=&quot;#&amp;#x4F7F;&amp;#x7528;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4F7F;&amp;#x7528;&quot;&gt;&lt;/a&gt;&amp;#x4F7F;&amp;#x7528;&lt;/h2&gt;&lt;h3 id=&quot;xml&amp;#x4E2D;&amp;#x5F15;&amp;#x7528;&quot;&gt;&lt;a href=&quot;#xml&amp;#x4E2D;&amp;#x5F15;&amp;#x7528;&quot; class=&quot;headerlink&quot; title=&quot;xml&amp;#x4E2D;&amp;#x5F15;&amp;#x7528;&quot;&gt;&lt;/a&gt;xml&amp;#x4E2D;&amp;#x5F15;&amp;#x7528;&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;com.idisfkj.mylibrary.EnhanceRecyclerView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/recyclerView&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;match_parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;match_parent&amp;quot;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/com.idisfkj.mylibrary.EnhanceRecyclerView&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;&amp;#x8BBE;&amp;#x7F6E;&amp;#x76D1;&amp;#x542C;&quot;&gt;&lt;a href=&quot;#&amp;#x8BBE;&amp;#x7F6E;&amp;#x76D1;&amp;#x542C;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x8BBE;&amp;#x7F6E;&amp;#x76D1;&amp;#x542C;&quot;&gt;&lt;/a&gt;&amp;#x8BBE;&amp;#x7F6E;&amp;#x76D1;&amp;#x542C;&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;mRecyclerView.setPullToRefreshListener(new com.idisfkj.mylibrary.EnhanceRecyclerView.PullToRefreshListener() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           public void onRefreshing() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;               refreshData();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       });&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       mRecyclerView.setLoadMoreListener(new EnhanceRecyclerView.LoadMoreListener() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           public void onLoadMore() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;               loadMoreData();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       });&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;refreshData()&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;loadMoreData()&lt;/code&gt;&amp;#x52A0;&amp;#x8F7D;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x903B;&amp;#x8F91;&amp;#x5C31;&amp;#x4E0D;&amp;#x5C55;&amp;#x793A;&amp;#x4E86;&amp;#xFF0C;&amp;#x53EA;&amp;#x662F;&amp;#x8981;&amp;#x8BB0;&amp;#x4F4F;&amp;#x5728;&amp;#x8BF7;&amp;#x6C42;&amp;#x7F51;&amp;#x7EDC;&amp;#x6570;&amp;#x636E;&amp;#x5B8C;&amp;#x4E4B;&amp;#x540E;&amp;#x8981;&amp;#x5728;&amp;#x4ED6;&amp;#x4EEC;&amp;#x4E2D;&amp;#x8C03;&amp;#x7528;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&lt;code&gt;mRecyclerView.setRefreshComplete()&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;mRecyclerView.setLoadMoreComplete()&lt;/code&gt;&amp;#x6765;&amp;#x91CD;&amp;#x7F6E;&amp;#x72B6;&amp;#x6001;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x81F3;&amp;#x4E8E;&amp;#x5176;&amp;#x4ED6;&amp;#x7684;&lt;code&gt;Adapter&lt;/code&gt;&amp;#x3001;&lt;code&gt;LayoutManager&lt;/code&gt;&amp;#x7B49;&amp;#x7684;&amp;#x8BBE;&amp;#x7F6E;&amp;#x5C31;&amp;#x4E0D;&amp;#x591A;&amp;#x8BF4;&amp;#x4E86;&amp;#xFF0C;&amp;#x4E0E;&amp;#x539F;&amp;#x751F;&amp;#x7684;&lt;code&gt;RecyclerView&lt;/code&gt;&amp;#x662F;&amp;#x4E00;&amp;#x6837;&amp;#x7684;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x6548;&amp;#x679C;&quot;&gt;&lt;a href=&quot;#&amp;#x6548;&amp;#x679C;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6548;&amp;#x679C;&quot;&gt;&lt;/a&gt;&amp;#x6548;&amp;#x679C;&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;/2016/08/03/RecyclerView&amp;#x4E0B;&amp;#x62C9;&amp;#x5237;&amp;#x65B0;&amp;#x4E0E;&amp;#x4E0A;&amp;#x62C9;&amp;#x66F4;&amp;#x591A;/1.gif&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x7ED3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;/a&gt;&amp;#x603B;&amp;#x7ED3;&lt;/h1&gt;&lt;p&gt;&amp;#x5176;&amp;#x5B9E;&amp;#x603B;&amp;#x7684;&amp;#x6765;&amp;#x8BF4;&amp;#x96BE;&amp;#x70B9;&amp;#x6709;&amp;#x4E24;&amp;#x4E2A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;#x6DFB;&amp;#x52A0;&lt;code&gt;header&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;footer&lt;/code&gt;&amp;#x3002;&amp;#x8FD9;&amp;#x4E2A;&amp;#x524D;&amp;#x9762;&amp;#x5DF2;&amp;#x7ECF;&amp;#x653B;&amp;#x514B;&amp;#x4E86;&amp;#xFF0C;&amp;#x800C;&amp;#x4E14;&amp;#x539F;&amp;#x7406;&amp;#x4E5F;&amp;#x76F8;&amp;#x5BF9;&amp;#x7B80;&amp;#x5355;&lt;/li&gt;
&lt;li&gt;&amp;#x5B9E;&amp;#x73B0;&amp;#x89E6;&amp;#x6478;&amp;#x4E0E;&amp;#x6ED1;&amp;#x52A8;&amp;#x76D1;&amp;#x542C;&amp;#x903B;&amp;#x8F91;&amp;#x3002;&amp;#x8FD9;&amp;#x4E2A;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x5BF9;&amp;#x903B;&amp;#x8F91;&amp;#x7684;&amp;#x7406;&amp;#x89E3;&amp;#xFF0C;&amp;#x5BF9;&amp;#x6574;&amp;#x4E2A;&amp;#x5237;&amp;#x65B0;&amp;#x7684;&amp;#x8FC7;&amp;#x7A0B;&amp;#x505A;&amp;#x4E2A;&amp;#x6574;&amp;#x4F53;&amp;#x5206;&amp;#x6790;&amp;#xFF0C;&amp;#x5C31;&amp;#x80FD;&amp;#x5F88;&amp;#x597D;&amp;#x7684;&amp;#x7406;&amp;#x89E3;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x3002;&amp;#x5BF9;&amp;#x5176;&amp;#x4E2D;&amp;#x89C6;&amp;#x56FE;&amp;#x7684;&amp;#x52A8;&amp;#x6001;&amp;#x663E;&amp;#x793A;&amp;#x505A;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&amp;#x53D8;&amp;#x5316;&amp;#x4E0E;&amp;#x63A5;&amp;#x53E3;&amp;#x7684;&amp;#x8C03;&amp;#x7528;&amp;#x5C31;&amp;#x80FD;&amp;#x5F88;&amp;#x597D;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#x8FD9;&amp;#x4E9B;&amp;#x5DE5;&amp;#x7A0B;&amp;#x3002;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x5F53;&amp;#x7136;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x53EF;&amp;#x80FD;&amp;#x8FD8;&amp;#x6709;&amp;#x7455;&amp;#x75B5;&amp;#xFF0C;&amp;#x5E0C;&amp;#x671B;&amp;#x6307;&amp;#x51FA;&amp;#xFF0C;&amp;#x6211;&amp;#x4F1A;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&amp;#x505A;&amp;#x4FEE;&amp;#x6539;&amp;#x6216;&amp;#x8005;&amp;#x4F60;&amp;#x4EEC;&amp;#x4FEE;&amp;#x6539;&amp;#x540E;&amp;#x53EF;&amp;#x4EE5;&amp;#x63D0;&amp;#x4EA4;&amp;#x7ED9;&amp;#x6211;&amp;#xFF0C;&amp;#x6211;&amp;#x7EDF;&amp;#x4E00;&amp;#x505A;&amp;#x4FEE;&amp;#x6539;&amp;#xFF0C;&amp;#x8C22;&amp;#x8C22;&amp;#xFF01;&lt;/p&gt;
&lt;p&gt;&amp;#x9879;&amp;#x76EE;&amp;#x5730;&amp;#x5740;:&lt;a href=&quot;https://github.com/idisfkj/EnhanceRecyclerView&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/idisfkj/EnhanceRecyclerView&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x8F6C;&amp;#x8F7D;&amp;#x8BF7;&amp;#x6307;&amp;#x660E;&amp;#x51FA;&amp;#x5904; idisfkj&amp;#x535A;&amp;#x5BA2;&amp;#xFF1A;&lt;a href=&quot;https://idisfkj.github.io&quot;&gt;https://idisfkj.github.io&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h1&gt;&lt;p&gt;&amp;#x5728;&amp;#x539
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="RecyclerView" scheme="https://idisfkj.github.io/tags/RecyclerView/"/>
    
  </entry>
  
  <entry>
    <title>RecyclerView添加header与footer</title>
    <link href="https://idisfkj.github.io/2016/07/05/RecyclerView%E6%B7%BB%E5%8A%A0header%E4%B8%8Efooter/"/>
    <id>https://idisfkj.github.io/2016/07/05/RecyclerView添加header与footer/</id>
    <published>2016-07-05T12:44:36.000Z</published>
    <updated>2016-07-30T14:40:56.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h1&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x6B21;&amp;#x4E3B;&amp;#x8981;&amp;#x5173;&amp;#x4E8E;&lt;code&gt;RecyclerView&lt;/code&gt;&amp;#x6DFB;&amp;#x52A0;&lt;code&gt;header&lt;/code&gt;&amp;#x548C;&lt;code&gt;footer&lt;/code&gt;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x90FD;&amp;#x77E5;&amp;#x9053;&amp;#xFF0C;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;ListView&lt;/code&gt;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x6211;&amp;#x4EEC;&amp;#x80FD;&amp;#x81EA;&amp;#x7531;&amp;#x7684;&amp;#x7ED9;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;&lt;code&gt;ListView&lt;/code&gt;&amp;#x6DFB;&amp;#x52A0;&amp;#x5934;&amp;#x90E8;&amp;#x4E0E;&amp;#x5C3E;&amp;#x90E8;&amp;#x3002;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;addHeaderView()&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;addFooterView()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&amp;#x53EA;&amp;#x8981;&amp;#x81EA;&amp;#x5DF1;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x5E03;&amp;#x5C40;&amp;#x6587;&amp;#x4EF6;&amp;#xFF0C;&amp;#x6DFB;&amp;#x52A0;&amp;#x8FDB;&amp;#x53BB;&amp;#x5373;&amp;#x53EF;&amp;#x3002;&amp;#x4F46;&amp;#x5F53;&amp;#x6211;&amp;#x4EEC;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;RecyclerView&lt;/code&gt;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x5C31;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;&amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x65B9;&amp;#x4FBF;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x6CA1;&amp;#x6709;&amp;#x4E86;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x5982;&amp;#x679C;&amp;#x6B64;&amp;#x65F6;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&amp;#x8FD9;&amp;#x4E9B;&amp;#x529F;&amp;#x80FD;&amp;#x65F6;&amp;#x8981;&amp;#x600E;&amp;#x4E48;&amp;#x529E;&amp;#x5462;&amp;#xFF1F;&amp;#x4E0D;&amp;#x6025;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x6211;&amp;#x4EEC;&amp;#x5148;&amp;#x6765;&amp;#x719F;&amp;#x6089;&amp;#x4E0B;&lt;code&gt;ListView&lt;/code&gt;&amp;#x7684;&amp;#x6DFB;&amp;#x52A0;&lt;code&gt;header&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;footer&lt;/code&gt;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x539F;&amp;#x7406;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;ListView&amp;#x6E90;&amp;#x7801;&quot;&gt;&lt;a href=&quot;#ListView&amp;#x6E90;&amp;#x7801;&quot; class=&quot;headerlink&quot; title=&quot;ListView&amp;#x6E90;&amp;#x7801;&quot;&gt;&lt;/a&gt;ListView&amp;#x6E90;&amp;#x7801;&lt;/h1&gt;&lt;p&gt;&amp;#x65E2;&amp;#x7136;&lt;code&gt;ListView&lt;/code&gt;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&amp;#x6DFB;&amp;#x52A0;&amp;#x5934;&amp;#x90E8;&amp;#x4E0E;&amp;#x5C3E;&amp;#x90E8;&amp;#x7684;&amp;#x539F;&amp;#x7406;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x5148;&amp;#x8FDB;&amp;#x5165;&lt;code&gt;ListView&lt;/code&gt;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&amp;#xFF0C;&amp;#x67E5;&amp;#x770B;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;addHeaderView()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E0E;&lt;code&gt;addFooterView()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public void addHeaderView(View v, Object data, boolean isSelectable) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        final FixedViewInfo info = new FixedViewInfo();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        info.view = v;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        info.data = data;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        info.isSelectable = isSelectable;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mHeaderViewInfos.add(info);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mAreAllItemsSelectable &amp;amp;= isSelectable;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Wrap the adapter if it wasn&amp;apos;t already wrapped.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (mAdapter != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (!(mAdapter instanceof HeaderViewListAdapter)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mAdapter = new HeaderViewListAdapter(mHeaderViewInfos, mFooterViewInfos, mAdapter);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // In the case of re-adding a header view, or adding one later on,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // we need to notify the observer.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (mDataSetObserver != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mDataSetObserver.onChanged();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x7701;&amp;#x7565;addFooterView()&amp;#x6E90;&amp;#x7801;&amp;#xFF0C;&amp;#x5176;&amp;#x5B9E;&amp;#x8DDF;addHeaderView()&amp;#x57FA;&amp;#x672C;&amp;#x4E00;&amp;#x81F4;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;addHeaderView()&lt;/code&gt;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x53D1;&amp;#x73B0;&amp;#xFF0C;&amp;#x5B83;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;FixedViewInfo&lt;/code&gt;&amp;#x7C7B;&amp;#x6765;&amp;#x5B58;&amp;#x50A8;&amp;#x6570;&amp;#x636E;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public class FixedViewInfo {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        /** The view to add to the list */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        public View view;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        /** The data backing the view. This is returned from {@link ListAdapter#getItem(int)}. */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        public Object data;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        /** &amp;lt;code&amp;gt;true&amp;lt;/code&amp;gt; if the fixed view should be selectable in the list */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        public boolean isSelectable;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5176;&amp;#x4E2D;&amp;#x6700;&amp;#x4E3B;&amp;#x8981;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x5C31;&amp;#x662F;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;if (!(mAdapter instanceof HeaderViewListAdapter)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;               mAdapter = new HeaderViewListAdapter(mHeaderViewInfos, mFooterViewInfos, mAdapter);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;&amp;#x5B83;&lt;code&gt;new&lt;/code&gt;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;HeaderViewListAdapter&lt;/code&gt;&amp;#x7C7B;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x6211;&amp;#x4EEC;&amp;#x518D;&amp;#x8FDB;&amp;#x5165;&lt;code&gt;HeaderViewListAdapter&lt;/code&gt;&amp;#x6E90;&amp;#x7801;&amp;#x4E2D;&amp;#xFF0C;&amp;#x53D1;&amp;#x73B0;&amp;#x4ED6;&amp;#x5C31;&amp;#x76F8;&amp;#x5BF9;&amp;#x4E8E;&amp;#x4E00;&amp;#x4E2A;&amp;#x6211;&amp;#x4EEC;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&lt;code&gt;Adapter&lt;/code&gt;&amp;#x5BF9;&lt;code&gt;header&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;footer&lt;/code&gt;&amp;#x7684;&amp;#x5C01;&amp;#x88C5;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x4EE3;&amp;#x7801;&amp;#x90FD;&amp;#x6BD4;&amp;#x8F83;&amp;#x7B80;&amp;#x5355;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x601D;&amp;#x60F3;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x4E3B;&amp;#x8981;&amp;#x7684;&amp;#x662F;&amp;#x6709;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public int getCount() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (mAdapter != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return getFootersCount() + getHeadersCount() + mAdapter.getCount();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return getFootersCount() + getHeadersCount();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6839;&amp;#x636E;&lt;code&gt;position&lt;/code&gt;&amp;#x6765;&amp;#x8BBE;&amp;#x7F6E;&lt;code&gt;ViewType&lt;/code&gt;&amp;#x7684;&amp;#x503C;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public int getItemViewType(int position) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       int numHeaders = getHeadersCount();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       if (mAdapter != null &amp;amp;&amp;amp; position &amp;gt;= numHeaders) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           int adjPosition = position - numHeaders;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           int adapterCount = mAdapter.getCount();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           if (adjPosition &amp;lt; adapterCount) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;               return mAdapter.getItemViewType(adjPosition);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       return AdapterView.ITEM_VIEW_TYPE_HEADER_OR_FOOTER;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x518D;&amp;#x770B;&lt;code&gt;getView()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public View getView(int position, View convertView, ViewGroup parent) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Header (negative positions will throw an IndexOutOfBoundsException)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int numHeaders = getHeadersCount();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (position &amp;lt; numHeaders) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return mHeaderViewInfos.get(position).view;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Adapter&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        final int adjPosition = position - numHeaders;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int adapterCount = 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (mAdapter != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            adapterCount = mAdapter.getCount();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (adjPosition &amp;lt; adapterCount) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                return mAdapter.getView(adjPosition, convertView, parent);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Footer (off-limits positions will throw an IndexOutOfBoundsException)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return mFooterViewInfos.get(adjPosition - adapterCount).view;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E0E;&lt;code&gt;getItemViewType&lt;/code&gt;&amp;#x7C7B;&amp;#x4F3C;&amp;#xFF0C;&amp;#x5F53;&lt;code&gt;position&lt;/code&gt;&amp;#x5C0F;&amp;#x4E8E;&lt;code&gt;header&lt;/code&gt;&amp;#x7684;&lt;code&gt;count&lt;/code&gt;&amp;#x65F6;&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;&amp;#x8FD4;&amp;#x56DE;&amp;#x5934;&amp;#x90E8;&lt;code&gt;View&lt;/code&gt;,&amp;#x5F53;&lt;code&gt;position&lt;/code&gt;&amp;#x51CF;&amp;#x53BB;&lt;code&gt;headeer&lt;/code&gt;&amp;#x7684;&lt;code&gt;count&lt;/code&gt;&amp;#x65F6;&amp;#x4F9D;&amp;#x7136;&amp;#x5C0F;&amp;#x4E8E;&amp;#x6B63;&amp;#x5E38;&amp;#x7684;&lt;code&gt;adapter&lt;/code&gt;&amp;#x7684;&lt;code&gt;count&lt;/code&gt;,&amp;#x6B64;&amp;#x65F6;&amp;#x8FD4;&amp;#x56DE;&amp;#x6B63;&amp;#x5E38;&amp;#x7684;&lt;code&gt;View&lt;/code&gt;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x8FD8;&amp;#x6709;&amp;#xFF0C;&amp;#x81EA;&amp;#x7136;&amp;#x5269;&amp;#x4E0B;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&lt;code&gt;footer&lt;/code&gt;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x6240;&amp;#x4EE5;&amp;#x6839;&amp;#x636E;&lt;code&gt;ListView&lt;/code&gt;&amp;#x7684;&amp;#x6DFB;&amp;#x52A0;&amp;#x5934;&amp;#x90E8;&amp;#x4E0E;&amp;#x5C3E;&amp;#x90E8;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x539F;&amp;#x7406;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x6A21;&amp;#x4EFF;&amp;#x5B9E;&amp;#x73B0;&lt;code&gt;RecyclerView&lt;/code&gt;&amp;#x7684;&amp;#x76F8;&amp;#x540C;&amp;#x7684;&amp;#x529F;&amp;#x80FD;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;EnhanceRecyclerView&quot;&gt;&lt;a href=&quot;#EnhanceRecyclerView&quot; class=&quot;headerlink&quot; title=&quot;EnhanceRecyclerView&quot;&gt;&lt;/a&gt;EnhanceRecyclerView&lt;/h1&gt;&lt;p&gt;&amp;#x90A3;&amp;#x4E48;&amp;#x6211;&amp;#x4EEC;&amp;#x6839;&amp;#x636E;&lt;code&gt;ListView&lt;/code&gt;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E00;&amp;#x4E2A;&amp;#x80FD;&amp;#x591F;&amp;#x6DFB;&amp;#x52A0;&lt;code&gt;header&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;footer&lt;/code&gt;&amp;#x7684;&lt;code&gt;RecyclerView&lt;/code&gt;&amp;#xFF0C;&amp;#x6211;&amp;#x8FD9;&amp;#x91CC;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E3A;&lt;code&gt;EnhanceRecyclerView&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;FixedViewInfo&quot;&gt;&lt;a href=&quot;#FixedViewInfo&quot; class=&quot;headerlink&quot; title=&quot;FixedViewInfo&quot;&gt;&lt;/a&gt;FixedViewInfo&lt;/h2&gt;&lt;p&gt;&amp;#x5728;&amp;#x4E0A;&amp;#x9762;&amp;#x6211;&amp;#x4EEC;&amp;#x770B;&amp;#x5230;&lt;code&gt;ListView&lt;/code&gt;&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&amp;#x5230;&amp;#x4E86;&lt;code&gt;FixedViewInfo&lt;/code&gt;&amp;#xFF0C;&amp;#x5C31;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x7C7B;&amp;#xFF0C;&amp;#x7528;&amp;#x6765;&amp;#x5B58;&amp;#x50A8;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x505A;&amp;#x9002;&amp;#x5F53;&amp;#x7684;&amp;#x4FEE;&amp;#x6539;&amp;#x5982;&amp;#x4E0B;&amp;#xFF0C;&lt;code&gt;View&lt;/code&gt;&amp;#x8FD8;&amp;#x662F;&amp;#x4E0D;&amp;#x53D8;&amp;#xFF0C;&amp;#x4F9D;&amp;#x7136;&amp;#x662F;&amp;#x6DFB;&amp;#x52A0;&amp;#x7684;&amp;#x89C6;&amp;#x56FE;&amp;#xFF0C;&amp;#x5C06;&amp;#x5176;&amp;#x4F59;&amp;#x7684;&amp;#x5220;&amp;#x6389;&amp;#xFF0C;&amp;#x6362;&amp;#x6210;&lt;code&gt;viewType&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public class FixedViewInfo {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        public View view;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        public int viewType;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;addHeaderView&amp;#x4E0E;addFooterView&quot;&gt;&lt;a href=&quot;#addHeaderView&amp;#x4E0E;addFooterView&quot; class=&quot;headerlink&quot; title=&quot;addHeaderView&amp;#x4E0E;addFooterView&quot;&gt;&lt;/a&gt;addHeaderView&amp;#x4E0E;addFooterView&lt;/h2&gt;&lt;p&gt;&amp;#x505A;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&amp;#x4FEE;&amp;#x6539;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&lt;code&gt;BASE_HEADER_VIEW_TYPE&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;BASE_FOOTER_VIEW_TYPE&lt;/code&gt;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;final&lt;/code&gt;&amp;#x7684;&lt;code&gt;int&lt;/code&gt;&amp;#x6570;&amp;#x636E;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public void addHeaderView(View view) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        FixedViewInfo info = new FixedViewInfo();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        info.view = view;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        info.viewType = BASE_HEADER_VIEW_TYPE + mHeaderViewInfos.size();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mHeaderViewInfos.add(info);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (mAdapter != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            mAdapter.notifyDataSetChanged();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public void addFooterView(View view) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    FixedViewInfo info = new FixedViewInfo();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    info.view = view;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    info.viewType = BASE_FOOTER_VIEW_TYPE + mFooterViewInfos.size();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mFooterViewInfos.add(info);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (mAdapter != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mAdapter.notifyDataSetChanged();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;setAdapter&quot;&gt;&lt;a href=&quot;#setAdapter&quot; class=&quot;headerlink&quot; title=&quot;setAdapter&quot;&gt;&lt;/a&gt;setAdapter&lt;/h2&gt;&lt;p&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x662F;&lt;code&gt;setAdapter()&lt;/code&gt;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x540E;&amp;#x9762;&amp;#x5C01;&amp;#x88C5;&amp;#x7684;&lt;code&gt;WrapperRecyclerViewAdapter&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public void setAdapter(Adapter adapter) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (!(adapter instanceof WrapperRecyclerViewAdapter))&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            mAdapter = new WrapperRecyclerViewAdapter(mHeaderViewInfos, mFooterViewInfos, adapter);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        super.setAdapter(mAdapter);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//        if (isShouldSpan) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//            ((WrapperRecyclerViewAdapter) mAdapter).adjustSpanSize(this);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;WrapperRecyclerViewAdapter&quot;&gt;&lt;a href=&quot;#WrapperRecyclerViewAdapter&quot; class=&quot;headerlink&quot; title=&quot;WrapperRecyclerViewAdapter&quot;&gt;&lt;/a&gt;WrapperRecyclerViewAdapter&lt;/h1&gt;&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x6839;&amp;#x636E;&lt;code&gt;ListView&lt;/code&gt;&amp;#x7684;&lt;code&gt;HeaderViewListAdapter&lt;/code&gt;&amp;#x6765;&amp;#x6A21;&amp;#x4EFF;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E00;&amp;#x4E2A;&amp;#x5C01;&amp;#x88C5;&amp;#x5934;&amp;#x90E8;&amp;#x4E0E;&amp;#x5C3E;&amp;#x90E8;&amp;#x7684;&lt;code&gt;adapter&lt;/code&gt;&amp;#x3002;&amp;#x6211;&amp;#x8FD9;&amp;#x91CC;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E3A;&lt;code&gt;WrapperRecyclerViewAdapter&lt;/code&gt;&amp;#x7EE7;&amp;#x627F;&lt;code&gt;RecyclerView.Adapter&lt;/code&gt;&amp;#x6839;&amp;#x636E;&amp;#x60C5;&amp;#x51B5;&amp;#x9002;&amp;#x5F53;&amp;#x4FEE;&amp;#x6539;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;getItemCount&quot;&gt;&lt;a href=&quot;#getItemCount&quot; class=&quot;headerlink&quot; title=&quot;getItemCount&quot;&gt;&lt;/a&gt;getItemCount&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public int getItemCount() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (mAdapter != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return getHeadersCount() + getFootersCount() + mAdapter.getItemCount();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return getHeadersCount() + getFootersCount();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;getItemViewType&quot;&gt;&lt;a href=&quot;#getItemViewType&quot; class=&quot;headerlink&quot; title=&quot;getItemViewType&quot;&gt;&lt;/a&gt;getItemViewType&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public int getItemViewType(int position) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int numHeaders = getHeadersCount();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (position &amp;lt; numHeaders) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return mHeaderViewInfos.get(position).viewType;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int adjPosition = position - numHeaders;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int adapterPosition = 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (mAdapter != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            adapterPosition = mAdapter.getItemCount();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (adjPosition &amp;lt; adapterPosition) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                return mAdapter.getItemViewType(adjPosition);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return mFooterViewInfos.get(position - adapterPosition - getHeadersCount()).viewType;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x903B;&amp;#x8F91;&amp;#x4E0E;&lt;code&gt;ListView&lt;/code&gt;&amp;#x7684;&amp;#x57FA;&amp;#x672C;&amp;#x4E00;&amp;#x81F4;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;onCreateViewHolder&quot;&gt;&lt;a href=&quot;#onCreateViewHolder&quot; class=&quot;headerlink&quot; title=&quot;onCreateViewHolder&quot;&gt;&lt;/a&gt;onCreateViewHolder&lt;/h2&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x9700;&amp;#x5C06;&lt;code&gt;HeaderViewListAdapter&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;getView()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x5206;&amp;#x6210;&amp;#x4E24;&amp;#x90E8;&amp;#x5206;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (viewType &amp;gt;= EnhanceRecyclerView.BASE_HEADER_VIEW_TYPE &amp;amp;&amp;amp; viewType &amp;lt; EnhanceRecyclerView.BASE_HEADER_VIEW_TYPE + getHeadersCount()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        View view = mHeaderViewInfos.get(viewType - EnhanceRecyclerView.BASE_HEADER_VIEW_TYPE).view;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return viewHolder(view);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    } else if (viewType &amp;gt;= EnhanceRecyclerView.BASE_FOOTER_VIEW_TYPE &amp;amp;&amp;amp; viewType &amp;lt; EnhanceRecyclerView.BASE_FOOTER_VIEW_TYPE + getFootersCount()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        View view = mFooterViewInfos.get(viewType - EnhanceRecyclerView.BASE_FOOTER_VIEW_TYPE).view;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return viewHolder(view);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return mAdapter.onCreateViewHolder(parent, viewType);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6839;&amp;#x636E;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&lt;code&gt;viewType&lt;/code&gt;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x5E03;&amp;#x5C40;&amp;#x6587;&amp;#x4EF6;.&amp;#x4E0D;&amp;#x662F;&lt;code&gt;header&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;footer&lt;/code&gt;&amp;#x5E03;&amp;#x5C40;&amp;#x65F6;&amp;#x5219;&amp;#x76F4;&amp;#x63A5;&amp;#x56DE;&amp;#x8C03;&amp;#x539F;&amp;#x59CB;&lt;code&gt;adapter&lt;/code&gt;&amp;#x7684;&lt;code&gt;onCreateViewHolder()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x5B9E;&amp;#x73B0;&amp;#x6B63;&amp;#x5E38;&amp;#x7684;&amp;#x5E03;&amp;#x5C40;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;onBindViewHolder&quot;&gt;&lt;a href=&quot;#onBindViewHolder&quot; class=&quot;headerlink&quot; title=&quot;onBindViewHolder&quot;&gt;&lt;/a&gt;onBindViewHolder&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    int numHeaders = getHeadersCount();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (position &amp;lt; numHeaders) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    int adjPosition = position - numHeaders;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    int adapterCount = 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (mAdapter != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        adapterCount = mAdapter.getItemCount();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (adjPosition &amp;lt; adapterCount) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            mAdapter.onBindViewHolder(holder, adjPosition);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6839;&amp;#x636E;&lt;code&gt;position&lt;/code&gt;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#x6765;&amp;#x9009;&amp;#x62E9;&amp;#xFF0C;&amp;#x5F53;&lt;code&gt;position&lt;/code&gt;&amp;#x5C5E;&amp;#x4E8E;&amp;#x6B63;&amp;#x5E38;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#x8303;&amp;#x56F4;&amp;#x4E4B;&amp;#x5185;&amp;#x65F6;&amp;#xFF0C;&amp;#x5219;&amp;#x56DE;&amp;#x8C03;&amp;#x539F;&amp;#x59CB;&amp;#x7684;&lt;code&gt;adapter&lt;/code&gt;&amp;#x7684;&lt;code&gt;onBindViewHolder()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5B9E;&amp;#x73B0;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x7ED1;&amp;#x5B9A;&amp;#xFF1B;&amp;#x5BF9;&amp;#x4E8E;&amp;#x5176;&amp;#x5B83;&amp;#x7684;&amp;#x60C5;&amp;#x51B5;&amp;#xFF0C;&amp;#x65E0;&amp;#x9700;&amp;#x505A;&amp;#x5904;&amp;#x7406;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x4E3B;&amp;#x8981;&amp;#x7684;&amp;#x6A21;&amp;#x4EFF;&amp;#x53D8;&amp;#x52A8;&amp;#x5C31;&amp;#x662F;&amp;#x8FD9;&amp;#x4E9B;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x81EA;&amp;#x5DF1;&amp;#x5728;&amp;#x6839;&amp;#x636E;&amp;#x60C5;&amp;#x51B5;&amp;#x8FDB;&amp;#x884C;&amp;#x9002;&amp;#x5F53;&amp;#x7684;&amp;#x4FEE;&amp;#x6539;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x5728;&amp;#x5E03;&amp;#x5C40;&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&lt;code&gt;EnhanceRecyclerView&lt;/code&gt;&amp;#x66FF;&amp;#x4EE3;&lt;code&gt;RecyclerView&lt;/code&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;&amp;#x8C03;&amp;#x6574;&quot;&gt;&lt;a href=&quot;#&amp;#x8C03;&amp;#x6574;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x8C03;&amp;#x6574;&quot;&gt;&lt;/a&gt;&amp;#x8C03;&amp;#x6574;&lt;/h1&gt;&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x90FD;&amp;#x77E5;&amp;#x9053;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;RecyclerView&lt;/code&gt;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x8981;&amp;#x8BBE;&amp;#x7F6E;&lt;code&gt;LayoutManager&lt;/code&gt;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x6309;&amp;#x7167;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x5F53;&lt;code&gt;LayoutManager&lt;/code&gt;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E3A;&lt;code&gt;LinearLayout&lt;/code&gt;&amp;#x65F6;&amp;#xFF0C;&amp;#x81EA;&amp;#x7136;&amp;#x6CA1;&amp;#x4E0A;&amp;#x9762;&amp;#x95EE;&amp;#x9898;&amp;#xFF0C;&amp;#x5934;&amp;#x90E8;&amp;#x4E0E;&amp;#x5C3E;&amp;#x90E8;&amp;#x80FD;&amp;#x6B63;&amp;#x5E38;&amp;#x6DFB;&amp;#x52A0;&amp;#xFF1B;&amp;#x4F46;&amp;#x5F53;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;&lt;code&gt;LayoutManager&lt;/code&gt;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E3A;&lt;code&gt;GridLayoutManager&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;StaggeredGridLayoutManager&lt;/code&gt;&amp;#x65F6;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;&amp;#x5934;&amp;#x90E8;&amp;#x4E0E;&amp;#x5C3E;&amp;#x90E8;&amp;#x7684;&amp;#x6DFB;&amp;#x52A0;&amp;#x51FA;&amp;#x73B0;&amp;#x5F02;&amp;#x5E38;&amp;#xFF0C;&amp;#x5C31;&amp;#x662F;&amp;#x4ED6;&amp;#x4EEC;&amp;#x4E0D;&amp;#x80FD;&amp;#x72EC;&amp;#x81EA;&amp;#x5360;&amp;#x4E00;&amp;#x884C;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8FD9;&amp;#x91CC;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x505A;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&amp;#x8C03;&amp;#x6574;&amp;#xFF0C;&amp;#x4F7F;&amp;#x4ED6;&amp;#x4EEC;&amp;#x5728;&amp;#x6DFB;&amp;#x52A0;&amp;#x5934;&amp;#x90E8;&amp;#x4E0E;&amp;#x5C3E;&amp;#x90E8;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x72EC;&amp;#x81EA;&amp;#x5360;&amp;#x4E00;&amp;#x884C;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;adjustSpanSize&quot;&gt;&lt;a href=&quot;#adjustSpanSize&quot; class=&quot;headerlink&quot; title=&quot;adjustSpanSize&quot;&gt;&lt;/a&gt;adjustSpanSize&lt;/h2&gt;&lt;p&gt;&amp;#x5728;&amp;#x4E0A;&amp;#x9762;&amp;#x6211;&amp;#x4EEC;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&lt;code&gt;WrapperRecyclerViewAdapter&lt;/code&gt;&amp;#x4E2D;&amp;#x6DFB;&amp;#x52A0;&lt;code&gt;adjustSpanSize()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x7528;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x8C03;&amp;#x6574;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public void adjustSpanSize(RecyclerView recyclerView) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (recyclerView.getLayoutManager() instanceof GridLayoutManager) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            final GridLayoutManager manager = (GridLayoutManager) recyclerView.getLayoutManager();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            manager.setSpanSizeLookup(new GridLayoutManager.SpanSizeLookup() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                public int getSpanSize(int position) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    int numHeaders = getHeadersCount();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    int adjPosition = position - numHeaders;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    if (position &amp;lt; numHeaders || adjPosition &amp;gt;= mAdapter.getItemCount())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        return manager.getSpanCount();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    return 1;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            });&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (recyclerView.getLayoutManager() instanceof StaggeredGridLayoutManager) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            isStaggered = true;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x770B;&amp;#x51FA;&amp;#x5F53;&lt;code&gt;LayoutManager&lt;/code&gt;&amp;#x4E3A;&lt;code&gt;GridLayoutManager&lt;/code&gt;&amp;#x65F6;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;manager&lt;/code&gt;&amp;#x6765;&amp;#x8BBE;&amp;#x7F6E;&lt;code&gt;setSpanSizeLookup()&lt;/code&gt;&amp;#x5728;&lt;code&gt;getSpanSize()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x6839;&amp;#x636E;&amp;#x5177;&amp;#x4F53;&amp;#x5224;&amp;#x65AD;&amp;#x6765;&amp;#x8C03;&amp;#x7528;&lt;code&gt;manager.getSpanCount()&lt;/code&gt;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x5934;&amp;#x90E8;&amp;#x4E0E;&amp;#x5C3E;&amp;#x90E8;&amp;#x7684;&amp;#x5360;&amp;#x4E00;&amp;#x884C;&amp;#x7684;&amp;#x6548;&amp;#x679C;&amp;#xFF1B;&amp;#x5BF9;&amp;#x4E8E;&lt;code&gt;StaggeredGridLayoutManager&lt;/code&gt;&amp;#x56E0;&amp;#x4E3A;&amp;#x5176;&amp;#x6CA1;&amp;#x6709;&lt;code&gt;setSpanSizeLookup()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x5148;&amp;#x505A;&amp;#x6807;&amp;#x8BB0;&amp;#xFF0C;&amp;#x5728;&lt;code&gt;ViewHolder&lt;/code&gt;&amp;#x4E2D;&amp;#x4E3A;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&amp;#x9700;&amp;#x8981;&amp;#x7684;&lt;code&gt;ItemView&lt;/code&gt;&amp;#x6765;&amp;#x8BBE;&amp;#x7F6E;&lt;code&gt;params&lt;/code&gt;&amp;#xFF0C;&lt;code&gt;setFullSpa(true)&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x586B;&amp;#x5145;&amp;#x4E00;&amp;#x884C;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private RecyclerView.ViewHolder viewHolder(View itemView) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (isStaggered) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        StaggeredGridLayoutManager.LayoutParams params = new StaggeredGridLayoutManager.LayoutParams(StaggeredGridLayoutManager.LayoutParams.MATCH_PARENT,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                StaggeredGridLayoutManager.LayoutParams.WRAP_CONTENT);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        params.setFullSpan(true);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        itemView.setLayoutParams(params);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return new RecyclerView.ViewHolder(itemView) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    };&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;setLayoutManager&quot;&gt;&lt;a href=&quot;#setLayoutManager&quot; class=&quot;headerlink&quot; title=&quot;setLayoutManager&quot;&gt;&lt;/a&gt;setLayoutManager&lt;/h2&gt;&lt;p&gt;&amp;#x5728;&lt;code&gt;EnhanceRecyclerView&lt;/code&gt;&amp;#x4E2D;&amp;#x91CD;&amp;#x5199;&lt;code&gt;setLayoutManager()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;,&amp;#x6DFB;&amp;#x52A0;&amp;#x6807;&amp;#x8BB0;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public void setLayoutManager(LayoutManager layout) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (layout instanceof GridLayoutManager || layout instanceof StaggeredGridLayoutManager)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            isShouldSpan = true;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        super.setLayoutManager(layout);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x518D; &amp;#x5728;&lt;code&gt;EnhanceRecyclerView&lt;/code&gt;&amp;#x7684;&lt;code&gt;setAdapter()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x6839;&amp;#x636E;&amp;#x6807;&amp;#x8BB0;&amp;#x6765;&amp;#x5224;&amp;#x65AD;&amp;#x662F;&amp;#x5426;&amp;#x8C03;&amp;#x7528;&lt;code&gt;adjustSpanSize()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x8C03;&amp;#x6574;&lt;code&gt;header&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;footer&lt;/code&gt;.&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;if (isShouldSpan) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            ((WrapperRecyclerViewAdapter) mAdapter).adjustSpanSize(this);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5176;&amp;#x5B9E;&amp;#x5C31;&amp;#x662F;&amp;#x524D;&amp;#x9762;&lt;code&gt;setAdapter()&lt;/code&gt;&amp;#x4E2D;&amp;#x6240;&amp;#x6CE8;&amp;#x91CA;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x6837;&amp;#x6574;&amp;#x4E2A;&amp;#x8C03;&amp;#x6574;&amp;#x90E8;&amp;#x5206;&amp;#x5C31;&amp;#x57FA;&amp;#x672C;&amp;#x5B8C;&amp;#x6210;&amp;#x3002;&lt;code&gt;header&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;footer&lt;/code&gt;&amp;#x7684;&amp;#x6DFB;&amp;#x52A0;&amp;#x4E5F;&amp;#x5C31;&amp;#x57FA;&amp;#x672C;&amp;#x5B8C;&amp;#x6210;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x7ED3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;/a&gt;&amp;#x603B;&amp;#x7ED3;&lt;/h1&gt;&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;RecyclerView&lt;/code&gt;&amp;#x7684;&amp;#x5934;&amp;#x90E8;&amp;#x4E0E;&amp;#x5C3E;&amp;#x90E8;&amp;#x7684;&amp;#x6DFB;&amp;#x52A0;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5E94;&amp;#x8BE5;&amp;#x80FD;&amp;#x5B66;&amp;#x4E60;&amp;#x5982;&amp;#x4F55;&amp;#x8FD0;&amp;#x7528;&amp;#x539F;&amp;#x6709;&amp;#x7684;&amp;#x8D44;&amp;#x6E90;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x6211;&amp;#x4EEC;&amp;#x6240;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x529F;&amp;#x80FD;&amp;#x3002;&amp;#x867D;&amp;#x7136;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E0D;&amp;#x4E00;&amp;#x5B9A;&amp;#x662F;&amp;#x6700;&amp;#x597D;&amp;#x7684;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x4F7F;&amp;#x7528;&amp;#x8FD9;&amp;#x79CD;&amp;#x65B9;&amp;#x6CD5;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E5F;&amp;#x5B58;&amp;#x5728;&amp;#x4E00;&amp;#x4E9B;&amp;#x95EE;&amp;#x9898;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&amp;#x4E0D;&amp;#x80FD;&amp;#x5728;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#xFF08;onCreate&amp;#xFF09;&amp;#x4E2D;&amp;#x540C;&amp;#x65F6;&amp;#x6DFB;&amp;#x52A0;&lt;code&gt;header&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;footer&lt;/code&gt;&amp;#xFF0C;&amp;#x5426;&amp;#x5219;&amp;#x4F1A;&amp;#x51FA;&amp;#x73B0;&amp;#x5E03;&amp;#x5C40;&amp;#x6DF7;&amp;#x4E71;&amp;#x7684;&amp;#x73B0;&amp;#x8C61;&amp;#xFF0C;&amp;#x73B0;&amp;#x5728;&amp;#x8FD8;&amp;#x4E0D;&amp;#x77E5;&amp;#x9053;&amp;#x4E3A;&amp;#x4F55;&amp;#x6709;&amp;#x8FD9;&amp;#x79CD;&amp;#x7279;&amp;#x4F8B;&amp;#xFF0C;&amp;#x5E0C;&amp;#x671B;&amp;#x77E5;&amp;#x9053;&amp;#x7684;&amp;#x53EF;&amp;#x4EE5;&amp;#x544A;&amp;#x77E5;&amp;#x89E3;&amp;#x51B3;&amp;#x4E0B;&amp;#xFF0C;&amp;#x4F46;&amp;#x8FD9;&amp;#x79CD;&amp;#x6A21;&amp;#x4EFF;&amp;#x7684;&amp;#x601D;&amp;#x60F3;&amp;#x8FD8;&amp;#x662F;&amp;#x5F88;&amp;#x503C;&amp;#x5F97;&amp;#x63A8;&amp;#x8350;&amp;#x7684;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x8F6C;&amp;#x8F7D;&amp;#x8BF7;&amp;#x6307;&amp;#x660E;&amp;#x51FA;&amp;#x5904; idisfkj&amp;#x535A;&amp;#x5BA2;&amp;#xFF1A;&lt;a href=&quot;https://idisfkj.github.io&quot;&gt;https://idisfkj.github.io&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h1&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x6B2
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="RecyclerView" scheme="https://idisfkj.github.io/tags/RecyclerView/"/>
    
  </entry>
  
  <entry>
    <title>多线程下载</title>
    <link href="https://idisfkj.github.io/2016/06/26/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8B%E8%BD%BD/"/>
    <id>https://idisfkj.github.io/2016/06/26/多线程下载/</id>
    <published>2016-06-26T02:53:53.000Z</published>
    <updated>2016-07-30T14:39:51.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;&amp;#x539F;&amp;#x7406;&quot;&gt;&lt;a href=&quot;#&amp;#x539F;&amp;#x7406;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x539F;&amp;#x7406;&quot;&gt;&lt;/a&gt;&amp;#x539F;&amp;#x7406;&lt;/h1&gt;&lt;p&gt;&amp;#x591A;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E0B;&amp;#x8F7D;&amp;#x7684;&amp;#x539F;&amp;#x7406;&amp;#x5C31;&amp;#x662F;&amp;#x5C06;&amp;#x8981;&amp;#x4E0B;&amp;#x8F7D;&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x5206;&amp;#x6210;&amp;#x82E5;&amp;#x5E72;&amp;#x4EFD;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x6BCF;&amp;#x4EFD;&amp;#x90FD;&amp;#x4F7F;&amp;#x7528;&amp;#x4E00;&amp;#x4E2A;&amp;#x5355;&amp;#x72EC;&amp;#x7684;&amp;#x7EBF;&amp;#x7A0B;&amp;#x8FDB;&amp;#x884C;&amp;#x4E0B;&amp;#x8F7D;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x5BF9;&amp;#x4E8E;&amp;#x6587;&amp;#x4EF6;&amp;#x7684;&amp;#x4E0B;&amp;#x8F7D;&amp;#x901F;&amp;#x5EA6;&amp;#x81EA;&amp;#x7136;&amp;#x5C31;&amp;#x63D0;&amp;#x9AD8;&amp;#x4E86;&amp;#x8BB8;&amp;#x591A;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x65E2;&amp;#x7136;&amp;#x8981;&amp;#x5206;&amp;#x6210;&amp;#x82E5;&amp;#x5E72;&amp;#x90E8;&amp;#x5206;&amp;#x5206;&amp;#x5DE5;&amp;#x4E0B;&amp;#x8F7D;&amp;#xFF0C;&amp;#x81EA;&amp;#x7136;&amp;#x8981;&amp;#x77E5;&amp;#x9053;&amp;#x5404;&amp;#x4E2A;&amp;#x7EBF;&amp;#x7A0B;&amp;#x81EA;&amp;#x5DF1;&amp;#x8981;&amp;#x4E0B;&amp;#x8F7D;&amp;#x7684;&amp;#x8D77;&amp;#x59CB;&amp;#x4F4D;&amp;#x7F6E;&amp;#xFF0C;&amp;#x4E0E;&amp;#x8981;&amp;#x4E0B;&amp;#x8F7D;&amp;#x7684;&amp;#x5927;&amp;#x5C0F;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x89E3;&amp;#x51B3;&amp;#x7EBF;&amp;#x7A0B;&amp;#x7684;&amp;#x5206;&amp;#x914D;&amp;#x4E0E;&amp;#x5404;&amp;#x4E2A;&amp;#x7EBF;&amp;#x7A0B;&amp;#x5B9A;&amp;#x4F4D;&amp;#x5230;&amp;#x4E0B;&amp;#x8F7D;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x5C01;&amp;#x88C5;&quot;&gt;&lt;a href=&quot;#&amp;#x5C01;&amp;#x88C5;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5C01;&amp;#x88C5;&quot;&gt;&lt;/a&gt;&amp;#x5C01;&amp;#x88C5;&lt;/h1&gt;&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x591A;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E0B;&amp;#x8F7D;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x5C06;&amp;#x5176;&amp;#x5C01;&amp;#x88C5;&amp;#x5230;&amp;#x4E00;&amp;#x4E2A;&amp;#x5DE5;&amp;#x5177;&amp;#x7C7B;&amp;#x4E2D;&lt;code&gt;DownUtil&lt;/code&gt;&amp;#xFF0C;&amp;#x5411;&amp;#x5176;&amp;#x4E2D;&amp;#x4F20;&amp;#x5165;&amp;#x4E0B;&amp;#x8F7D;&amp;#x7684;&amp;#x94FE;&amp;#x63A5;&amp;#x3001;&amp;#x6587;&amp;#x4EF6;&amp;#x5B58;&amp;#x50A8;&amp;#x8DEF;&amp;#x5F84;&amp;#x3001;&amp;#x9700;&amp;#x8981;&amp;#x4E0B;&amp;#x8F7D;&amp;#x7684;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6570;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public DownUtil(String path, String targetFile, int threadNum) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        this.path = path;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        this.targetFile = targetFile;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        this.threadNum = threadNum;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        downThreads = new DownThread[threadNum];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5176;&amp;#x4E2D;&lt;code&gt;DownThread&lt;/code&gt;&amp;#x5B9E;&amp;#x73B0;&amp;#x7684;&amp;#x662F;&amp;#x5404;&amp;#x4E2A;&amp;#x7EBF;&amp;#x7A0B;&amp;#x7684;&amp;#x4E0B;&amp;#x8F7D;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x5206;&amp;#x914D;&amp;#x7EBF;&amp;#x7A0B;&quot;&gt;&lt;a href=&quot;#&amp;#x5206;&amp;#x914D;&amp;#x7EBF;&amp;#x7A0B;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5206;&amp;#x914D;&amp;#x7EBF;&amp;#x7A0B;&quot;&gt;&lt;/a&gt;&amp;#x5206;&amp;#x914D;&amp;#x7EBF;&amp;#x7A0B;&lt;/h1&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;HttpURLConnection&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x4E0B;&amp;#x8F7D;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;getContentLength()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x83B7;&amp;#x53D6;&amp;#x4E0B;&amp;#x8F7D;&amp;#x6587;&amp;#x4EF6;&amp;#x7684;&amp;#x603B;&amp;#x5927;&amp;#x5C0F;&amp;#xFF0C;&amp;#x518D;&amp;#x5BF9;&amp;#x5176;&amp;#x5E73;&amp;#x5747;&amp;#x5206;&amp;#x914D;&amp;#x5404;&amp;#x4E2A;&amp;#x7EBF;&amp;#x7A0B;&amp;#x9700;&amp;#x8981;&amp;#x4E0B;&amp;#x8F7D;&amp;#x7684;&amp;#x5927;&amp;#x5C0F;&amp;#x3002;&amp;#x8FD9;&amp;#x6837;&amp;#x5C31;&amp;#x786E;&amp;#x5B9A;&amp;#x4E86;&amp;#x4E0B;&amp;#x8F7D;&amp;#x7684;&amp;#x5927;&amp;#x5C0F;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x5C31;&amp;#x662F;&amp;#x5B9A;&amp;#x4F4D;&amp;#x5230;&amp;#x5404;&amp;#x4E2A;&amp;#x7EBF;&amp;#x7A0B;&amp;#x7684;&amp;#x5F00;&amp;#x59CB;&amp;#x4F4D;&amp;#x7F6E;&amp;#x8FDB;&amp;#x884C;&amp;#x4E0B;&amp;#x8F7D;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;RandomAccessFile&lt;/code&gt;&amp;#x6765;&amp;#x8FFD;&amp;#x8E2A;&amp;#x5B9A;&amp;#x4F4D;&amp;#x5230;&amp;#x8981;&amp;#x4E0B;&amp;#x8F7D;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#xFF0C;&amp;#x5B83;&amp;#x7684;&lt;code&gt;seek()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x53EF;&amp;#x4EE5;&amp;#x8FDB;&amp;#x884C;&amp;#x5B9A;&amp;#x4F4D;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x662F;&amp;#x8BE6;&amp;#x7EC6;&amp;#x4EE3;&amp;#x7801;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public void download() throws Exception {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    URL url = new URL(path);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    HttpURLConnection conn = (HttpURLConnection) url.openConnection();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    conn.setRequestMethod(&amp;quot;GET&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    conn.setConnectTimeout(5000);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    conn.setRequestProperty(&amp;quot;Accept-Language&amp;quot;, &amp;quot;zh-CN&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    conn.setRequestProperty(&amp;quot;Charset&amp;quot;, &amp;quot;UTF-8&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    conn.setRequestProperty(&amp;quot;Connection&amp;quot;, &amp;quot;Keep-Alive&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fileSize = conn.getContentLength();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    conn.disconnect();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x9700;&amp;#x8981;&amp;#x4E0B;&amp;#x8F7D;&amp;#x7684;&amp;#x5927;&amp;#x5C0F;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    int currentPartSize = fileSize / threadNum + 1;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    RandomAccessFile file = new RandomAccessFile(targetFile, &amp;quot;rw&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x8BBE;&amp;#x7F6E;&amp;#x672C;&amp;#x5730;&amp;#x6587;&amp;#x4EF6;&amp;#x5927;&amp;#x5C0F;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    file.setLength(fileSize);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    file.close();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    for (int i = 0; i &amp;lt; threadNum; i++) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x4E0B;&amp;#x8F7D;&amp;#x5F00;&amp;#x59CB;&amp;#x4F4D;&amp;#x7F6E;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int startPos = i * currentPartSize;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        RandomAccessFile currentPart = new RandomAccessFile(targetFile, &amp;quot;rw&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x5B9A;&amp;#x4F4D;&amp;#x5230;&amp;#x4E0B;&amp;#x8F7D;&amp;#x4F4D;&amp;#x7F6E;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        currentPart.seek(startPos);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x4E0B;&amp;#x8F7D;&amp;#x7EBF;&amp;#x7A0B;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        downThreads[i] = new DownThread(startPos, currentPartSize, currentPart);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        downThreads[i].start();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E0B;&amp;#x8F7D;&quot;&gt;&lt;a href=&quot;#&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E0B;&amp;#x8F7D;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E0B;&amp;#x8F7D;&quot;&gt;&lt;/a&gt;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E0B;&amp;#x8F7D;&lt;/h1&gt;&lt;p&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x5C31;&amp;#x662F;&amp;#x5404;&amp;#x4E2A;&amp;#x7EBF;&amp;#x7A0B;&amp;#x7684;&amp;#x4E0B;&amp;#x8F7D;&lt;code&gt;DownThread&lt;/code&gt;&amp;#xFF0C;&amp;#x4E0A;&amp;#x9762;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5F97;&amp;#x5230;&amp;#x4E86;&amp;#x5404;&amp;#x4E2A;&amp;#x7EBF;&amp;#x7A0B;&amp;#x8981;&amp;#x4E0B;&amp;#x8F7D;&amp;#x7684;&amp;#x521D;&amp;#x59CB;&amp;#x4F4D;&amp;#x7F6E;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x83B7;&amp;#x53D6;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x8F93;&amp;#x5165;&amp;#x6D41;&lt;code&gt;InputStream&lt;/code&gt;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;skip()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x8DF3;&amp;#x8DC3;&amp;#x5230;&amp;#x6307;&amp;#x5B9A;&amp;#x4F4D;&amp;#x7F6E;&amp;#x8FDB;&amp;#x884C;&amp;#x8BFB;&amp;#x53D6;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x518D;&amp;#x5199;&amp;#x5165;&amp;#x5230;&lt;code&gt;RandomAccessFile&lt;/code&gt;&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;    public DownThread(int startPos, int currentPartSize, RandomAccessFile currentPart) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        this.startPos = startPos;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        this.currentPartSize = currentPartSize;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        this.currentPart = currentPart;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public void run() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            URL url = new URL(path);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            HttpURLConnection conn = (HttpURLConnection) url.openConnection();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            conn.setRequestMethod(&amp;quot;GET&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            conn.setConnectTimeout(5000);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            conn.setRequestProperty(&amp;quot;Accept-Language&amp;quot;, &amp;quot;zh-CN&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            conn.setRequestProperty(&amp;quot;Charset&amp;quot;, &amp;quot;UTF-8&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            InputStream in = conn.getInputStream();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            skipFully(in, startPos);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            byte[] buffer = new byte[1024];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            int hasRead = 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            while ((hasRead = in.read(buffer)) &amp;gt; 0 &amp;amp;&amp;amp; length &amp;lt; currentPartSize) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                currentPart.write(buffer, 0, hasRead);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                length += hasRead;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            currentPart.close();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            in.close();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } catch (Exception e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            e.printStackTrace();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x6837;&amp;#x5C31;&amp;#x5B8C;&amp;#x6210;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x591A;&amp;#x7EBF;&amp;#x7A0B;&amp;#x7684;&amp;#x4E0B;&amp;#x8F7D;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x8C03;&amp;#x7528;&amp;#x5C01;&amp;#x88C5;&amp;#x7C7B;&lt;code&gt;DownUtil&lt;/code&gt;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x8FDB;&amp;#x884C;&amp;#x591A;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E0B;&amp;#x8F7D;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x7ED3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;/a&gt;&amp;#x603B;&amp;#x7ED3;&lt;/h1&gt;&lt;p&gt;&amp;#x591A;&amp;#x7EBF;&amp;#x7A0B;&amp;#x7684;&amp;#x5173;&amp;#x952E;&amp;#x5C31;&amp;#x662F;&amp;#x5206;&amp;#x914D;&amp;#x597D;&amp;#x9700;&amp;#x8981;&amp;#x4E0B;&amp;#x8F7D;&amp;#x7684;&amp;#x8FDB;&amp;#x7A0B;&amp;#xFF0C;&amp;#x5B9A;&amp;#x4F4D;&amp;#x8FDB;&amp;#x7A0B;&amp;#x4E0B;&amp;#x8F7D;&amp;#x7684;&amp;#x51C6;&amp;#x786E;&amp;#x4F4D;&amp;#x7F6E;&amp;#xFF0C;&amp;#x83B7;&amp;#x53D6;&amp;#x8F93;&amp;#x5165;&amp;#x6D41;&amp;#x8BFB;&amp;#x53D6;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x5199;&amp;#x5165;&amp;#x5230;&amp;#x6587;&amp;#x4EF6;&amp;#x7684;&amp;#x76F8;&amp;#x5E94;&amp;#x4F4D;&amp;#x7F6E;&amp;#x3002;&amp;#x53EF;&amp;#x4EE5;&amp;#x501F;&amp;#x52A9;&lt;code&gt;RandomAccessFile&lt;/code&gt;&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x5B9A;&amp;#x4F4D;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5F53;&amp;#x7136;&amp;#x4E5F;&amp;#x5E76;&amp;#x975E;&amp;#x5F00;&amp;#x7684;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6570;&amp;#x8D8A;&amp;#x591A;&amp;#x4E0B;&amp;#x8F7D;&amp;#x7684;&amp;#x901F;&amp;#x5EA6;&amp;#x4E5F;&amp;#x5C31;&amp;#x8D8A;&amp;#x5FEB;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x7EBF;&amp;#x7A0B;&amp;#x8D8A;&amp;#x591A;&amp;#x5BF9;&amp;#x4E8E;&amp;#x7A0B;&amp;#x5E8F;&amp;#x5904;&amp;#x7406;&amp;#x8FD9;&amp;#x4E9B;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E5F;&amp;#x662F;&amp;#x4E00;&amp;#x79CD;&amp;#x8D1F;&amp;#x62C5;&amp;#xFF0C;&amp;#x8FC7;&amp;#x591A;&amp;#x7684;&amp;#x8BDD;&amp;#x53CD;&amp;#x800C;&amp;#x4F1A;&amp;#x964D;&amp;#x4F4E;&amp;#x4E0B;&amp;#x8F7D;&amp;#x7684;&amp;#x901F;&amp;#x5EA6;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8981;&amp;#x5408;&amp;#x7406;&amp;#x8FD0;&amp;#x7528;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x8F6C;&amp;#x8F7D;&amp;#x8BF7;&amp;#x6307;&amp;#x660E;&amp;#x51FA;&amp;#x5904; idisfkj&amp;#x535A;&amp;#x5BA2;&amp;#xFF1A;&lt;a href=&quot;https://idisfkj.github.io&quot;&gt;https://idisfkj.github.io&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;&amp;#x539F;&amp;#x7406;&quot;&gt;&lt;a href=&quot;#&amp;#x539F;&amp;#x7406;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x539F;&amp;#x7406;&quot;&gt;&lt;/a&gt;&amp;#x539F;&amp;#x7406;&lt;/h1&gt;&lt;p&gt;&amp;#x591A;&amp;#x7EB
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="多线程" scheme="https://idisfkj.github.io/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>七大排序算法总结</title>
    <link href="https://idisfkj.github.io/2016/06/19/%E4%B8%83%E5%A4%A7%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/"/>
    <id>https://idisfkj.github.io/2016/06/19/七大排序算法总结/</id>
    <published>2016-06-19T09:02:44.000Z</published>
    <updated>2016-07-30T14:40:38.000Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x524D;&amp;#x9762;&amp;#x4ECB;&amp;#x7ECD;&amp;#x4E86;&amp;#x4E03;&amp;#x5927;&amp;#x7B97;&amp;#x6CD5;&amp;#x7684;&amp;#x601D;&amp;#x60F3;&amp;#x4E0E;&amp;#x5B9E;&amp;#x73B0;&amp;#x6B65;&amp;#x9AA4;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x6765;&amp;#x505A;&amp;#x4E00;&amp;#x4E2A;&amp;#x5F52;&amp;#x603B;&amp;#x3002;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:center&quot;&gt;&amp;#x6392;&amp;#x5E8F;&amp;#x65B9;&amp;#x6CD5;&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;&amp;#x5E73;&amp;#x5747;&amp;#x590D;&amp;#x6742;&amp;#x5EA6;&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;&amp;#x6700;&amp;#x574F;&amp;#x590D;&amp;#x6742;&amp;#x5EA6;&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;&amp;#x6700;&amp;#x597D;&amp;#x590D;&amp;#x6742;&amp;#x5EA6;&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;&amp;#x8F85;&amp;#x52A9;&amp;#x7A7A;&amp;#x95F4;&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;&amp;#x7A33;&amp;#x5B9A;&amp;#x6027;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;#x76F4;&amp;#x63A5;&amp;#x9009;&amp;#x62E9;&amp;#x6392;&amp;#x5E8F;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(n^2)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(n^2)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(n^2)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(1)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;#x7A33;&amp;#x5B9A;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;#x5192;&amp;#x6CE1;&amp;#x6392;&amp;#x5E8F;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(n^2)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(n^2)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(n^2)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(1)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;#x7A33;&amp;#x5B9A;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;#x76F4;&amp;#x63A5;&amp;#x63D2;&amp;#x5165;&amp;#x6392;&amp;#x5E8F;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(n^2)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(n^2)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(n^2)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(1)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;#x7A33;&amp;#x5B9A;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;#x5F52;&amp;#x5E76;&amp;#x6392;&amp;#x5E8F;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(nlogn)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(nlogn)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(nlogn)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(n)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;#x7A33;&amp;#x5B9A;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(nlogn)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(n^2)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(nlogn)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(1)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;#x4E0D;&amp;#x7A33;&amp;#x5B9A;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;#x5E0C;&amp;#x5C14;&amp;#x6392;&amp;#x5E8F;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(nlogn)~O(n^2)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(n^1.3)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(n^2)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(logn)~O(n)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;#x4E0D;&amp;#x7A33;&amp;#x5B9A;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;#x5806;&amp;#x6392;&amp;#x5E8F;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(nlogn)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(nlogn)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(nlogn)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;O(1)&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&amp;#x4E0D;&amp;#x7A33;&amp;#x5B9A;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&quot;&amp;#x76F4;&amp;#x63A5;&amp;#x9009;&amp;#x62E9;&amp;#x6392;&amp;#x5E8F;&quot;&gt;&lt;a href=&quot;#&amp;#x76F4;&amp;#x63A5;&amp;#x9009;&amp;#x62E9;&amp;#x6392;&amp;#x5E8F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x76F4;&amp;#x63A5;&amp;#x9009;&amp;#x62E9;&amp;#x6392;&amp;#x5E8F;&quot;&gt;&lt;/a&gt;&amp;#x76F4;&amp;#x63A5;&amp;#x9009;&amp;#x62E9;&amp;#x6392;&amp;#x5E8F;&lt;/h1&gt;&lt;h2 id=&quot;&amp;#x601D;&amp;#x60F3;&quot;&gt;&lt;a href=&quot;#&amp;#x601D;&amp;#x60F3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x601D;&amp;#x60F3;&quot;&gt;&lt;/a&gt;&amp;#x601D;&amp;#x60F3;&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://idisfkj.github.io/2016/06/18/%E7%AE%97%E6%B3%95-%E4%B8%80-%E7%9B%B4%E6%8E%A5%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F/&quot;&gt;&amp;#x76F4;&amp;#x63A5;&amp;#x9009;&amp;#x62E9;&amp;#x6392;&amp;#x5E8F;&lt;/a&gt;&amp;#xFF0C;&amp;#x6574;&amp;#x4F53;&amp;#x601D;&amp;#x60F3;&amp;#x662F;&amp;#x5C06;&amp;#x6570;&amp;#x636E;&amp;#x5206;&amp;#x6210;&amp;#x4E24;&amp;#x4E2A;&amp;#x533A;&amp;#x57DF;&amp;#xFF0C;&lt;code&gt;&amp;#x6709;&amp;#x5E8F;&amp;#x533A;&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;&amp;#x65E0;&amp;#x5E8F;&amp;#x533A;&lt;/code&gt;&amp;#x3002;&amp;#x6392;&amp;#x5E8F;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x662F;&amp;#x6BCF;&amp;#x6B21;&amp;#x4ECE;&lt;code&gt;&amp;#x65E0;&amp;#x5E8F;&amp;#x533A;&lt;/code&gt;&amp;#x4E2D;&amp;#x9009;&amp;#x62E9;&amp;#x51FA;&amp;#x6700;&amp;#x5C0F;&amp;#x7684;&amp;#x6570;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x63D2;&amp;#x5165;&amp;#x5230;&lt;code&gt;&amp;#x6709;&amp;#x5E8F;&amp;#x533A;&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x6700;&amp;#x672B;&amp;#x5C3E;&amp;#xFF0C;&amp;#x4ECE;&amp;#x800C;&amp;#x5F62;&amp;#x6210;&amp;#x66F4;&amp;#x5927;&amp;#x7684;&lt;code&gt;&amp;#x6709;&amp;#x5E8F;&amp;#x533A;&lt;/code&gt;&amp;#x3002;&amp;#x76F4;&amp;#x5230;&lt;code&gt;&amp;#x65E0;&amp;#x5E8F;&amp;#x533A;&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x6570;&amp;#x4E3A;&amp;#x96F6;&amp;#xFF0C;&amp;#x7ED3;&amp;#x675F;&amp;#x6392;&amp;#x5E8F;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x6B65;&amp;#x9AA4;&quot;&gt;&lt;a href=&quot;#&amp;#x6B65;&amp;#x9AA4;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6B65;&amp;#x9AA4;&quot;&gt;&lt;/a&gt;&amp;#x6B65;&amp;#x9AA4;&lt;/h2&gt;&lt;p&gt;&amp;#x5047;&amp;#x8BBE;&amp;#x6392;&amp;#x5E8F;&amp;#x6570;&amp;#x7EC4;&amp;#x4E3A;a[0&amp;#x2026;n-1];&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&amp;#x9996;&amp;#x5148;&lt;code&gt;&amp;#x6709;&amp;#x5E8F;&amp;#x533A;&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x4E2A;&amp;#x6570;&amp;#x4E3A;0&amp;#xFF0C;&amp;#x4EE4;&lt;code&gt;i = 0&lt;/code&gt;&amp;#x3002;&amp;#x4ECE;&lt;code&gt;&amp;#x65E0;&amp;#x5E8F;&amp;#x533A;&lt;/code&gt;&amp;#x4E2D;&amp;#x9009;&amp;#x62E9;&amp;#x6700;&amp;#x5C0F;&amp;#x7684;&amp;#x6570;&amp;#xFF0C;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&lt;code&gt;&amp;#x6709;&amp;#x5E8F;&amp;#x533A;a[i]&lt;/code&gt;&amp;#x4E2D;&amp;#x3002;&amp;#x4F7F;&amp;#x5F97;&lt;code&gt;&amp;#x6709;&amp;#x5E8F;&amp;#x533A;&lt;/code&gt;&amp;#x4E3A;&lt;code&gt;a[0..i]&lt;/code&gt;,&lt;code&gt;&amp;#x65E0;&amp;#x5E8F;&amp;#x533A;&lt;/code&gt;&amp;#x4E3A;&lt;code&gt;a[i...n-1]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&amp;#x5B8C;&amp;#x6210;&amp;#x540E; &lt;code&gt;i++&lt;/code&gt; ,&amp;#x7136;&amp;#x540E;&amp;#x7EE7;&amp;#x7EED;&amp;#x524D;&amp;#x9762;&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&amp;#xFF0C;&amp;#x76F4;&amp;#x5230; &lt;code&gt;i = n-1&lt;/code&gt; &amp;#x4E3A;&amp;#x6B62;&amp;#x3002;&amp;#x4F7F;&amp;#x5F97;&amp;#x5168;&amp;#x90E8;&amp;#x6570;&amp;#x90FD;&amp;#x5728;&lt;code&gt;&amp;#x6709;&amp;#x5E8F;&amp;#x533A;&lt;/code&gt;&amp;#x4E2D;&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;&amp;#x5192;&amp;#x6CE1;&amp;#x6392;&amp;#x5E8F;&quot;&gt;&lt;a href=&quot;#&amp;#x5192;&amp;#x6CE1;&amp;#x6392;&amp;#x5E8F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5192;&amp;#x6CE1;&amp;#x6392;&amp;#x5E8F;&quot;&gt;&lt;/a&gt;&amp;#x5192;&amp;#x6CE1;&amp;#x6392;&amp;#x5E8F;&lt;/h1&gt;&lt;h2 id=&quot;&amp;#x601D;&amp;#x60F3;-1&quot;&gt;&lt;a href=&quot;#&amp;#x601D;&amp;#x60F3;-1&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x601D;&amp;#x60F3;&quot;&gt;&lt;/a&gt;&amp;#x601D;&amp;#x60F3;&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://idisfkj.github.io/2016/06/18/%E7%AE%97%E6%B3%95-%E4%BA%8C-%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F/&quot;&gt;&amp;#x5192;&amp;#x6CE1;&amp;#x6392;&amp;#x5E8F;&lt;/a&gt;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x76F8;&amp;#x90BB;&amp;#x7684;&amp;#x4E24;&amp;#x4E2A;&amp;#x6570;&amp;#x4E24;&amp;#x4E24;&amp;#x8FDB;&amp;#x884C;&amp;#x6BD4;&amp;#x8F83;&amp;#xFF0C;&amp;#x62FF;&amp;#x4ECE;&amp;#x5C0F;&amp;#x5230;&amp;#x5927;&amp;#x8BF4;&amp;#x660E;&amp;#xFF0C;&amp;#x8FDB;&amp;#x884C;&amp;#x5192;&amp;#x6CE1;&amp;#x6392;&amp;#x5E8F;&amp;#x540E;&amp;#x4F1A;&amp;#x5C06;&amp;#x5927;&amp;#x7684;&amp;#x6570;&lt;code&gt;&amp;#x6C89;&lt;/code&gt;&amp;#x5230;&amp;#x5E95;&amp;#x90E8;&amp;#xFF0C;&amp;#x5C06;&amp;#x5C0F;&amp;#x5F97;&amp;#x6570;&lt;code&gt;&amp;#x6D6E;&lt;/code&gt;&amp;#x5230;&amp;#x9876;&amp;#x90E8;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x5192;&amp;#x6CE1;&amp;#x8BF4;&amp;#x6CD5;&amp;#x7531;&amp;#x6B64;&amp;#x5F97;&amp;#x540D;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x6B65;&amp;#x9AA4;-1&quot;&gt;&lt;a href=&quot;#&amp;#x6B65;&amp;#x9AA4;-1&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6B65;&amp;#x9AA4;&quot;&gt;&lt;/a&gt;&amp;#x6B65;&amp;#x9AA4;&lt;/h2&gt;&lt;p&gt;&amp;#x4EE5;&amp;#x4ECE;&amp;#x5C0F;&amp;#x5230;&amp;#x5927;&amp;#x4E3A;&amp;#x4F8B;&amp;#xFF0C;&amp;#x6392;&amp;#x5E8F;&amp;#x6570;&amp;#x7EC4;&amp;#x5927;&amp;#x5C0F;&amp;#x4E3A;&lt;code&gt;n&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&amp;#x7B2C;&lt;code&gt;N = 0&lt;/code&gt;&amp;#x8D9F;&amp;#x6392;&amp;#x5E8F;&amp;#x5F00;&amp;#x59CB;&amp;#x90FD;&amp;#x4ECE;&lt;code&gt;a[0]&lt;/code&gt;&amp;#x5F00;&amp;#x59CB;&amp;#x4E0E;&amp;#x5176;&amp;#x4E0B;&amp;#x9762;&amp;#x7684;&amp;#x76F8;&amp;#x90BB;&amp;#x7684;&amp;#x6570;&amp;#x8FDB;&amp;#x884C;&amp;#x6BD4;&amp;#x8F83;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x5927;&amp;#x4E8E;&amp;#x76F8;&amp;#x90BB;&amp;#x7684;&amp;#x6570;&amp;#x5219;&amp;#x4EA4;&amp;#x6362;&amp;#x4ED6;&amp;#x4EEC;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x7EE7;&amp;#x7EED;&amp;#x4E0E;&amp;#x4E0B;&amp;#x4E00;&amp;#x4E2A;&amp;#x76F8;&amp;#x90BB;&amp;#x7684;&amp;#x6570;&amp;#x8FDB;&amp;#x884C;&amp;#x6BD4;&amp;#x8F83;&amp;#xFF0C;&amp;#x5927;&amp;#x4E8E;&amp;#x76F8;&amp;#x90BB;&amp;#x7684;&amp;#x5C31;&amp;#x4EA4;&amp;#x6362;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x8FDB;&amp;#x884C;&amp;#x6BD4;&amp;#x8F83;&lt;code&gt;n-1&lt;/code&gt;&amp;#x6B21;&amp;#x540E;&amp;#xFF0C;&amp;#x7B2C;&lt;code&gt;N = 0&lt;/code&gt;&amp;#x8D9F;&amp;#x6392;&amp;#x5E8F;&amp;#x7ED3;&amp;#x675F;&amp;#xFF0C;&amp;#x6700;&amp;#x5927;&amp;#x7684;&amp;#x6570;&amp;#x5C31;&amp;#x5728;&amp;#x6570;&amp;#x7EC4;&amp;#x7684;&lt;code&gt;a[n-1]&lt;/code&gt;&amp;#x5904;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x91CD;&amp;#x590D;&amp;#x524D;&amp;#x9762;&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&amp;#xFF0C;&amp;#x76F4;&amp;#x5230; &lt;code&gt;N = n-1&lt;/code&gt;,&amp;#x6392;&amp;#x5E8F;&amp;#x7ED3;&amp;#x675F;&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;&amp;#x76F4;&amp;#x63A5;&amp;#x63D2;&amp;#x5165;&amp;#x6392;&amp;#x5E8F;&quot;&gt;&lt;a href=&quot;#&amp;#x76F4;&amp;#x63A5;&amp;#x63D2;&amp;#x5165;&amp;#x6392;&amp;#x5E8F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x76F4;&amp;#x63A5;&amp;#x63D2;&amp;#x5165;&amp;#x6392;&amp;#x5E8F;&quot;&gt;&lt;/a&gt;&amp;#x76F4;&amp;#x63A5;&amp;#x63D2;&amp;#x5165;&amp;#x6392;&amp;#x5E8F;&lt;/h1&gt;&lt;h2 id=&quot;&amp;#x601D;&amp;#x60F3;-2&quot;&gt;&lt;a href=&quot;#&amp;#x601D;&amp;#x60F3;-2&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x601D;&amp;#x60F3;&quot;&gt;&lt;/a&gt;&amp;#x601D;&amp;#x60F3;&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://idisfkj.github.io/2016/06/18/%E7%AE%97%E6%B3%95-%E4%B8%89-%E7%9B%B4%E6%8E%A5%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F/&quot;&gt;&amp;#x76F4;&amp;#x63A5;&amp;#x63D2;&amp;#x5165;&amp;#x6392;&amp;#x5E8F;&lt;/a&gt;&amp;#x7684;&amp;#x57FA;&amp;#x672C;&amp;#x601D;&amp;#x60F3;&amp;#x662F;:&lt;code&gt;&amp;#x5C06;&amp;#x9700;&amp;#x8981;&amp;#x6392;&amp;#x5E8F;&amp;#x7684;&amp;#x5173;&amp;#x952E;&amp;#x6570;&amp;#x4E0E;&amp;#x524D;&amp;#x9762;&amp;#x5DF2;&amp;#x7ECF;&amp;#x6392;&amp;#x597D;&amp;#x5E8F;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x4ECE;&amp;#x540E;&amp;#x5F80;&amp;#x524D;&amp;#x8FDB;&amp;#x884C;&amp;#x6BD4;&amp;#x8F83;&amp;#xFF0C;&amp;#x4F7F;&amp;#x5176;&amp;#x63D2;&amp;#x5165;&amp;#x5230;&amp;#x5408;&amp;#x9002;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x6B65;&amp;#x9AA4;-2&quot;&gt;&lt;a href=&quot;#&amp;#x6B65;&amp;#x9AA4;-2&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6B65;&amp;#x9AA4;&quot;&gt;&lt;/a&gt;&amp;#x6B65;&amp;#x9AA4;&lt;/h2&gt;&lt;p&gt;&amp;#x6392;&amp;#x5E8F;&amp;#x6570;&amp;#x7EC4;&amp;#x4E3A;&lt;code&gt;a[0...n]&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&amp;#x5C06;&lt;code&gt;a[0]&lt;/code&gt;&amp;#x4F5C;&amp;#x4E3A;&amp;#x8D77;&amp;#x59CB;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x4ECE;&lt;code&gt;a[1]&lt;/code&gt;&amp;#x5F00;&amp;#x59CB;&amp;#x4F5C;&amp;#x4E3A;&amp;#x5173;&amp;#x952E;&amp;#x5B57;&amp;#x5411;&amp;#x524D;&amp;#x8FDB;&amp;#x884C;&amp;#x6BD4;&amp;#x8F83;&amp;#xFF0C;&amp;#x82E5;&amp;#x5C0F;&amp;#x4E8E;&amp;#x524D;&amp;#x9762;&amp;#x6240;&amp;#x9047;&amp;#x5230;&amp;#x7684;&amp;#x6BD4;&amp;#x8F83;&amp;#x6570;&amp;#xFF0C;&amp;#x5219;&amp;#x4EA4;&amp;#x6362;&amp;#x4E24;&amp;#x4E2A;&amp;#x6BD4;&amp;#x8F83;&amp;#x6570;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#xFF0C;&amp;#x5426;&amp;#x5219;&amp;#x76F4;&amp;#x63A5;&amp;#x8FDB;&amp;#x884C;&amp;#x4E0B;&amp;#x4E00;&amp;#x4E2A;&amp;#x5173;&amp;#x952E;&amp;#x5B57;&amp;#x7684;&amp;#x6BD4;&amp;#x8F83;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x91CD;&amp;#x590D;&amp;#x524D;&amp;#x9762;&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&amp;#xFF0C;&amp;#x76F4;&amp;#x5230;&amp;#x5C06;&lt;code&gt;a[n]&lt;/code&gt;&amp;#x4F5C;&amp;#x4E3A;&amp;#x5173;&amp;#x952E;&amp;#x5B57;&amp;#x8FDB;&amp;#x884C;&amp;#x6BD4;&amp;#x8F83;&amp;#x3002;&amp;#x6BD4;&amp;#x8F83;&amp;#x5B8C;&amp;#x4EE5;&amp;#x540E;&amp;#x5219;&amp;#x6392;&amp;#x5E8F;&amp;#x7ED3;&amp;#x675F;&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;&amp;#x5F52;&amp;#x5E76;&amp;#x6392;&amp;#x5E8F;&quot;&gt;&lt;a href=&quot;#&amp;#x5F52;&amp;#x5E76;&amp;#x6392;&amp;#x5E8F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5F52;&amp;#x5E76;&amp;#x6392;&amp;#x5E8F;&quot;&gt;&lt;/a&gt;&amp;#x5F52;&amp;#x5E76;&amp;#x6392;&amp;#x5E8F;&lt;/h1&gt;&lt;h2 id=&quot;&amp;#x601D;&amp;#x60F3;-3&quot;&gt;&lt;a href=&quot;#&amp;#x601D;&amp;#x60F3;-3&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x601D;&amp;#x60F3;&quot;&gt;&lt;/a&gt;&amp;#x601D;&amp;#x60F3;&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://idisfkj.github.io/2016/06/18/%E7%AE%97%E6%B3%95-%E5%9B%9B-%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/&quot;&gt;&amp;#x5F52;&amp;#x5E76;&amp;#x6392;&amp;#x5E8F;&lt;/a&gt;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x6548;&amp;#x7387;&amp;#x76F8;&amp;#x5BF9;&amp;#x8F83;&amp;#x9AD8;&amp;#x7684;&amp;#x6392;&amp;#x5E8F;&amp;#x7B97;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5B83;&amp;#x91C7;&amp;#x7528;&amp;#x7684;&amp;#x662F;&lt;code&gt;&amp;#x5206;&amp;#x6CBB;&amp;#x7684;&amp;#x601D;&amp;#x60F3;&lt;/code&gt;&amp;#xFF0C;&amp;#x5C06;&amp;#x5F85;&amp;#x6392;&amp;#x5E8F;&amp;#x7684;&amp;#x5E8F;&amp;#x5217;&amp;#x5206;&amp;#x6210;&amp;#x82E5;&amp;#x5E72;&amp;#x7EC4;&amp;#xFF0C;&amp;#x4FDD;&amp;#x8BC1;&amp;#x6BCF;&amp;#x7EC4;&amp;#x90FD;&amp;#x6709;&amp;#x5E8F;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x518D;&amp;#x8FDB;&amp;#x884C;&amp;#x5408;&amp;#x5E76;&amp;#x6392;&amp;#x5E8F;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x4F7F;&amp;#x6574;&amp;#x4E2A;&amp;#x5E8F;&amp;#x5217;&amp;#x6709;&amp;#x5E8F;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x6B65;&amp;#x9AA4;-3&quot;&gt;&lt;a href=&quot;#&amp;#x6B65;&amp;#x9AA4;-3&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6B65;&amp;#x9AA4;&quot;&gt;&lt;/a&gt;&amp;#x6B65;&amp;#x9AA4;&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&amp;#x5C06;&amp;#x5F85;&amp;#x6392;&amp;#x5E8F;&amp;#x7684;&amp;#x5E8F;&amp;#x5217;&amp;#x91C7;&amp;#x7528;&lt;code&gt;&amp;#x5206;&amp;#x6CBB;&amp;#x601D;&amp;#x60F3;&lt;/code&gt;&amp;#x5C06;&amp;#x5176;&amp;#x5212;&amp;#x5206;&amp;#x6210;&amp;#x82E5;&amp;#x5E72;&amp;#x7EC4;&amp;#xFF0C;&amp;#x4F7F;&amp;#x5176;&amp;#x6709;&amp;#x5E8F;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x53EF;&amp;#x91C7;&amp;#x7528;&amp;#x9012;&amp;#x5F52;&amp;#x8FDB;&amp;#x884C;&amp;#x5212;&amp;#x5206;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x5C06;&amp;#x6709;&amp;#x5E8F;&amp;#x7684;&amp;#x7EC4;&amp;#x5206;&amp;#x522B;&amp;#x8FDB;&amp;#x884C;&amp;#x5F52;&amp;#x5E76;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x501F;&amp;#x52A9;&amp;#x4E00;&amp;#x4E2A;&amp;#x8F85;&amp;#x52A9;&amp;#x6570;&amp;#x7EC4;&amp;#xFF0C;&amp;#x5C06;&amp;#x5DE6;&amp;#x53F3;&amp;#x5212;&amp;#x5206;&amp;#x7684;&amp;#x6709;&amp;#x5E8F;&amp;#x7EC4;&amp;#x4ECE;&amp;#x5934;&amp;#x5F00;&amp;#x59CB;&amp;#x8FDB;&amp;#x884C;&amp;#x6BD4;&amp;#x8F83;&amp;#xFF0C;&amp;#x5C06;&amp;#x8F83;&amp;#x5C0F;&amp;#x7684;&amp;#x6570;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x8F85;&amp;#x52A9;&amp;#x6570;&amp;#x7EC4;&amp;#x4E2D;&amp;#xFF0C;&amp;#x4E14;&amp;#x8F83;&amp;#x5C0F;&amp;#x7684;&amp;#x6240;&amp;#x5728;&amp;#x6709;&amp;#x5E8F;&amp;#x6570;&amp;#x7EC4;&amp;#x5411;&amp;#x540E;&amp;#x81EA;&amp;#x589E;&amp;#xFF0C;&amp;#x518D;&amp;#x4E0E;&amp;#x539F;&amp;#x6765;&amp;#x6BD4;&amp;#x8F83;&amp;#x7684;&amp;#x6570;&amp;#x8FDB;&amp;#x884C;&amp;#x6BD4;&amp;#x8F83;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x91CD;&amp;#x590D;&amp;#x4E0A;&amp;#x9762;&lt;code&gt;2&lt;/code&gt;&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&amp;#xFF0C;&amp;#x76F4;&amp;#x5230;&amp;#x6240;&amp;#x6709;&amp;#x6570;&amp;#x636E;&amp;#x6BD4;&amp;#x8F83;&amp;#x5B8C;&amp;#x6BD5;&amp;#xFF0C;&amp;#x6216;&amp;#x8005;&amp;#x5C06;&amp;#x8FD8;&amp;#x6709;&amp;#x5269;&amp;#x4F59;&amp;#x6570;&amp;#x672A;&amp;#x6BD4;&amp;#x8F83;&amp;#x7684;&amp;#x6709;&amp;#x5E8F;&amp;#x6570;&amp;#x636E;&amp;#x76F4;&amp;#x63A5;&amp;#x6309;&amp;#x539F;&amp;#x6709;&amp;#x7684;&amp;#x987A;&amp;#x5E8F;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x8F85;&amp;#x52A9;&amp;#x6570;&amp;#x7EC4;&amp;#x4E2D;,&amp;#x6700;&amp;#x540E;&amp;#x5C06;&amp;#x5DF2;&amp;#x7ECF;&amp;#x6392;&amp;#x597D;&amp;#x5E8F;&amp;#x7684;&amp;#x8F85;&amp;#x52A9;&amp;#x6570;&amp;#x7EC4;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x539F;&amp;#x6709;&amp;#x6570;&amp;#x7EC4;&amp;#x7684;&amp;#x76F8;&amp;#x5E94;&amp;#x4F4D;&amp;#x7F6E;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x91CD;&amp;#x590D;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&lt;code&gt;2&lt;/code&gt;&amp;#x3001;&lt;code&gt;3&lt;/code&gt;&amp;#x6B65;&amp;#x9AA4;&amp;#xFF0C;&amp;#x76F4;&amp;#x5230;&amp;#x6240;&amp;#x6709;&amp;#x7684;&amp;#x5DE6;&amp;#x53F3;&amp;#x5212;&amp;#x5206;&amp;#x5F52;&amp;#x5E76;&amp;#x5B8C;&amp;#x6BD5;&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&quot;&gt;&lt;a href=&quot;#&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&quot;&gt;&lt;/a&gt;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&lt;/h1&gt;&lt;h2 id=&quot;&amp;#x601D;&amp;#x60F3;-4&quot;&gt;&lt;a href=&quot;#&amp;#x601D;&amp;#x60F3;-4&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x601D;&amp;#x60F3;&quot;&gt;&lt;/a&gt;&amp;#x601D;&amp;#x60F3;&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://idisfkj.github.io/2016/06/18/%E7%AE%97%E6%B3%95-%E4%BA%94-%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/&quot;&gt;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&lt;/a&gt;&amp;#x7684;&amp;#x4E3B;&amp;#x8981;&amp;#x601D;&amp;#x60F3;&amp;#x662F;&amp;#xFF1A;&lt;code&gt;&amp;#x5C06;&amp;#x4E00;&amp;#x4E2A;&amp;#x5F85;&amp;#x6392;&amp;#x5E8F;&amp;#x5E8F;&amp;#x5217;&amp;#x5206;&amp;#x6210;&amp;#x4E24;&amp;#x4E2A;&amp;#x90E8;&amp;#x5206;&amp;#xFF0C;&amp;#x4EE5;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&amp;#x4E00;&amp;#x4E2A;&amp;#x6570;&amp;#x636E;&amp;#x4F5C;&amp;#x4E3A;&amp;#x5206;&amp;#x754C;&amp;#x7EBF;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x4E00;&amp;#x90E8;&amp;#x5206;&amp;#x5C0F;&amp;#x4E8E;&amp;#x8FD9;&amp;#x4E2A;&amp;#x5206;&amp;#x754C;&amp;#x7EBF;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x53E6;&amp;#x4E00;&amp;#x90E8;&amp;#x5206;&amp;#x5927;&amp;#x4E8E;&amp;#x8FD9;&amp;#x4E2A;&amp;#x5206;&amp;#x754C;&amp;#x7EBF;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x3002;&amp;#x56E0;&amp;#x4E3A;&amp;#x91C7;&amp;#x7528;&amp;#x9012;&amp;#x5F52;&amp;#x7684;&amp;#x601D;&amp;#x60F3;&amp;#xFF0C;&amp;#x518D;&amp;#x5BF9;&amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x5E8F;&amp;#x5217;&amp;#x8FDB;&amp;#x884C;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&amp;#xFF0C;&amp;#x76F4;&amp;#x5230;&amp;#x6240;&amp;#x4EE5;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x90FD;&amp;#x662F;&amp;#x6709;&amp;#x5E8F;&amp;#x7684;&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x6B65;&amp;#x9AA4;-4&quot;&gt;&lt;a href=&quot;#&amp;#x6B65;&amp;#x9AA4;-4&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6B65;&amp;#x9AA4;&quot;&gt;&lt;/a&gt;&amp;#x6B65;&amp;#x9AA4;&lt;/h2&gt;&lt;p&gt;&amp;#x5047;&amp;#x8BBE;&amp;#x5F85;&amp;#x6392;&amp;#x5E8F;&amp;#x7684;&amp;#x6570;&amp;#x7EC4;&amp;#x4E3A;&lt;code&gt;a[0...n-1]&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&amp;#x4E00;&amp;#x822C;&amp;#x90FD;&amp;#x5C06;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#x6570;&lt;code&gt;a[i]&lt;/code&gt; (&lt;code&gt;i = 0&lt;/code&gt;) &amp;#x4F5C;&amp;#x4E3A;&amp;#x5173;&amp;#x952E;&amp;#x6570;&amp;#xFF0C;&amp;#x5373;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&amp;#x7684;&amp;#x5206;&amp;#x754C;&amp;#x6570;&amp;#x3002;&amp;#x5148;&amp;#x4ECE;&amp;#x6570;&amp;#x7EC4;&amp;#x7684;&amp;#x540E;&amp;#x9762;&amp;#x5F00;&amp;#x59CB;&amp;#x5373;&amp;#x521D;&amp;#x503C;&lt;code&gt;j = n-1&lt;/code&gt;&amp;#xFF0C;&amp;#x9010;&amp;#x4E2A;&amp;#x5411;&amp;#x524D;&amp;#x8FDB;&amp;#x884C;&amp;#x904D;&amp;#x5386;&amp;#x4E0E;&amp;#x9009;&amp;#x7684;&amp;#x7684;&amp;#x5173;&amp;#x952E;&amp;#x6570;&amp;#x8FDB;&amp;#x884C;&amp;#x6BD4;&amp;#x8F83;(&lt;code&gt;j--&lt;/code&gt;)&amp;#xFF0C;&amp;#x82E5;&amp;#x5927;&amp;#x4E8E;&amp;#x7B49;&amp;#x4E8E;&amp;#x5173;&amp;#x952E;&amp;#x6570;&amp;#x5219;&amp;#x7EE7;&amp;#x7EED;&amp;#x904D;&amp;#x5386;&amp;#xFF0C;&amp;#x5426;&amp;#x5219;&amp;#x5C06;&amp;#x5176;&amp;#x4E0E;&amp;#x5173;&amp;#x952E;&amp;#x6570;&amp;#x6240;&amp;#x5728;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#x8FDB;&amp;#x884C;&amp;#x4EA4;&amp;#x6362;&amp;#xFF0C;&amp;#x5E76;&amp;#x505C;&amp;#x6B62;&amp;#x904D;&amp;#x5386;&amp;#x4E14;&lt;code&gt;i++&lt;/code&gt;&amp;#x8BB0;&amp;#x5F55;&amp;#x6B64;&amp;#x65F6;&amp;#x7684;&lt;code&gt;i&lt;/code&gt;&amp;#x3001;&lt;code&gt;j&lt;/code&gt;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x505C;&amp;#x6B62;&amp;#x524D;&amp;#x9762;&amp;#x7684;&amp;#x904D;&amp;#x5386;&amp;#xFF0C;&amp;#x518D;&amp;#x4ECE;&amp;#x6570;&amp;#x7EC4;&amp;#x7684;&amp;#x7B2C;&lt;code&gt;i&lt;/code&gt;&amp;#x4E2A;&amp;#x4F4D;&amp;#x7F6E;&amp;#x5F00;&amp;#x59CB;&amp;#x5411;&amp;#x540E;&amp;#x8FDB;&amp;#x884C;&amp;#x904D;&amp;#x5386;&amp;#xFF0C;&amp;#x9010;&amp;#x4E2A;&amp;#x4E0E;&amp;#x5173;&amp;#x952E;&amp;#x6570;&amp;#x8FDB;&amp;#x884C;&amp;#x6BD4;&amp;#x8F83;(&lt;code&gt;i++&lt;/code&gt;)&amp;#xFF0C;&amp;#x82E5;&amp;#x5C0F;&amp;#x4E8E;&amp;#x7B49;&amp;#x4E8E;&amp;#x5173;&amp;#x952E;&amp;#x6570;&amp;#x5219;&amp;#x7EE7;&amp;#x7EED;&amp;#x904D;&amp;#x5386;&amp;#xFF0C;&amp;#x5426;&amp;#x5219;&amp;#x5C06;&amp;#x5176;&amp;#x4E0E;&amp;#x5173;&amp;#x952E;&amp;#x6570;&amp;#x6240;&amp;#x5728;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#x8FDB;&amp;#x884C;&amp;#x4EA4;&amp;#x6362;&amp;#xFF0C;&amp;#x5E76;&amp;#x505C;&amp;#x6B62;&amp;#x904D;&amp;#x5386;&amp;#x4E14;&lt;code&gt;j--&lt;/code&gt;&amp;#x8BB0;&amp;#x5F55;&amp;#x6B64;&amp;#x65F6;&amp;#x7684;&lt;code&gt;i&lt;/code&gt;&amp;#x3001;&lt;code&gt;j&lt;/code&gt;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x91CD;&amp;#x590D;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&amp;#xFF0C;&amp;#x76F4;&amp;#x5230;&lt;code&gt;i==j&lt;/code&gt;&amp;#x5C31;&amp;#x7ED3;&amp;#x675F;&amp;#x672C;&amp;#x6B21;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x6B64;&amp;#x65F6;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5C06;&amp;#x5176;&amp;#x6309;&amp;#x5173;&amp;#x952E;&amp;#x6570;&amp;#x5206;&amp;#x6210;&amp;#x4E24;&amp;#x4E2A;&amp;#x90E8;&amp;#x5206;&amp;#xFF0C;&amp;#x518D;&amp;#x91CD;&amp;#x590D;&amp;#x524D;&amp;#x9762;&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&amp;#xFF0C;&amp;#x5BF9;&amp;#x5212;&amp;#x5206;&amp;#x7684;&amp;#x90E8;&amp;#x5206;&amp;#x8FDB;&amp;#x884C;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&amp;#xFF0C;&amp;#x76F4;&amp;#x5230;&amp;#x5212;&amp;#x5206;&amp;#x7684;&amp;#x7EC4;&amp;#x4E2D;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x4E2A;&amp;#x6570;&amp;#x4E3A;&lt;code&gt;1&lt;/code&gt;&amp;#x5373;&amp;#x6B64;&amp;#x65F6;&amp;#x6240;&amp;#x6709;&amp;#x6570;&amp;#x636E;&amp;#x6709;&amp;#x5E8F;&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;&amp;#x5E0C;&amp;#x5C14;&amp;#x6392;&amp;#x5E8F;&quot;&gt;&lt;a href=&quot;#&amp;#x5E0C;&amp;#x5C14;&amp;#x6392;&amp;#x5E8F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5E0C;&amp;#x5C14;&amp;#x6392;&amp;#x5E8F;&quot;&gt;&lt;/a&gt;&amp;#x5E0C;&amp;#x5C14;&amp;#x6392;&amp;#x5E8F;&lt;/h1&gt;&lt;h2 id=&quot;&amp;#x601D;&amp;#x60F3;-5&quot;&gt;&lt;a href=&quot;#&amp;#x601D;&amp;#x60F3;-5&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x601D;&amp;#x60F3;&quot;&gt;&lt;/a&gt;&amp;#x601D;&amp;#x60F3;&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://idisfkj.github.io/2016/06/19/%E7%AE%97%E6%B3%95-%E5%85%AD-%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F/&quot;&gt;&amp;#x5E0C;&amp;#x5C14;&amp;#x6392;&amp;#x5E8F;&lt;/a&gt;&amp;#x662F;&amp;#x8BB0;&amp;#x5F55;&amp;#x589E;&amp;#x91CF;&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x5206;&amp;#x7EC4;&amp;#xFF0C;&amp;#x518D;&amp;#x5BF9;&amp;#x5206;&amp;#x7EC4;&amp;#x5185;&amp;#x90E8;&amp;#x8FDB;&amp;#x884C;&lt;a href=&quot;http://idisfkj.github.io/2016/06/18/%E7%AE%97%E6%B3%95-%E4%B8%89-%E7%9B%B4%E6%8E%A5%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F/&quot;&gt;&amp;#x76F4;&amp;#x63A5;&amp;#x63D2;&amp;#x5165;&amp;#x6392;&amp;#x5E8F;&lt;/a&gt;&amp;#xFF0C;&amp;#x968F;&amp;#x7740;&amp;#x589E;&amp;#x91CF;&amp;#x7684;&amp;#x4E0D;&amp;#x65AD;&amp;#x51CF;&amp;#x5C0F;&amp;#xFF0C;&amp;#x76F4;&amp;#x5230;&amp;#x589E;&amp;#x91CF;&amp;#x51CF;&amp;#x5C0F;&amp;#x5230;&lt;code&gt;1&lt;/code&gt;&amp;#x65F6;&amp;#xFF0C;&amp;#x5373;&amp;#x6BCF;&amp;#x4E2A;&amp;#x5206;&amp;#x7EC4;&amp;#x4E2D;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x91CF;&amp;#x4E3A;&lt;code&gt;1&lt;/code&gt;&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;&amp;#x6392;&amp;#x5E8F;&amp;#x7ED3;&amp;#x675F;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x6B65;&amp;#x9AA4;-5&quot;&gt;&lt;a href=&quot;#&amp;#x6B65;&amp;#x9AA4;-5&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6B65;&amp;#x9AA4;&quot;&gt;&lt;/a&gt;&amp;#x6B65;&amp;#x9AA4;&lt;/h2&gt;&lt;p&gt;&amp;#x8BBE;&amp;#x5F85;&amp;#x6392;&amp;#x5E8F;&amp;#x7684;&amp;#x6570;&amp;#x7EC4;&amp;#x4E3A;&lt;code&gt;a[0...n-1]&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&amp;#x4E00;&amp;#x822C;&amp;#x5F00;&amp;#x59CB;&amp;#x53D6;&amp;#x589E;&amp;#x91CF;&amp;#x6570;&lt;code&gt;d=n/2&lt;/code&gt;&amp;#x3002;&amp;#x4ECE;&lt;code&gt;a[0]~a[d-1]&lt;/code&gt;&amp;#x5C06;&amp;#x6570;&amp;#x7EC4;&amp;#x4E2D;&amp;#x6570;&amp;#x636E;&amp;#x4E4B;&amp;#x95F4;&amp;#x7684;&amp;#x95F4;&amp;#x9694;&amp;#x4E3A;&amp;#x589E;&amp;#x91CF;&amp;#x6570;&lt;code&gt;d&lt;/code&gt;&amp;#x7684;&amp;#x500D;&amp;#x6570;&amp;#x5F52;&amp;#x4E3A;&amp;#x76F8;&amp;#x540C;&amp;#x7EC4;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x4F9D;&amp;#x6B21;&amp;#x5BF9;&amp;#x6BCF;&amp;#x7EC4;&amp;#x4E2D;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x8FDB;&amp;#x884C;&lt;a href=&quot;http://idisfkj.github.io/2016/06/18/%E7%AE%97%E6%B3%95-%E4%B8%89-%E7%9B%B4%E6%8E%A5%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F/&quot;&gt;&amp;#x76F4;&amp;#x63A5;&amp;#x63D2;&amp;#x5165;&amp;#x6392;&amp;#x5E8F;&lt;/a&gt;&amp;#xFF0C;&amp;#x4F7F;&amp;#x5176;&amp;#x6709;&amp;#x5E8F;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x518D;&amp;#x589E;&amp;#x91CF;&amp;#x6570;&lt;code&gt;d=d/2&lt;/code&gt;&amp;#xFF0C;&amp;#x91CD;&amp;#x590D;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&amp;#xFF0C;&amp;#x76F4;&amp;#x5230;&lt;code&gt;d=1&lt;/code&gt;&amp;#x4E3A;&amp;#x6B62;&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;&amp;#x5806;&amp;#x6392;&amp;#x5E8F;&quot;&gt;&lt;a href=&quot;#&amp;#x5806;&amp;#x6392;&amp;#x5E8F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5806;&amp;#x6392;&amp;#x5E8F;&quot;&gt;&lt;/a&gt;&amp;#x5806;&amp;#x6392;&amp;#x5E8F;&lt;/h1&gt;&lt;h2 id=&quot;&amp;#x601D;&amp;#x60F3;-6&quot;&gt;&lt;a href=&quot;#&amp;#x601D;&amp;#x60F3;-6&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x601D;&amp;#x60F3;&quot;&gt;&lt;/a&gt;&amp;#x601D;&amp;#x60F3;&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://idisfkj.github.io/2016/06/19/%E7%AE%97%E6%B3%95-%E4%B8%83-%E5%A0%86%E6%8E%92%E5%BA%8F/&quot;&gt;&amp;#x5806;&amp;#x6392;&amp;#x5E8F;&lt;/a&gt;&amp;#x662F;&amp;#x91C7;&amp;#x7528;&amp;#x6811;&amp;#x7684;&amp;#x5F62;&amp;#x5F0F;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x7ED3;&amp;#x6784;&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x6392;&amp;#x5E8F;&amp;#x7684;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&amp;#x5806;&amp;#x90FD;&amp;#x662F;&amp;#x5B8C;&amp;#x5168;&amp;#x4E8C;&amp;#x53C9;&amp;#x6811;&amp;#x3002;&amp;#x5806;&amp;#x6392;&amp;#x5E8F;&amp;#x5206;&amp;#x4E3A;&amp;#x5927;&amp;#x6839;&amp;#x5806;&amp;#x4E0E;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#xFF0C;&lt;code&gt;&amp;#x5927;&amp;#x6839;&amp;#x5806;&amp;#xFF08;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#xFF09;&amp;#x8868;&amp;#x793A;&amp;#x5728;&amp;#x5B8C;&amp;#x5168;&amp;#x4E8C;&amp;#x53C9;&amp;#x6811;&amp;#x4E2D;&amp;#xFF0C;&amp;#x6240;&amp;#x7528;&amp;#x7684;&amp;#x975E;&amp;#x53F6;&amp;#x5B50;&amp;#x8282;&amp;#x70B9;&amp;#x90FD;&amp;#x5927;&amp;#x4E8E;&amp;#x7B49;&amp;#x4E8E;&amp;#xFF08;&amp;#x5C0F;&amp;#x4E8E;&amp;#x7B49;&amp;#x4E8E;&amp;#xFF09;&amp;#x4ED6;&amp;#x4EEC;&amp;#x5DE6;&amp;#x53F3;&amp;#x5B50;&amp;#x8282;&amp;#x70B9;&amp;#xFF08;&amp;#x5B58;&amp;#x5728;&amp;#xFF09;&lt;/code&gt;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x5806;&amp;#x7684;&amp;#x9876;&amp;#x70B9;&amp;#x4E0D;&amp;#x662F;&amp;#x6700;&amp;#x5927;&amp;#x6570;&amp;#x5C31;&amp;#x662F;&amp;#x6700;&amp;#x5C0F;&amp;#x6570;&amp;#x3002;&amp;#x8FD9;&amp;#x6837;&amp;#x7684;&amp;#x8BDD;&amp;#x6211;&amp;#x4EEC;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x501F;&amp;#x52A9;&amp;#x8FD9;&amp;#x79CD;&amp;#x6027;&amp;#x8D28;&amp;#xFF0C;&lt;code&gt;&amp;#x6BCF;&amp;#x6B21;&amp;#x90FD;&amp;#x53D6;&amp;#x51FA;&amp;#x5927;&amp;#x6839;&amp;#x5806;&amp;#xFF08;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#xFF09;&amp;#x7684;&amp;#x9876;&amp;#x70B9;&amp;#x6570;&amp;#xFF0C;&amp;#x5F62;&amp;#x6210;&amp;#x6709;&amp;#x5E8F;&amp;#x5E8F;&amp;#x5217;&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x6B65;&amp;#x9AA4;-6&quot;&gt;&lt;a href=&quot;#&amp;#x6B65;&amp;#x9AA4;-6&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6B65;&amp;#x9AA4;&quot;&gt;&lt;/a&gt;&amp;#x6B65;&amp;#x9AA4;&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&amp;#x9996;&amp;#x5148;&amp;#x751F;&amp;#x6210;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#x6216;&amp;#x5927;&amp;#x6839;&amp;#x5806;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x4EE5;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#x4E3A;&amp;#x4F8B;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x5C06;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&amp;#x975E;&amp;#x53F6;&amp;#x5B50;&amp;#x8282;&amp;#x70B9;&amp;#x90FD;&amp;#x770B;&amp;#x505A;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x6700;&amp;#x5C0F;&amp;#x7684;&amp;#x5B8C;&amp;#x5168;&amp;#x4E8C;&amp;#x53C9;&amp;#x6811;&amp;#xFF0C;&amp;#x5C06;&amp;#x4ED6;&amp;#x4EEC;&amp;#x90FD;&amp;#x751F;&amp;#x6210;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#xFF0C;&amp;#x4ECE;&amp;#x6700;&amp;#x540E;&amp;#x4E00;&amp;#x4E2A;&amp;#x975E;&amp;#x53F6;&amp;#x5B50;&amp;#x8282;&amp;#x70B9;&amp;#x5F00;&amp;#x59CB;&amp;#xFF0C;&amp;#x628A;&amp;#x5176;&amp;#x5F53;&amp;#x505A;&amp;#x662F;&amp;#x6839;&amp;#x8282;&amp;#x70B9;&amp;#xFF0C;&amp;#x9010;&amp;#x6B65;&amp;#x5411;&amp;#x524D;&amp;#x8FDB;&amp;#x884C;&amp;#x521B;&amp;#x5EFA;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#x4E0A;&amp;#x56FE;&amp;#x4E2D;&amp;#x7684;&amp;#x5927;&amp;#x6839;&amp;#x5806;&amp;#xFF0C;&amp;#x5C06;&amp;#x5176;&amp;#x53D8;&amp;#x6210;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&amp;#xFF0C;&amp;#x5148;&amp;#x4EE5;&lt;code&gt;30&lt;/code&gt;&amp;#x4E3A;&amp;#x6839;&amp;#x8282;&amp;#x70B9;&amp;#xFF0C;&amp;#x6839;&amp;#x636E;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#x7684;&amp;#x6027;&amp;#x8D28;&amp;#xFF0C;&amp;#x9700;&amp;#x8981;&amp;#x4E0E;&lt;code&gt;10&lt;/code&gt;&amp;#x4E92;&amp;#x6362;&amp;#x4F4D;&amp;#x7F6E;;&amp;#x518D;&amp;#x4EE5;&lt;code&gt;60&lt;/code&gt;&amp;#x4E3A;&amp;#x6839;&amp;#x8282;&amp;#x70B9;&amp;#xFF0C;&amp;#x53D1;&amp;#x73B0;&amp;#x9700;&amp;#x8981;&amp;#x4E0E;&lt;code&gt;15&lt;/code&gt;&amp;#x4E92;&amp;#x6362;&amp;#x4F4D;&amp;#x7F6E;&amp;#xFF1B;&amp;#x6700;&amp;#x540E;&amp;#x4E0E;&lt;code&gt;70&lt;/code&gt;&amp;#x4E3A;&amp;#x6839;&amp;#x8282;&amp;#x70B9;&amp;#xFF0C;&amp;#x9700;&amp;#x8981;&amp;#x4E0E;&amp;#x539F;&amp;#x6765;&lt;code&gt;30&lt;/code&gt;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#x5373;&amp;#x73B0;&amp;#x5728;&amp;#x4EA4;&amp;#x6362;&amp;#x4F4D;&amp;#x7F6E;&amp;#x7684;&lt;code&gt;10&lt;/code&gt;&amp;#x4E92;&amp;#x6362;&amp;#x4F4D;&amp;#x7F6E;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x5F62;&amp;#x6210;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x7136;&amp;#x540E;&amp;#x5C31;&amp;#x662F;&amp;#x53D6;&amp;#x51FA;&amp;#x5F62;&amp;#x6210;&amp;#x7684;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#x5F97;&amp;#x9876;&amp;#x70B9;&amp;#x503C;&amp;#xFF0C;&amp;#x5C06;&amp;#x5176;&amp;#x4E0E;&amp;#x5806;&amp;#x4E2D;&amp;#x7B2C;&lt;code&gt;N&lt;/code&gt;(N=n)&amp;#x4E2A;&amp;#x8282;&amp;#x70B9;&amp;#x4E92;&amp;#x6362;&amp;#x4F4D;&amp;#x7F6E;&amp;#xFF0C;&amp;#x5373;&lt;code&gt;a[N-1]&lt;/code&gt;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x6B64;&amp;#x65F6;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#x88AB;&amp;#x7834;&amp;#x574F;&amp;#xFF0C;&amp;#x518D;&amp;#x91CD;&amp;#x65B0;&amp;#x751F;&amp;#x4EA7;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&lt;code&gt;N--&lt;/code&gt;&amp;#xFF0C;&amp;#x4F46;&amp;#x6B64;&amp;#x65F6;&amp;#x8981;&amp;#x751F;&amp;#x6210;&amp;#x7684;&amp;#x6570;&amp;#x7684;&amp;#x8303;&amp;#x56F4;&amp;#x4E3A;&lt;code&gt;a[0...N-1]&lt;/code&gt;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x91CD;&amp;#x590D;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&lt;code&gt;2&lt;/code&gt;&amp;#x3001;&lt;code&gt;3&lt;/code&gt;&amp;#xFF0C;&amp;#x76F4;&amp;#x5230;&lt;code&gt;N=1&lt;/code&gt;&amp;#xFF0C;&amp;#x5373;&lt;code&gt;a[0]&lt;/code&gt;&amp;#xFF0C;&amp;#x6392;&amp;#x5E8F;&amp;#x7ED3;&amp;#x675F;&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#x5982;&amp;#x6709;&amp;#x4E0D;&amp;#x8DB3;&amp;#x4E4B;&amp;#x5904;&amp;#x6B22;&amp;#x8FCE;&amp;#x6307;&amp;#x51FA;&amp;#xFF0C;&amp;#x5168;&amp;#x90E8;&amp;#x4EE3;&amp;#x7801;&amp;#x5DF2;&amp;#x7ECF;&amp;#x653E;&amp;#x5230;github&amp;#x4E0A;&amp;#xFF0C;&amp;#x6709;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x53EF;&amp;#x4EE5;&amp;#x4E0B;&amp;#x8F7D;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;github&amp;#x5730;&amp;#x5740;&amp;#xFF1A;&lt;a href=&quot;https://github.com/idisfkj/Arithmetic&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/idisfkj/Arithmetic&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x8F6C;&amp;#x8F7D;&amp;#x8BF7;&amp;#x6307;&amp;#x660E;&amp;#x51FA;&amp;#x5904; idisfkj&amp;#x535A;&amp;#x5BA2;&amp;#xFF1A;&lt;a href=&quot;https://idisfkj.github.io&quot;&gt;https://idisfkj.github.io&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x524D;&amp;#x9762;&amp;#x4ECB;&amp;#x7ECD;&amp;#x4E86;&amp;#x4E03;&amp;#x5927;&amp;#x7B97;&amp;#x6CD5;&amp;#x7684;&amp;#x601D;&amp;#x60F3;&amp;#x4E0E;&amp;#x5B9E;&amp;#x73B0;&amp;#x6B65;&amp;#x9AA4;&amp;
    
    </summary>
    
      <category term="java" scheme="https://idisfkj.github.io/categories/java/"/>
    
    
      <category term="算法" scheme="https://idisfkj.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>算法(七)堆排序</title>
    <link href="https://idisfkj.github.io/2016/06/19/%E7%AE%97%E6%B3%95-%E4%B8%83-%E5%A0%86%E6%8E%92%E5%BA%8F/"/>
    <id>https://idisfkj.github.io/2016/06/19/算法-七-堆排序/</id>
    <published>2016-06-19T07:06:23.000Z</published>
    <updated>2016-07-30T14:39:42.000Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x5806;&amp;#x6392;&amp;#x5E8F;&amp;#x662F;&amp;#x91C7;&amp;#x7528;&amp;#x6811;&amp;#x7684;&amp;#x5F62;&amp;#x5F0F;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x7ED3;&amp;#x6784;&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x6392;&amp;#x5E8F;&amp;#x7684;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&amp;#x5806;&amp;#x90FD;&amp;#x662F;&amp;#x5B8C;&amp;#x5168;&amp;#x4E8C;&amp;#x53C9;&amp;#x6811;&amp;#x3002;&amp;#x5806;&amp;#x6392;&amp;#x5E8F;&amp;#x5206;&amp;#x4E3A;&amp;#x5927;&amp;#x6839;&amp;#x5806;&amp;#x4E0E;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#xFF0C;&lt;code&gt;&amp;#x5927;&amp;#x6839;&amp;#x5806;&amp;#xFF08;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#xFF09;&amp;#x8868;&amp;#x793A;&amp;#x5728;&amp;#x5B8C;&amp;#x5168;&amp;#x4E8C;&amp;#x53C9;&amp;#x6811;&amp;#x4E2D;&amp;#xFF0C;&amp;#x6240;&amp;#x7528;&amp;#x7684;&amp;#x975E;&amp;#x53F6;&amp;#x5B50;&amp;#x8282;&amp;#x70B9;&amp;#x90FD;&amp;#x5927;&amp;#x4E8E;&amp;#x7B49;&amp;#x4E8E;&amp;#xFF08;&amp;#x5C0F;&amp;#x4E8E;&amp;#x7B49;&amp;#x4E8E;&amp;#xFF09;&amp;#x4ED6;&amp;#x4EEC;&amp;#x5DE6;&amp;#x53F3;&amp;#x5B50;&amp;#x8282;&amp;#x70B9;&amp;#xFF08;&amp;#x5B58;&amp;#x5728;&amp;#xFF09;&lt;/code&gt;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x5806;&amp;#x7684;&amp;#x9876;&amp;#x70B9;&amp;#x4E0D;&amp;#x662F;&amp;#x6700;&amp;#x5927;&amp;#x6570;&amp;#x5C31;&amp;#x662F;&amp;#x6700;&amp;#x5C0F;&amp;#x6570;&amp;#x3002;&amp;#x8FD9;&amp;#x6837;&amp;#x7684;&amp;#x8BDD;&amp;#x6211;&amp;#x4EEC;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x501F;&amp;#x52A9;&amp;#x8FD9;&amp;#x79CD;&amp;#x6027;&amp;#x8D28;&amp;#xFF0C;&lt;code&gt;&amp;#x6BCF;&amp;#x6B21;&amp;#x90FD;&amp;#x53D6;&amp;#x51FA;&amp;#x5927;&amp;#x6839;&amp;#x5806;&amp;#xFF08;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#xFF09;&amp;#x7684;&amp;#x9876;&amp;#x70B9;&amp;#x6570;&amp;#xFF0C;&amp;#x5F62;&amp;#x6210;&amp;#x6709;&amp;#x5E8F;&amp;#x5E8F;&amp;#x5217;&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x57FA;&amp;#x672C;&amp;#x6B65;&amp;#x9AA4;&quot;&gt;&lt;a href=&quot;#&amp;#x57FA;&amp;#x672C;&amp;#x6B65;&amp;#x9AA4;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x57FA;&amp;#x672C;&amp;#x6B65;&amp;#x9AA4;&quot;&gt;&lt;/a&gt;&amp;#x57FA;&amp;#x672C;&amp;#x6B65;&amp;#x9AA4;&lt;/h1&gt;&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x8981;&amp;#x660E;&amp;#x767D;&amp;#x5806;&amp;#x5728;&amp;#x6570;&amp;#x7EC4;&amp;#x4E2D;&amp;#x7684;&amp;#x8868;&amp;#x793A;&amp;#x65B9;&amp;#x5F0F;&amp;#x3002;&lt;code&gt;&amp;#x662F;&amp;#x6309;&amp;#x7167;&amp;#x4ECE;&amp;#x5806;&amp;#x5F97;&amp;#x9876;&amp;#x70B9;&amp;#x5F00;&amp;#x59CB;&amp;#x4ECE;&amp;#x4E0A;&amp;#x5F80;&amp;#x4E0B;&amp;#xFF0C;&amp;#x4ECE;&amp;#x5DE6;&amp;#x5F80;&amp;#x53F3;&amp;#x5B58;&amp;#x653E;&amp;#x5230;&amp;#x6570;&amp;#x7EC4;&amp;#x4E2D;&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/06/19/&amp;#x7B97;&amp;#x6CD5;-&amp;#x4E03;-&amp;#x5806;&amp;#x6392;&amp;#x5E8F;/1.jpg&quot; alt=&quot;&amp;#x5806;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x56FE;&amp;#x5E94;&amp;#x8BE5;&amp;#x5F88;&amp;#x5BB9;&amp;#x6613;&amp;#x7406;&amp;#x89E3;&amp;#x5806;&amp;#x5728;&amp;#x6570;&amp;#x7EC4;&amp;#x4E2D;&amp;#x7684;&amp;#x5B58;&amp;#x653E;&amp;#x4F4D;&amp;#x7F6E;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x8BBE;&amp;#x6570;&amp;#x7EC4;&amp;#x4E3A;&lt;code&gt;a[0...n-1]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;&amp;#x975E;&amp;#x53F6;&amp;#x5B50;&amp;#x8282;&amp;#x70B9;&amp;#x7684;&lt;code&gt;i&lt;/code&gt;&amp;#x7684;&amp;#x5DE6;&amp;#x53F3;&amp;#x5B50;&amp;#x8282;&amp;#x70B9;(&amp;#x5B58;&amp;#x5728;)&amp;#x5728;&amp;#x6570;&amp;#x7EC4;&amp;#x4E2D;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;&lt;code&gt;i*2+1&lt;/code&gt;&amp;#x3001;&lt;code&gt;i*2+2&lt;/code&gt;&amp;#x3002;&amp;#x800C;&amp;#x5728;&amp;#x6570;&amp;#x7EC4;&amp;#x4E2D;&amp;#x6700;&amp;#x540E;&amp;#x4E00;&amp;#x4E2A;&amp;#x975E;&amp;#x53F6;&amp;#x5B50;&amp;#x8282;&amp;#x70B9;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#x53EF;&amp;#x4EE5;&amp;#x8868;&amp;#x793A;&amp;#x4E3A;&lt;code&gt;n/2-1&lt;/code&gt;(n&amp;#x4E3A;&amp;#x6570;&amp;#x7EC4;&amp;#x7684;&amp;#x5927;&amp;#x5C0F;)&amp;#x3002;&amp;#x501F;&amp;#x52A9;&amp;#x8FD9;&amp;#x4E9B;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x5B9E;&amp;#x73B0;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#x4E0E;&amp;#x5927;&amp;#x6839;&amp;#x5806;&amp;#x7684;&amp;#x5F62;&amp;#x6210;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x4E5F;&amp;#x80FD;&amp;#x5B9E;&amp;#x73B0;&amp;#x5806;&amp;#x6392;&amp;#x5E8F;&amp;#x3002;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&amp;#x9996;&amp;#x5148;&amp;#x751F;&amp;#x6210;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#x6216;&amp;#x5927;&amp;#x6839;&amp;#x5806;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x4EE5;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#x4E3A;&amp;#x4F8B;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x5C06;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&amp;#x975E;&amp;#x53F6;&amp;#x5B50;&amp;#x8282;&amp;#x70B9;&amp;#x90FD;&amp;#x770B;&amp;#x505A;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x6700;&amp;#x5C0F;&amp;#x7684;&amp;#x5B8C;&amp;#x5168;&amp;#x4E8C;&amp;#x53C9;&amp;#x6811;&amp;#xFF0C;&amp;#x5C06;&amp;#x4ED6;&amp;#x4EEC;&amp;#x90FD;&amp;#x751F;&amp;#x6210;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#xFF0C;&amp;#x4ECE;&amp;#x6700;&amp;#x540E;&amp;#x4E00;&amp;#x4E2A;&amp;#x975E;&amp;#x53F6;&amp;#x5B50;&amp;#x8282;&amp;#x70B9;&amp;#x5F00;&amp;#x59CB;&amp;#xFF0C;&amp;#x628A;&amp;#x5176;&amp;#x5F53;&amp;#x505A;&amp;#x662F;&amp;#x6839;&amp;#x8282;&amp;#x70B9;&amp;#xFF0C;&amp;#x9010;&amp;#x6B65;&amp;#x5411;&amp;#x524D;&amp;#x8FDB;&amp;#x884C;&amp;#x521B;&amp;#x5EFA;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#x4E0A;&amp;#x56FE;&amp;#x4E2D;&amp;#x7684;&amp;#x5927;&amp;#x6839;&amp;#x5806;&amp;#xFF0C;&amp;#x5C06;&amp;#x5176;&amp;#x53D8;&amp;#x6210;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&amp;#xFF0C;&amp;#x5148;&amp;#x4EE5;&lt;code&gt;30&lt;/code&gt;&amp;#x4E3A;&amp;#x6839;&amp;#x8282;&amp;#x70B9;&amp;#xFF0C;&amp;#x6839;&amp;#x636E;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#x7684;&amp;#x6027;&amp;#x8D28;&amp;#xFF0C;&amp;#x9700;&amp;#x8981;&amp;#x4E0E;&lt;code&gt;10&lt;/code&gt;&amp;#x4E92;&amp;#x6362;&amp;#x4F4D;&amp;#x7F6E;;&amp;#x518D;&amp;#x4EE5;&lt;code&gt;60&lt;/code&gt;&amp;#x4E3A;&amp;#x6839;&amp;#x8282;&amp;#x70B9;&amp;#xFF0C;&amp;#x53D1;&amp;#x73B0;&amp;#x9700;&amp;#x8981;&amp;#x4E0E;&lt;code&gt;15&lt;/code&gt;&amp;#x4E92;&amp;#x6362;&amp;#x4F4D;&amp;#x7F6E;&amp;#xFF1B;&amp;#x6700;&amp;#x540E;&amp;#x4E0E;&lt;code&gt;70&lt;/code&gt;&amp;#x4E3A;&amp;#x6839;&amp;#x8282;&amp;#x70B9;&amp;#xFF0C;&amp;#x9700;&amp;#x8981;&amp;#x4E0E;&amp;#x539F;&amp;#x6765;&lt;code&gt;30&lt;/code&gt;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#x5373;&amp;#x73B0;&amp;#x5728;&amp;#x4EA4;&amp;#x6362;&amp;#x4F4D;&amp;#x7F6E;&amp;#x7684;&lt;code&gt;10&lt;/code&gt;&amp;#x4E92;&amp;#x6362;&amp;#x4F4D;&amp;#x7F6E;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x5F62;&amp;#x6210;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x7136;&amp;#x540E;&amp;#x5C31;&amp;#x662F;&amp;#x53D6;&amp;#x51FA;&amp;#x5F62;&amp;#x6210;&amp;#x7684;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#x5F97;&amp;#x9876;&amp;#x70B9;&amp;#x503C;&amp;#xFF0C;&amp;#x5C06;&amp;#x5176;&amp;#x4E0E;&amp;#x5806;&amp;#x4E2D;&amp;#x7B2C;&lt;code&gt;N&lt;/code&gt;(N=n)&amp;#x4E2A;&amp;#x8282;&amp;#x70B9;&amp;#x4E92;&amp;#x6362;&amp;#x4F4D;&amp;#x7F6E;&amp;#xFF0C;&amp;#x5373;&lt;code&gt;a[N-1]&lt;/code&gt;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x6B64;&amp;#x65F6;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#x88AB;&amp;#x7834;&amp;#x574F;&amp;#xFF0C;&amp;#x518D;&amp;#x91CD;&amp;#x65B0;&amp;#x751F;&amp;#x4EA7;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&lt;code&gt;N--&lt;/code&gt;&amp;#xFF0C;&amp;#x4F46;&amp;#x6B64;&amp;#x65F6;&amp;#x8981;&amp;#x751F;&amp;#x6210;&amp;#x7684;&amp;#x6570;&amp;#x7684;&amp;#x8303;&amp;#x56F4;&amp;#x4E3A;&lt;code&gt;a[0...N-1]&lt;/code&gt;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x91CD;&amp;#x590D;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&lt;code&gt;2&lt;/code&gt;&amp;#x3001;&lt;code&gt;3&lt;/code&gt;&amp;#xFF0C;&amp;#x76F4;&amp;#x5230;&lt;code&gt;N=1&lt;/code&gt;&amp;#xFF0C;&amp;#x5373;&lt;code&gt;a[0]&lt;/code&gt;&amp;#xFF0C;&amp;#x6392;&amp;#x5E8F;&amp;#x7ED3;&amp;#x675F;&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;&amp;#x5B9E;&amp;#x73B0;&quot;&gt;&lt;a href=&quot;#&amp;#x5B9E;&amp;#x73B0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5B9E;&amp;#x73B0;&quot;&gt;&lt;/a&gt;&amp;#x5B9E;&amp;#x73B0;&lt;/h1&gt;&lt;p&gt;&amp;#x4E0D;&amp;#x7BA1;&amp;#x662F;&amp;#x6700;&amp;#x5F00;&amp;#x59CB;&amp;#x7684;&amp;#x521B;&amp;#x5EFA;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#x8FD8;&amp;#x662F;&amp;#x6BCF;&amp;#x6B21;&amp;#x53D6;&amp;#x4E86;&amp;#x9876;&amp;#x70B9;&amp;#x6570;&amp;#x4E4B;&amp;#x540E;&amp;#x518D;&amp;#x8C03;&amp;#x6574;&amp;#x6210;&amp;#x5C0F;&amp;#x8DDF;&amp;#x5806;&amp;#xFF0C;&amp;#x4ED6;&amp;#x4EEC;&amp;#x7684;&amp;#x903B;&amp;#x8F91;&amp;#x90FD;&amp;#x662F;&amp;#x4E00;&amp;#x6837;&amp;#x7684;&amp;#xFF0C;&lt;code&gt;&amp;#x5373;&amp;#x90FD;&amp;#x662F;&amp;#x4E0E;&amp;#x5176;&amp;#x5173;&amp;#x952E;&amp;#x5B57;&amp;#x7684;&amp;#x5B50;&amp;#x8282;&amp;#x70B9;&amp;#x8FDB;&amp;#x884C;&amp;#x6BD4;&amp;#x8F83;&amp;#x9009;&amp;#x51FA;&amp;#x6700;&amp;#x5C0F;&amp;#x503C;&amp;#xFF0C;&amp;#x5C06;&amp;#x5176;&amp;#x653E;&amp;#x5230;&amp;#x7236;&amp;#x8282;&amp;#x70B9;&amp;#x5904;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&lt;/code&gt;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x8C03;&amp;#x6574;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;/**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * &amp;#x8C03;&amp;#x6574;&amp;#x6210;&amp;#x6700;&amp;#x5C0F;&amp;#x5806;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * @param arr &amp;#x6570;&amp;#x7EC4;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * @param top &amp;#x5806;&amp;#x9876;&amp;#x4F4D;&amp;#x7F6E;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * @param tail &amp;#x5806;&amp;#x672A;&amp;#x4F4D;&amp;#x7F6E;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public static void fitToMinHeap(int[] arr, int top, int tail) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int i = top;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int temp = arr[i];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int j = 2 * i + 1;//&amp;#x627E;&amp;#x5230;&amp;#x5B50;&amp;#x8282;&amp;#x70B9;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        while (j &amp;lt; tail) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (j + 1 &amp;lt; tail &amp;amp;&amp;amp; arr[j + 1] &amp;lt; arr[j])//&amp;#x627E;&amp;#x51FA;&amp;#x5DE6;&amp;#x53F3;&amp;#x5B50;&amp;#x8282;&amp;#x70B9;&amp;#x4E2D;&amp;#x7684;&amp;#x6700;&amp;#x5C0F;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                j++;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (arr[j] &amp;gt;= temp)//&amp;#x5B50;&amp;#x8282;&amp;#x70B9;&amp;#x90FD;&amp;#x5927;&amp;#x4E8E;&amp;#x7236;&amp;#x8282;&amp;#x70B9;&amp;#x5219;&amp;#x8DF3;&amp;#x51FA;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            arr[i] = arr[j];//&amp;#x5C06;&amp;#x5B50;&amp;#x8282;&amp;#x70B9;&amp;#x5411;&amp;#x4E0A;&amp;#x79FB;,&amp;#x5373;&amp;#x79FB;&amp;#x5230;&amp;#x7236;&amp;#x8282;&amp;#x70B9;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            i = j;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            j = 2 * i + 1;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        arr[i] = temp;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#x4EA4;&amp;#x6362;&amp;#x6CA1;&amp;#x6709;&amp;#x76F4;&amp;#x63A5;&amp;#x6BCF;&amp;#x6B21;&amp;#x90FD;&amp;#x8FDB;&amp;#x884C;&amp;#x4EA4;&amp;#x6362;&amp;#xFF0C;&amp;#x800C;&amp;#x662F;&amp;#x4E0E;&amp;#x524D;&amp;#x9762;&amp;#x7684;&lt;a href=&quot;https://idisfkj.github.io/2016/06/18/%E7%AE%97%E6%B3%95-%E4%BA%94-%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/&quot;&gt;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&lt;/a&gt;&amp;#x4E00;&amp;#x6837;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x624D;&amp;#x5C06;&amp;#x5173;&amp;#x952E;&amp;#x5B57;&amp;#x653E;&amp;#x5230;&amp;#x4ED6;&amp;#x6240;&amp;#x8981;&amp;#x5B58;&amp;#x653E;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x4E3B;&amp;#x8981;&amp;#x7684;&amp;#x751F;&amp;#x6210;&amp;#x6700;&amp;#x5C0F;&amp;#x5806;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x5C31;&amp;#x662F;&amp;#x53D6;&amp;#x6570;&amp;#xFF0C;&amp;#x518D;&amp;#x8C03;&amp;#x6574;&amp;#xFF0C;&amp;#x518D;&amp;#x53D6;&amp;#x6570;&amp;#x7684;&amp;#x5FAA;&amp;#x73AF;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static void heapSort(int[] arr) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int n = arr.length;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        for (int j = n / 2 - 1; j &amp;gt;= 0; j--)//&amp;#x4ECE;&amp;#x6700;&amp;#x540E;&amp;#x4E00;&amp;#x4E2A;&amp;#x975E;&amp;#x53F6;&amp;#x5B50;&amp;#x8282;&amp;#x70B9;&amp;#x5F00;&amp;#x59CB;,&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x751F;&amp;#x6210;&amp;#x6570;&amp;#x7EC4;&amp;#x8868;&amp;#x793A;&amp;#x7684;&amp;#x6700;&amp;#x5C0F;&amp;#x5806;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            fitToMinHeap(arr, j, n);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        for (int i = n - 1; i &amp;gt; 0; i--) {//&amp;#x6BCF;&amp;#x6B21;&amp;#x62FF;&amp;#x51FA;&amp;#x5806;&amp;#x7684;&amp;#x9876;&amp;#x70B9;&amp;#x503C;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            //&amp;#x628A;&amp;#x5806;&amp;#x4E2D;&amp;#x7684;&amp;#x9876;&amp;#x70B9;&amp;#x4E0E;a[i]&amp;#x70B9;&amp;#x4E92;&amp;#x6362;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            int temp = arr[0];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            arr[0] = arr[i];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            arr[i] = temp;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            fitToMinHeap(arr, 0, i);//&amp;#x4EA4;&amp;#x6362;&amp;#x540E;&amp;#x518D;&amp;#x5BF9;&amp;#x524D;i&amp;#x4E2A;&amp;#x8282;&amp;#x70B9;&amp;#x8FDB;&amp;#x884C;&amp;#x6700;&amp;#x5C0F;&amp;#x5806;&amp;#x5316;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x5F53;&amp;#x7136;&amp;#x4F7F;&amp;#x7528;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#x8FDB;&amp;#x884C;&amp;#x6392;&amp;#x5E8F;&amp;#x540E;&amp;#x7684;&amp;#x7ED3;&amp;#x679C;&amp;#x662F;&amp;#x9006;&amp;#x5E8F;&amp;#x5E8F;&amp;#x5217;&amp;#xFF0C;&amp;#x5373;&amp;#x4ECE;&amp;#x5927;&amp;#x5230;&amp;#x5C0F;&amp;#x7684;&amp;#x6392;&amp;#x5E8F;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x7ED3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;/a&gt;&amp;#x603B;&amp;#x7ED3;&lt;/h1&gt;&lt;p&gt;&amp;#x4E2A;&amp;#x4EBA;&amp;#x8BA4;&amp;#x4E3A;&amp;#xFF0C;&amp;#x5806;&amp;#x6392;&amp;#x5E8F;&amp;#x8981;&amp;#x7406;&amp;#x89E3;&amp;#x4EE5;&amp;#x4E0B;&amp;#x51E0;&amp;#x70B9;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;#x4F55;&amp;#x4E3A;&amp;#x5C0F;&amp;#x6839;&amp;#x5806;&amp;#x3001;&amp;#x5927;&amp;#x6839;&amp;#x5806;&lt;/li&gt;
&lt;li&gt;&amp;#x5806;&amp;#x7684;&amp;#x521B;&amp;#x5EFA;&amp;#x539F;&amp;#x7406;&lt;/li&gt;
&lt;li&gt;&amp;#x5806;&amp;#x6392;&amp;#x5E8F;&amp;#x7684;&amp;#x53D6;&amp;#x6570;&amp;#x539F;&amp;#x7406;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x4EE5;&amp;#x4E0A;&amp;#x51E0;&amp;#x70B9;&amp;#x7684;&amp;#x7406;&amp;#x89E3;&amp;#x5C31;&amp;#x80FD;&amp;#x5F88;&amp;#x597D;&amp;#x7684;&amp;#x638C;&amp;#x63E1;&amp;#x5806;&amp;#x6392;&amp;#x5E8F;&amp;#x3002;&amp;#x6700;&amp;#x540E;&amp;#x5806;&amp;#x6392;&amp;#x5E8F;&amp;#x4E3A;&amp;#x4E0D;&amp;#x7A33;&amp;#x5B9A;&amp;#x6392;&amp;#x5E8F;&amp;#xFF0C;&amp;#x4E14;&amp;#x65F6;&amp;#x95F4;&amp;#x590D;&amp;#x6742;&amp;#x5EA6;&amp;#x4E3A;&lt;code&gt;O(nlogn)&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x8F6C;&amp;#x8F7D;&amp;#x8BF7;&amp;#x6307;&amp;#x660E;&amp;#x51FA;&amp;#x5904; idisfkj&amp;#x535A;&amp;#x5BA2;&amp;#xFF1A;&lt;a href=&quot;https://idisfkj.github.io&quot;&gt;https://idisfkj.github.io&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x5806;&amp;#x6392;&amp;#x5E8F;&amp;#x662F;&amp;#x91C7;&amp;#x7528;&amp;#x6811;&amp;#x7684;&amp;#x5F62;&amp;#x5F0F;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x7ED3;&amp;#x6784;&amp;#x6765;&amp;#x8FDB;&amp;
    
    </summary>
    
      <category term="java" scheme="https://idisfkj.github.io/categories/java/"/>
    
    
      <category term="算法" scheme="https://idisfkj.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>算法(六)希尔排序</title>
    <link href="https://idisfkj.github.io/2016/06/19/%E7%AE%97%E6%B3%95-%E5%85%AD-%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F/"/>
    <id>https://idisfkj.github.io/2016/06/19/算法-六-希尔排序/</id>
    <published>2016-06-19T01:28:05.000Z</published>
    <updated>2016-07-30T14:39:20.000Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x5E0C;&amp;#x5C14;&amp;#x6392;&amp;#x5E8F;&amp;#x662F;&amp;#x63D2;&amp;#x5165;&amp;#x6392;&amp;#x5E8F;&amp;#x7684;&amp;#x4E00;&amp;#x79CD;&amp;#xFF0C;&amp;#x662F;&lt;a href=&quot;https://idisfkj.github.io/2016/06/18/%E7%AE%97%E6%B3%95-%E4%B8%89-%E7%9B%B4%E6%8E%A5%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F/&quot;&gt;&amp;#x76F4;&amp;#x63A5;&amp;#x63D2;&amp;#x5165;&amp;#x6392;&amp;#x5E8F;&lt;/a&gt;&amp;#x7684;&amp;#x66F4;&amp;#x9AD8;&amp;#x6548;&amp;#x7684;&amp;#x6539;&amp;#x8FDB;&amp;#x7248;&amp;#x3002;&amp;#x5E0C;&amp;#x5C14;&amp;#x6392;&amp;#x5E8F;&amp;#x662F;&amp;#x8BB0;&amp;#x5F55;&amp;#x589E;&amp;#x91CF;&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x5206;&amp;#x7EC4;&amp;#xFF0C;&amp;#x518D;&amp;#x5BF9;&amp;#x5206;&amp;#x7EC4;&amp;#x5185;&amp;#x90E8;&amp;#x8FDB;&amp;#x884C;&lt;a href=&quot;https://idisfkj.github.io/2016/06/18/%E7%AE%97%E6%B3%95-%E4%B8%89-%E7%9B%B4%E6%8E%A5%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F/&quot;&gt;&amp;#x76F4;&amp;#x63A5;&amp;#x63D2;&amp;#x5165;&amp;#x6392;&amp;#x5E8F;&lt;/a&gt;&amp;#xFF0C;&amp;#x968F;&amp;#x7740;&amp;#x589E;&amp;#x91CF;&amp;#x7684;&amp;#x4E0D;&amp;#x65AD;&amp;#x51CF;&amp;#x5C0F;&amp;#xFF0C;&amp;#x76F4;&amp;#x5230;&amp;#x589E;&amp;#x91CF;&amp;#x51CF;&amp;#x5C0F;&amp;#x5230;&lt;code&gt;1&lt;/code&gt;&amp;#x65F6;&amp;#xFF0C;&amp;#x5373;&amp;#x6BCF;&amp;#x4E2A;&amp;#x5206;&amp;#x7EC4;&amp;#x4E2D;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x91CF;&amp;#x4E3A;&lt;code&gt;1&lt;/code&gt;&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;&amp;#x6392;&amp;#x5E8F;&amp;#x7ED3;&amp;#x675F;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x57FA;&amp;#x672C;&amp;#x6B65;&amp;#x9AA4;&quot;&gt;&lt;a href=&quot;#&amp;#x57FA;&amp;#x672C;&amp;#x6B65;&amp;#x9AA4;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x57FA;&amp;#x672C;&amp;#x6B65;&amp;#x9AA4;&quot;&gt;&lt;/a&gt;&amp;#x57FA;&amp;#x672C;&amp;#x6B65;&amp;#x9AA4;&lt;/h1&gt;&lt;p&gt;&amp;#x8BBE;&amp;#x5F85;&amp;#x6392;&amp;#x5E8F;&amp;#x7684;&amp;#x6570;&amp;#x7EC4;&amp;#x4E3A;&lt;code&gt;a[0...n-1]&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&amp;#x4E00;&amp;#x822C;&amp;#x5F00;&amp;#x59CB;&amp;#x53D6;&amp;#x589E;&amp;#x91CF;&amp;#x6570;&lt;code&gt;d=n/2&lt;/code&gt;&amp;#x3002;&amp;#x4ECE;&lt;code&gt;a[0]~a[d-1]&lt;/code&gt;&amp;#x5C06;&amp;#x6570;&amp;#x7EC4;&amp;#x4E2D;&amp;#x6570;&amp;#x636E;&amp;#x4E4B;&amp;#x95F4;&amp;#x7684;&amp;#x95F4;&amp;#x9694;&amp;#x4E3A;&amp;#x589E;&amp;#x91CF;&amp;#x6570;&lt;code&gt;d&lt;/code&gt;&amp;#x7684;&amp;#x500D;&amp;#x6570;&amp;#x5F52;&amp;#x4E3A;&amp;#x76F8;&amp;#x540C;&amp;#x7EC4;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x4F9D;&amp;#x6B21;&amp;#x5BF9;&amp;#x6BCF;&amp;#x7EC4;&amp;#x4E2D;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x8FDB;&amp;#x884C;&lt;a href=&quot;https://idisfkj.github.io/2016/06/18/%E7%AE%97%E6%B3%95-%E4%B8%89-%E7%9B%B4%E6%8E%A5%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F/&quot;&gt;&amp;#x76F4;&amp;#x63A5;&amp;#x63D2;&amp;#x5165;&amp;#x6392;&amp;#x5E8F;&lt;/a&gt;&amp;#xFF0C;&amp;#x4F7F;&amp;#x5176;&amp;#x6709;&amp;#x5E8F;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x518D;&amp;#x589E;&amp;#x91CF;&amp;#x6570;&lt;code&gt;d=d/2&lt;/code&gt;&amp;#xFF0C;&amp;#x91CD;&amp;#x590D;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&amp;#xFF0C;&amp;#x76F4;&amp;#x5230;&lt;code&gt;d=1&lt;/code&gt;&amp;#x4E3A;&amp;#x6B62;&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#x4F8B;&amp;#x5982;&amp;#x53D6;&lt;code&gt;d=10&lt;/code&gt;&amp;#x4E3A;&amp;#x4F8B;&amp;#xFF1A;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;23, 4, 6, 34, 35, 47, 546, 32, 6,10&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x53D6;&lt;code&gt;d=5&lt;/code&gt;,&amp;#x4EE5;&amp;#x540E;&amp;#x4F9D;&amp;#x6B21;&amp;#x533A;&lt;code&gt;d&lt;/code&gt;&amp;#x7684;&amp;#x4E00;&amp;#x534A;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;23, 4, 6, 34, 35, 47, 546, 32, 6,10&lt;/code&gt;&lt;br&gt;&lt;code&gt;23&lt;/code&gt; &amp;#x2014;&amp;#x2014;&amp;#x2014;&amp;#x2014;&amp;#x2014; &lt;code&gt;47&lt;/code&gt;&lt;br&gt;&amp;#x2014;&amp;#x2013;&lt;code&gt;4&lt;/code&gt; &amp;#x2014;&amp;#x2014;&amp;#x2014;&amp;#x2014;&amp;#x2014;&amp;#x2013;&lt;code&gt;546&lt;/code&gt;&lt;br&gt;&amp;#x2014;&amp;#x2014;&amp;#x2014;&lt;code&gt;6&lt;/code&gt; &amp;#x2014;&amp;#x2014;&amp;#x2014;&amp;#x2014;&amp;#x2014;&amp;#x2014;&amp;#x2014; &lt;code&gt;32&lt;/code&gt;&lt;br&gt;&amp;#x2014;&amp;#x2014;&amp;#x2014;&amp;#x2014;&lt;code&gt;34&lt;/code&gt; &amp;#x2014;&amp;#x2014;&amp;#x2014;&amp;#x2014;&amp;#x2014;&amp;#x2014;&amp;#x2014; &lt;code&gt;6&lt;/code&gt;&lt;br&gt;&amp;#x2014;&amp;#x2014;&amp;#x2014;&amp;#x2014;&amp;#x2014;&amp;#x2014; &lt;code&gt;35&lt;/code&gt; &amp;#x2014;&amp;#x2014;&amp;#x2014;&amp;#x2014;&amp;#x2014;&amp;#x2013; &lt;code&gt;10&lt;/code&gt;&lt;br&gt;&amp;#x7B2C;&amp;#x4E00;&amp;#x8D9F;&amp;#x7ED3;&amp;#x679C;&amp;#xFF1A;&lt;br&gt;&lt;code&gt;23, 4, 6, 6, 10, 47, 546, 32, 34, 35&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;d=2&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;23&lt;/code&gt;&amp;#x2014;&lt;code&gt;6&lt;/code&gt;&amp;#x2014;&lt;code&gt;10&lt;/code&gt;&amp;#x2014; &lt;code&gt;546&lt;/code&gt;&amp;#x2014;&amp;#x2013;&lt;code&gt;34&lt;/code&gt;&lt;br&gt;&amp;#x2014;&amp;#x2013;&lt;code&gt;4&lt;/code&gt;&amp;#x2013;&lt;code&gt;6&lt;/code&gt;&amp;#x2014; &lt;code&gt;47&lt;/code&gt;&amp;#x2014;&amp;#x2014; &lt;code&gt;32&lt;/code&gt;&amp;#x2014; &lt;code&gt;35&lt;/code&gt;&lt;br&gt;&amp;#x7B2C;&amp;#x4E8C;&amp;#x8D9F;&amp;#x7ED3;&amp;#x679C;&amp;#xFF1A;&lt;br&gt;&lt;code&gt;6, 4, 10, 6, 23, 32, 34, 35, 546, 47&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;d=1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;6, 4, 10, 6, 23, 32, 34, 35, 546, 47&lt;/code&gt;&lt;br&gt;&amp;#x7B2C;&amp;#x4E09;&amp;#x8D9F;&amp;#x7ED3;&amp;#x679C;&amp;#xFF1A;&lt;br&gt;&lt;code&gt;4, 6, 6, 10, 23, 32, 34, 35, 47, 546&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5E8F;&amp;#x5217;&amp;#x6709;&amp;#x5E8F;&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;&amp;#x6392;&amp;#x5E8F;&amp;#x7ED3;&amp;#x675F;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x5B9E;&amp;#x73B0;&quot;&gt;&lt;a href=&quot;#&amp;#x5B9E;&amp;#x73B0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5B9E;&amp;#x73B0;&quot;&gt;&lt;/a&gt;&amp;#x5B9E;&amp;#x73B0;&lt;/h1&gt;&lt;p&gt;&amp;#x6309;&amp;#x7167;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x5206;&amp;#x6790;&amp;#x6B65;&amp;#x9AA4;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x53D1;&amp;#x73B0;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x5BF9;&lt;code&gt;d&lt;/code&gt;&amp;#x7684;&amp;#x503C;&amp;#x8FDB;&amp;#x884C;&amp;#x63A7;&amp;#x5236;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5B9E;&amp;#x73B0;&amp;#x4EE3;&amp;#x7801;&amp;#x5982;&amp;#x4E0B;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static void shellSort(int[] arr) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int temp;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x589E;&amp;#x91CF;&amp;#x503C;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int d = arr.length / 2;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        while (true) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            for (int i = 0; i &amp;lt; d; i++) {//&amp;#x5206;&amp;#x6210;&amp;#x82E5;&amp;#x5E72;&amp;#x7EC4;&amp;#x8FDB;&amp;#x884C;&amp;#x6392;&amp;#x5E8F;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                for (int j = i; j + d &amp;lt; arr.length; j += d) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    for (int k = j + d; k - d &amp;gt;= 0; k -= d) {//&amp;#x4F7F;&amp;#x7528;&amp;#x76F4;&amp;#x63A5;&amp;#x63D2;&amp;#x5165;&amp;#x6392;&amp;#x5E8F;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        if (arr[k] &amp;lt; arr[k - d]) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            temp = arr[k];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            arr[k] = arr[k - d];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            arr[k - d] = temp;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (d == 1) break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            d = d / 2;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x7ED3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;/a&gt;&amp;#x603B;&amp;#x7ED3;&lt;/h1&gt;&lt;p&gt;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&amp;#x662F;&amp;#x4E0D;&amp;#x7A33;&amp;#x5B9A;&amp;#x6392;&amp;#x5E8F;&amp;#xFF0C;&amp;#x867D;&amp;#x7136;&amp;#x5BF9;&amp;#x6BCF;&amp;#x7EC4;&amp;#x7684;&amp;#x6392;&amp;#x5E8F;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&lt;a href=&quot;https://idisfkj.github.io/2016/06/18/%E7%AE%97%E6%B3%95-%E4%B8%89-%E7%9B%B4%E6%8E%A5%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F/&quot;&gt;&amp;#x76F4;&amp;#x63A5;&amp;#x63D2;&amp;#x5165;&amp;#x6392;&amp;#x5E8F;&lt;/a&gt;&amp;#xFF0C;&amp;#x5728;&amp;#x5206;&amp;#x7EC4;&amp;#x4E2D;&amp;#x662F;&amp;#x7A33;&amp;#x5B9A;&amp;#x7684;&amp;#xFF0C;&amp;#x4F46;&amp;#x7531;&amp;#x4E8E;&amp;#x4F1A;&amp;#x8FDB;&amp;#x884C;&amp;#x5206;&amp;#x7EC4;&amp;#xFF0C;&amp;#x6570;&amp;#x7EC4;&amp;#x6240;&amp;#x5728;&amp;#x7EC4;&amp;#x4F1A;&amp;#x53D1;&amp;#x751F;&amp;#x53D8;&amp;#x5316;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5E76;&amp;#x4E0D;&amp;#x80FD;&amp;#x4FDD;&amp;#x8BC1;&amp;#x5B83;&amp;#x6574;&amp;#x4F53;&amp;#x662F;&amp;#x7A33;&amp;#x5B9A;&amp;#x6392;&amp;#x5E8F;&amp;#x3002;&amp;#x81F3;&amp;#x4E8E;&lt;code&gt;d&lt;/code&gt;&amp;#x7684;&amp;#x53D6;&amp;#x503C;&amp;#x4E5F;&amp;#x6CA1;&amp;#x6709;&amp;#x7EDD;&amp;#x5BF9;&amp;#xFF0C;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x6839;&amp;#x636E;&amp;#x60C5;&amp;#x51B5;&amp;#x53D6;&amp;#x503C;&amp;#x4E0E;&amp;#x53D8;&amp;#x5316;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x8F6C;&amp;#x8F7D;&amp;#x8BF7;&amp;#x6307;&amp;#x660E;&amp;#x51FA;&amp;#x5904; idisfkj&amp;#x535A;&amp;#x5BA2;&amp;#xFF1A;&lt;a href=&quot;https://idisfkj.github.io&quot;&gt;https://idisfkj.github.io&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x5E0C;&amp;#x5C14;&amp;#x6392;&amp;#x5E8F;&amp;#x662F;&amp;#x63D2;&amp;#x5165;&amp;#x6392;&amp;#x5E8F;&amp;#x7684;&amp;#x4E00;&amp;#x79CD;&amp;#xFF0C;&amp;#x662F;&lt;a href=&quot;https://idisfkj.
    
    </summary>
    
      <category term="java" scheme="https://idisfkj.github.io/categories/java/"/>
    
    
      <category term="算法" scheme="https://idisfkj.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>算法(五)快速排序</title>
    <link href="https://idisfkj.github.io/2016/06/18/%E7%AE%97%E6%B3%95-%E4%BA%94-%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/"/>
    <id>https://idisfkj.github.io/2016/06/18/算法-五-快速排序/</id>
    <published>2016-06-18T13:33:54.000Z</published>
    <updated>2016-07-30T14:39:30.000Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&amp;#x662F;&amp;#x5BF9;&lt;a href=&quot;https://idisfkj.github.io/2016/06/18/%E7%AE%97%E6%B3%95-%E4%BA%8C-%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F/&quot;&gt;&amp;#x5192;&amp;#x6CE1;&amp;#x6392;&amp;#x5E8F;&lt;/a&gt;&amp;#x7684;&amp;#x4E00;&amp;#x79CD;&amp;#x6539;&amp;#x8FDB;&amp;#x3002;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&amp;#x7531;&lt;code&gt;C. A. R. Hoare&lt;/code&gt;&amp;#x5728;&lt;code&gt;1962&lt;/code&gt;&amp;#x5E74;&amp;#x63D0;&amp;#x51FA;&amp;#x3002;&amp;#x5B83;&amp;#x7684;&amp;#x4E3B;&amp;#x8981;&amp;#x601D;&amp;#x60F3;&amp;#x662F;&amp;#xFF1A;&lt;code&gt;&amp;#x5C06;&amp;#x4E00;&amp;#x4E2A;&amp;#x5F85;&amp;#x6392;&amp;#x5E8F;&amp;#x5E8F;&amp;#x5217;&amp;#x5206;&amp;#x6210;&amp;#x4E24;&amp;#x4E2A;&amp;#x90E8;&amp;#x5206;&amp;#xFF0C;&amp;#x4EE5;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&amp;#x4E00;&amp;#x4E2A;&amp;#x6570;&amp;#x636E;&amp;#x4F5C;&amp;#x4E3A;&amp;#x5206;&amp;#x754C;&amp;#x7EBF;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x4E00;&amp;#x90E8;&amp;#x5206;&amp;#x5C0F;&amp;#x4E8E;&amp;#x8FD9;&amp;#x4E2A;&amp;#x5206;&amp;#x754C;&amp;#x7EBF;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x53E6;&amp;#x4E00;&amp;#x90E8;&amp;#x5206;&amp;#x5927;&amp;#x4E8E;&amp;#x8FD9;&amp;#x4E2A;&amp;#x5206;&amp;#x754C;&amp;#x7EBF;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x3002;&amp;#x56E0;&amp;#x4E3A;&amp;#x91C7;&amp;#x7528;&amp;#x9012;&amp;#x5F52;&amp;#x7684;&amp;#x601D;&amp;#x60F3;&amp;#xFF0C;&amp;#x518D;&amp;#x5BF9;&amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x5E8F;&amp;#x5217;&amp;#x8FDB;&amp;#x884C;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&amp;#xFF0C;&amp;#x76F4;&amp;#x5230;&amp;#x6240;&amp;#x4EE5;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x90FD;&amp;#x662F;&amp;#x6709;&amp;#x5E8F;&amp;#x7684;&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x57FA;&amp;#x672C;&amp;#x6B65;&amp;#x9AA4;&quot;&gt;&lt;a href=&quot;#&amp;#x57FA;&amp;#x672C;&amp;#x6B65;&amp;#x9AA4;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x57FA;&amp;#x672C;&amp;#x6B65;&amp;#x9AA4;&quot;&gt;&lt;/a&gt;&amp;#x57FA;&amp;#x672C;&amp;#x6B65;&amp;#x9AA4;&lt;/h1&gt;&lt;p&gt;&amp;#x5047;&amp;#x8BBE;&amp;#x5F85;&amp;#x6392;&amp;#x5E8F;&amp;#x7684;&amp;#x6570;&amp;#x7EC4;&amp;#x4E3A;&lt;code&gt;a[0...n-1]&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&amp;#x4E00;&amp;#x822C;&amp;#x90FD;&amp;#x5C06;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#x6570;&lt;code&gt;a[i]&lt;/code&gt; (&lt;code&gt;i = 0&lt;/code&gt;) &amp;#x4F5C;&amp;#x4E3A;&amp;#x5173;&amp;#x952E;&amp;#x6570;&amp;#xFF0C;&amp;#x5373;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&amp;#x7684;&amp;#x5206;&amp;#x754C;&amp;#x6570;&amp;#x3002;&amp;#x5148;&amp;#x4ECE;&amp;#x6570;&amp;#x7EC4;&amp;#x7684;&amp;#x540E;&amp;#x9762;&amp;#x5F00;&amp;#x59CB;&amp;#x5373;&amp;#x521D;&amp;#x503C;&lt;code&gt;j = n-1&lt;/code&gt;&amp;#xFF0C;&amp;#x9010;&amp;#x4E2A;&amp;#x5411;&amp;#x524D;&amp;#x8FDB;&amp;#x884C;&amp;#x904D;&amp;#x5386;&amp;#x4E0E;&amp;#x9009;&amp;#x7684;&amp;#x7684;&amp;#x5173;&amp;#x952E;&amp;#x6570;&amp;#x8FDB;&amp;#x884C;&amp;#x6BD4;&amp;#x8F83;(&lt;code&gt;j--&lt;/code&gt;)&amp;#xFF0C;&amp;#x82E5;&amp;#x5927;&amp;#x4E8E;&amp;#x7B49;&amp;#x4E8E;&amp;#x5173;&amp;#x952E;&amp;#x6570;&amp;#x5219;&amp;#x7EE7;&amp;#x7EED;&amp;#x904D;&amp;#x5386;&amp;#xFF0C;&amp;#x5426;&amp;#x5219;&amp;#x5C06;&amp;#x5176;&amp;#x4E0E;&amp;#x5173;&amp;#x952E;&amp;#x6570;&amp;#x6240;&amp;#x5728;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#x8FDB;&amp;#x884C;&amp;#x4EA4;&amp;#x6362;&amp;#xFF0C;&amp;#x5E76;&amp;#x505C;&amp;#x6B62;&amp;#x904D;&amp;#x5386;&amp;#x4E14;&lt;code&gt;i++&lt;/code&gt;&amp;#x8BB0;&amp;#x5F55;&amp;#x6B64;&amp;#x65F6;&amp;#x7684;&lt;code&gt;i&lt;/code&gt;&amp;#x3001;&lt;code&gt;j&lt;/code&gt;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x505C;&amp;#x6B62;&amp;#x524D;&amp;#x9762;&amp;#x7684;&amp;#x904D;&amp;#x5386;&amp;#xFF0C;&amp;#x518D;&amp;#x4ECE;&amp;#x6570;&amp;#x7EC4;&amp;#x7684;&amp;#x7B2C;&lt;code&gt;i&lt;/code&gt;&amp;#x4E2A;&amp;#x4F4D;&amp;#x7F6E;&amp;#x5F00;&amp;#x59CB;&amp;#x5411;&amp;#x540E;&amp;#x8FDB;&amp;#x884C;&amp;#x904D;&amp;#x5386;&amp;#xFF0C;&amp;#x9010;&amp;#x4E2A;&amp;#x4E0E;&amp;#x5173;&amp;#x952E;&amp;#x6570;&amp;#x8FDB;&amp;#x884C;&amp;#x6BD4;&amp;#x8F83;(&lt;code&gt;i++&lt;/code&gt;)&amp;#xFF0C;&amp;#x82E5;&amp;#x5C0F;&amp;#x4E8E;&amp;#x7B49;&amp;#x4E8E;&amp;#x5173;&amp;#x952E;&amp;#x6570;&amp;#x5219;&amp;#x7EE7;&amp;#x7EED;&amp;#x904D;&amp;#x5386;&amp;#xFF0C;&amp;#x5426;&amp;#x5219;&amp;#x5C06;&amp;#x5176;&amp;#x4E0E;&amp;#x5173;&amp;#x952E;&amp;#x6570;&amp;#x6240;&amp;#x5728;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#x8FDB;&amp;#x884C;&amp;#x4EA4;&amp;#x6362;&amp;#xFF0C;&amp;#x5E76;&amp;#x505C;&amp;#x6B62;&amp;#x904D;&amp;#x5386;&amp;#x4E14;&lt;code&gt;j--&lt;/code&gt;&amp;#x8BB0;&amp;#x5F55;&amp;#x6B64;&amp;#x65F6;&amp;#x7684;&lt;code&gt;i&lt;/code&gt;&amp;#x3001;&lt;code&gt;j&lt;/code&gt;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x91CD;&amp;#x590D;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&amp;#xFF0C;&amp;#x76F4;&amp;#x5230;&lt;code&gt;i==j&lt;/code&gt;&amp;#x5C31;&amp;#x7ED3;&amp;#x675F;&amp;#x672C;&amp;#x6B21;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x6B64;&amp;#x65F6;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5C06;&amp;#x5176;&amp;#x6309;&amp;#x5173;&amp;#x952E;&amp;#x6570;&amp;#x5206;&amp;#x6210;&amp;#x4E24;&amp;#x4E2A;&amp;#x90E8;&amp;#x5206;&amp;#xFF0C;&amp;#x518D;&amp;#x91CD;&amp;#x590D;&amp;#x524D;&amp;#x9762;&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&amp;#xFF0C;&amp;#x5BF9;&amp;#x5212;&amp;#x5206;&amp;#x7684;&amp;#x90E8;&amp;#x5206;&amp;#x8FDB;&amp;#x884C;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&amp;#xFF0C;&amp;#x76F4;&amp;#x5230;&amp;#x5212;&amp;#x5206;&amp;#x7684;&amp;#x7EC4;&amp;#x4E2D;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x4E2A;&amp;#x6570;&amp;#x4E3A;&lt;code&gt;1&lt;/code&gt;&amp;#x5373;&amp;#x6B64;&amp;#x65F6;&amp;#x6240;&amp;#x6709;&amp;#x6570;&amp;#x636E;&amp;#x6709;&amp;#x5E8F;&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x6839;&amp;#x636E;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&amp;#xFF0C;&amp;#x5148;&amp;#x8FDB;&amp;#x884C;&amp;#x5173;&amp;#x952E;&amp;#x5B57;&amp;#x5212;&amp;#x5206;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;&amp;#x5B9E;&amp;#x73B0;&quot;&gt;&lt;a href=&quot;#&amp;#x5B9E;&amp;#x73B0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5B9E;&amp;#x73B0;&quot;&gt;&lt;/a&gt;&amp;#x5B9E;&amp;#x73B0;&lt;/h1&gt;&lt;h2 id=&quot;&amp;#x6392;&amp;#x5E8F;&quot;&gt;&lt;a href=&quot;#&amp;#x6392;&amp;#x5E8F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6392;&amp;#x5E8F;&quot;&gt;&lt;/a&gt;&amp;#x6392;&amp;#x5E8F;&lt;/h2&gt;&lt;p&gt;&amp;#x6309;&amp;#x7167;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&lt;code&gt;1&lt;/code&gt;&amp;#x3001;&lt;code&gt;2&lt;/code&gt;&amp;#x3001;&lt;code&gt;3&lt;/code&gt;&amp;#x5B9E;&amp;#x73B0;&amp;#x5173;&amp;#x952E;&amp;#x5B57;&amp;#x7684;&amp;#x5212;&amp;#x5206;&amp;#x5373;&amp;#x4E00;&amp;#x8D9F;&amp;#x5B8C;&amp;#x6574;&amp;#x7684;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&amp;#x3002;&lt;br&gt;&amp;#x6211;&amp;#x8FD9;&amp;#x91CC;&amp;#x6CA1;&amp;#x6709;&amp;#x4F7F;&amp;#x7528;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x9891;&amp;#x7E41;&amp;#x4EA4;&amp;#x6362;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x6BCF;&amp;#x6B21;&amp;#x90FD;&amp;#x662F;&amp;#x4E0E;&amp;#x5173;&amp;#x952E;&amp;#x5B57;&amp;#x8FDB;&amp;#x884C;&amp;#x4EA4;&amp;#x6362;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&amp;#x6700;&amp;#x540E;&amp;#x8FD9;&amp;#x8D9F;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&amp;#x5B8C;&amp;#x4E86;&amp;#x4EE5;&amp;#x540E;&amp;#x518D;&amp;#x5C06;&amp;#x5176;&amp;#x653E;&amp;#x5230;&amp;#x4ED6;&amp;#x6240;&amp;#x5728;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#x4E0A;&amp;#x3002;&amp;#x76F8;&amp;#x5F53;&amp;#x4E8E;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x4F20;&amp;#x9012;&lt;code&gt;a=b,b=c,c=d,d=e&lt;/code&gt;&amp;#x6700;&amp;#x7EC8;&amp;#x5C31;&amp;#x662F;&lt;code&gt;a=e&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static int sort(int[] arr, int low, int height) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int i = low;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int j = height;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int k = arr[low];//&amp;#x8BB0;&amp;#x5F55;&amp;#x5F00;&amp;#x59CB;&amp;#x7684;&amp;#x5173;&amp;#x952E;&amp;#x6570;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        while (i &amp;lt; j) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            while (i &amp;lt; j &amp;amp;&amp;amp; arr[j] &amp;gt;= k) //&amp;#x5148;&amp;#x4ECE;&amp;#x53F3;&amp;#x5411;&amp;#x5DE6;&amp;#x627E;&amp;#x5230;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#x5C0F;&amp;#x4E8E;k&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                j--;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (i &amp;lt; j) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                arr[i] = arr[j];//&amp;#x5C06;&amp;#x627E;&amp;#x5230;&amp;#x7684;&amp;#x6570;&amp;#x66FF;&amp;#x6362;&amp;#x5230;i&amp;#x4F4D;&amp;#x7F6E;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                i++;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            while (i &amp;lt; j &amp;amp;&amp;amp; arr[i] &amp;lt;= k) //&amp;#x518D;&amp;#x4ECE;&amp;#x5DE6;&amp;#x5411;&amp;#x53F3;&amp;#x627E;&amp;#x5230;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#x5927;&amp;#x4E8E;k&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                i++;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (i &amp;lt; j) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                arr[j] = arr[i];//&amp;#x5C06;&amp;#x627E;&amp;#x5230;&amp;#x7684;&amp;#x6570;&amp;#x66FF;&amp;#x6362;&amp;#x5230;j&amp;#x4F4D;&amp;#x7F6E;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                j--;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        arr[i] = k;//&amp;#x5F53;i == j &amp;#x65F6;,&amp;#x6700;&amp;#x540E;&amp;#x5C06;&amp;#x6700;&amp;#x521D;&amp;#x7684;&amp;#x5173;&amp;#x952E;&amp;#x6570;&amp;#x66FF;&amp;#x4EE3;&amp;#x5230;i&amp;#x4F4D;&amp;#x7F6E;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return i;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;&amp;#x5206;&amp;#x6CBB;&amp;#x9012;&amp;#x5F52;&quot;&gt;&lt;a href=&quot;#&amp;#x5206;&amp;#x6CBB;&amp;#x9012;&amp;#x5F52;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5206;&amp;#x6CBB;&amp;#x9012;&amp;#x5F52;&quot;&gt;&lt;/a&gt;&amp;#x5206;&amp;#x6CBB;&amp;#x9012;&amp;#x5F52;&lt;/h2&gt;&lt;p&gt;&amp;#x7136;&amp;#x540E;&amp;#x5C31;&amp;#x662F;&amp;#x5BF9;&amp;#x6574;&amp;#x4E2A;&amp;#x5F85;&amp;#x6392;&amp;#x5E8F;&amp;#x6570;&amp;#x7EC4;&amp;#x8FDB;&amp;#x884C;&lt;code&gt;&amp;#x5206;&amp;#x6CBB;&amp;#x9012;&amp;#x5F52;&lt;/code&gt;&amp;#x9010;&amp;#x4E2A;&amp;#x8FDB;&amp;#x884C;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;,&amp;#x76F4;&amp;#x5230;&amp;#x5212;&amp;#x5206;&amp;#x7684;&amp;#x5E8F;&amp;#x5217;&amp;#x4E2D;&amp;#x7684;&amp;#x4E2A;&amp;#x6570;&amp;#x4E3A;&lt;code&gt;1&lt;/code&gt;&amp;#x4E3A;&amp;#x6B62;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;ublic static void quickSort(int[] arr, int low, int height) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (low &amp;lt; height) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            int mid = sort(arr, low, height);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            quickSort(arr, low, mid - 1);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            quickSort(arr, mid + 1, height);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x7ED3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;/a&gt;&amp;#x603B;&amp;#x7ED3;&lt;/h1&gt;&lt;p&gt;&amp;#x5F53;&amp;#x7136;&amp;#x5BF9;&amp;#x4E8E;&amp;#x5173;&amp;#x952E;&amp;#x6570;&amp;#x7684;&amp;#x9009;&amp;#x53D6;&amp;#xFF0C;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x6539;&amp;#x53D8;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&amp;#x9009;&amp;#x53D6;&amp;#x4E2D;&amp;#x95F4;&amp;#x7684;&amp;#x503C;&amp;#x4F5C;&amp;#x4E3A;&amp;#x5173;&amp;#x952E;&amp;#x6570;&amp;#xFF0C;&amp;#x81F3;&amp;#x4E8E;&amp;#x5B9E;&amp;#x73B0;&amp;#x539F;&amp;#x7406;&amp;#x90FD;&amp;#x662F;&amp;#x4E00;&amp;#x6837;&amp;#x7684;&amp;#x3002;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&amp;#x7684;&amp;#x6700;&amp;#x597D;&amp;#x65F6;&amp;#x95F4;&amp;#x590D;&amp;#x6742;&amp;#x5EA6;&amp;#x4E3A;&lt;code&gt;O(logn)&lt;/code&gt;&amp;#xFF0C;&amp;#x6700;&amp;#x574F;&amp;#x7684;&amp;#x65F6;&amp;#x95F4;&amp;#x590D;&amp;#x6742;&amp;#x5EA6;&amp;#x4E3A;&lt;code&gt;O(n^2)&lt;/code&gt;&amp;#x4E14;&amp;#x5176;&amp;#x4E3A;&amp;#x4E0D;&amp;#x7A33;&amp;#x5B9A;&amp;#x6392;&amp;#x5E8F;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x8F6C;&amp;#x8F7D;&amp;#x8BF7;&amp;#x6307;&amp;#x660E;&amp;#x51FA;&amp;#x5904; idisfkj&amp;#x535A;&amp;#x5BA2;&amp;#xFF1A;&lt;a href=&quot;https://idisfkj.github.io&quot;&gt;https://idisfkj.github.io&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&amp;#x662F;&amp;#x5BF9;&lt;a href=&quot;https://idisfkj.github.io/2016/06/18/%E7%AE%97%E6%B3%95-%E4%BA%8C-%E5%86%92%E6%B
    
    </summary>
    
      <category term="java" scheme="https://idisfkj.github.io/categories/java/"/>
    
    
      <category term="算法" scheme="https://idisfkj.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>算法(四)归并排序</title>
    <link href="https://idisfkj.github.io/2016/06/18/%E7%AE%97%E6%B3%95-%E5%9B%9B-%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/"/>
    <id>https://idisfkj.github.io/2016/06/18/算法-四-归并排序/</id>
    <published>2016-06-18T12:38:53.000Z</published>
    <updated>2016-07-30T14:38:57.000Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x5F52;&amp;#x5E76;&amp;#x6392;&amp;#x5E8F;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x6548;&amp;#x7387;&amp;#x76F8;&amp;#x5BF9;&amp;#x8F83;&amp;#x9AD8;&amp;#x7684;&amp;#x6392;&amp;#x5E8F;&amp;#x7B97;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5B83;&amp;#x91C7;&amp;#x7528;&amp;#x7684;&amp;#x662F;&lt;code&gt;&amp;#x5206;&amp;#x6CBB;&amp;#x7684;&amp;#x601D;&amp;#x60F3;&lt;/code&gt;&amp;#xFF0C;&amp;#x5C06;&amp;#x5F85;&amp;#x6392;&amp;#x5E8F;&amp;#x7684;&amp;#x5E8F;&amp;#x5217;&amp;#x5206;&amp;#x6210;&amp;#x82E5;&amp;#x5E72;&amp;#x7EC4;&amp;#xFF0C;&amp;#x4FDD;&amp;#x8BC1;&amp;#x6BCF;&amp;#x7EC4;&amp;#x90FD;&amp;#x6709;&amp;#x5E8F;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x518D;&amp;#x8FDB;&amp;#x884C;&amp;#x5408;&amp;#x5E76;&amp;#x6392;&amp;#x5E8F;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x4F7F;&amp;#x6574;&amp;#x4E2A;&amp;#x5E8F;&amp;#x5217;&amp;#x6709;&amp;#x5E8F;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x57FA;&amp;#x672C;&amp;#x6B65;&amp;#x9AA4;&quot;&gt;&lt;a href=&quot;#&amp;#x57FA;&amp;#x672C;&amp;#x6B65;&amp;#x9AA4;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x57FA;&amp;#x672C;&amp;#x6B65;&amp;#x9AA4;&quot;&gt;&lt;/a&gt;&amp;#x57FA;&amp;#x672C;&amp;#x6B65;&amp;#x9AA4;&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;&amp;#x5C06;&amp;#x5F85;&amp;#x6392;&amp;#x5E8F;&amp;#x7684;&amp;#x5E8F;&amp;#x5217;&amp;#x91C7;&amp;#x7528;&lt;code&gt;&amp;#x5206;&amp;#x6CBB;&amp;#x601D;&amp;#x60F3;&lt;/code&gt;&amp;#x5C06;&amp;#x5176;&amp;#x5212;&amp;#x5206;&amp;#x6210;&amp;#x82E5;&amp;#x5E72;&amp;#x7EC4;&amp;#xFF0C;&amp;#x4F7F;&amp;#x5176;&amp;#x6709;&amp;#x5E8F;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x53EF;&amp;#x91C7;&amp;#x7528;&amp;#x9012;&amp;#x5F52;&amp;#x8FDB;&amp;#x884C;&amp;#x5212;&amp;#x5206;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x5C06;&amp;#x6709;&amp;#x5E8F;&amp;#x7684;&amp;#x7EC4;&amp;#x5206;&amp;#x522B;&amp;#x8FDB;&amp;#x884C;&amp;#x5F52;&amp;#x5E76;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x501F;&amp;#x52A9;&amp;#x4E00;&amp;#x4E2A;&amp;#x8F85;&amp;#x52A9;&amp;#x6570;&amp;#x7EC4;&amp;#xFF0C;&amp;#x5C06;&amp;#x5DE6;&amp;#x53F3;&amp;#x5212;&amp;#x5206;&amp;#x7684;&amp;#x6709;&amp;#x5E8F;&amp;#x7EC4;&amp;#x4ECE;&amp;#x5934;&amp;#x5F00;&amp;#x59CB;&amp;#x8FDB;&amp;#x884C;&amp;#x6BD4;&amp;#x8F83;&amp;#xFF0C;&amp;#x5C06;&amp;#x8F83;&amp;#x5C0F;&amp;#x7684;&amp;#x6570;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x8F85;&amp;#x52A9;&amp;#x6570;&amp;#x7EC4;&amp;#x4E2D;&amp;#xFF0C;&amp;#x4E14;&amp;#x8F83;&amp;#x5C0F;&amp;#x7684;&amp;#x6240;&amp;#x5728;&amp;#x6709;&amp;#x5E8F;&amp;#x6570;&amp;#x7EC4;&amp;#x5411;&amp;#x540E;&amp;#x81EA;&amp;#x589E;&amp;#xFF0C;&amp;#x518D;&amp;#x4E0E;&amp;#x539F;&amp;#x6765;&amp;#x6BD4;&amp;#x8F83;&amp;#x7684;&amp;#x6570;&amp;#x8FDB;&amp;#x884C;&amp;#x6BD4;&amp;#x8F83;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x91CD;&amp;#x590D;&amp;#x4E0A;&amp;#x9762;&lt;code&gt;2&lt;/code&gt;&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&amp;#xFF0C;&amp;#x76F4;&amp;#x5230;&amp;#x6240;&amp;#x6709;&amp;#x6570;&amp;#x636E;&amp;#x6BD4;&amp;#x8F83;&amp;#x5B8C;&amp;#x6BD5;&amp;#xFF0C;&amp;#x6216;&amp;#x8005;&amp;#x5C06;&amp;#x8FD8;&amp;#x6709;&amp;#x5269;&amp;#x4F59;&amp;#x6570;&amp;#x672A;&amp;#x6BD4;&amp;#x8F83;&amp;#x7684;&amp;#x6709;&amp;#x5E8F;&amp;#x6570;&amp;#x636E;&amp;#x76F4;&amp;#x63A5;&amp;#x6309;&amp;#x539F;&amp;#x6709;&amp;#x7684;&amp;#x987A;&amp;#x5E8F;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x8F85;&amp;#x52A9;&amp;#x6570;&amp;#x7EC4;&amp;#x4E2D;,&amp;#x6700;&amp;#x540E;&amp;#x5C06;&amp;#x5DF2;&amp;#x7ECF;&amp;#x6392;&amp;#x597D;&amp;#x5E8F;&amp;#x7684;&amp;#x8F85;&amp;#x52A9;&amp;#x6570;&amp;#x7EC4;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x539F;&amp;#x6709;&amp;#x6570;&amp;#x7EC4;&amp;#x7684;&amp;#x76F8;&amp;#x5E94;&amp;#x4F4D;&amp;#x7F6E;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x91CD;&amp;#x590D;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&lt;code&gt;2&lt;/code&gt;&amp;#x3001;&lt;code&gt;3&lt;/code&gt;&amp;#x6B65;&amp;#x9AA4;&amp;#xFF0C;&amp;#x76F4;&amp;#x5230;&amp;#x6240;&amp;#x6709;&amp;#x7684;&amp;#x5DE6;&amp;#x53F3;&amp;#x5212;&amp;#x5206;&amp;#x5F52;&amp;#x5E76;&amp;#x5B8C;&amp;#x6BD5;&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x6839;&amp;#x636E;&amp;#x6B65;&amp;#x9AA4;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x5148;&amp;#x5BF9;&amp;#x4E24;&amp;#x4E2A;&amp;#x6709;&amp;#x5E8F;&amp;#x5E8F;&amp;#x5217;&amp;#x5F52;&amp;#x5E76;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#x8FDB;&amp;#x884C;&amp;#x5B9E;&amp;#x73B0;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;&amp;#x5B9E;&amp;#x73B0;&quot;&gt;&lt;a href=&quot;#&amp;#x5B9E;&amp;#x73B0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5B9E;&amp;#x73B0;&quot;&gt;&lt;/a&gt;&amp;#x5B9E;&amp;#x73B0;&lt;/h1&gt;&lt;h2 id=&quot;&amp;#x5408;&amp;#x5E76;&quot;&gt;&lt;a href=&quot;#&amp;#x5408;&amp;#x5E76;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5408;&amp;#x5E76;&quot;&gt;&lt;/a&gt;&amp;#x5408;&amp;#x5E76;&lt;/h2&gt;&lt;p&gt;&amp;#x6309;&amp;#x7167;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&lt;code&gt;2&lt;/code&gt;&amp;#x3001;&lt;code&gt;3&lt;/code&gt;&amp;#x6B65;&amp;#x9AA4;&amp;#xFF0C;&amp;#x5B9E;&amp;#x73B0;&amp;#x5408;&amp;#x5E76;&amp;#x64CD;&amp;#x4F5C;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static void merge(int[] arr, int low, int mid, int height) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int i = low;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int j = mid + 1;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int k = 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int[] temp = new int[height - low + 1];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        while (i &amp;lt;= mid &amp;amp;&amp;amp; j &amp;lt;= height) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (arr[i] &amp;lt;= arr[j]) {//&amp;#x5DE6;&amp;#x8FB9;&amp;#x52A0;&amp;#x5165;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                temp[k++] = arr[i++];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else {//&amp;#x53F3;&amp;#x8FB9;&amp;#x52A0;&amp;#x5165;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                temp[k++] = arr[j++];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        while (i &amp;lt;= mid) {//&amp;#x5DE6;&amp;#x8FB9;&amp;#x5269;&amp;#x4F59;&amp;#x5168;&amp;#x90E8;&amp;#x52A0;&amp;#x5165;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            temp[k++] = arr[i++];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        while (j &amp;lt;= height) {//&amp;#x53F3;&amp;#x8FB9;&amp;#x5269;&amp;#x4F59;&amp;#x5168;&amp;#x90E8;&amp;#x52A0;&amp;#x5165;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            temp[k++] = arr[j++];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        for (int m = 0; m &amp;lt; temp.length; m++) {//&amp;#x8F85;&amp;#x52A9;&amp;#x6570;&amp;#x7EC4;&amp;#x8FD8;&amp;#x539F;&amp;#x5230;&amp;#x539F;&amp;#x6570;&amp;#x7EC4;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            arr[low + m] = temp[m];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x5C31;&amp;#x662F;&amp;#x91C7;&amp;#x7528;&lt;code&gt;&amp;#x5206;&amp;#x6CBB;&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x5212;&amp;#x5206;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5206;&amp;#x6CBB;&quot;&gt;&lt;a href=&quot;#&amp;#x5206;&amp;#x6CBB;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5206;&amp;#x6CBB;&quot;&gt;&lt;/a&gt;&amp;#x5206;&amp;#x6CBB;&lt;/h2&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x53EF;&amp;#x80FD;&amp;#x4F1A;&amp;#x6709;&amp;#x7591;&amp;#x95EE;&amp;#xFF0C;&amp;#x5982;&amp;#x4F55;&amp;#x5C06;&amp;#x5212;&amp;#x5206;&amp;#x7684;&amp;#x5E8F;&amp;#x5217;&amp;#x751F;&amp;#x6210;&amp;#x6709;&amp;#x5E8F;&amp;#x5E8F;&amp;#x5217;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x6211;&amp;#x4EEC;&amp;#x91C7;&amp;#x7528;&amp;#x7684;&amp;#x662F;&lt;code&gt;&amp;#x5206;&amp;#x6CBB;&amp;#x7684;&amp;#x601D;&amp;#x60F3;&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;&amp;#x9012;&amp;#x5F52;&amp;#x601D;&amp;#x60F3;&lt;/code&gt;&amp;#xFF0C;&amp;#x53EA;&amp;#x8981;&amp;#x5E8F;&amp;#x5217;&amp;#x80FD;&amp;#x8FDB;&amp;#x884C;&amp;#x5212;&amp;#x5206;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5C31;&amp;#x4E00;&amp;#x76F4;&amp;#x5212;&amp;#x5206;&amp;#x4E0B;&amp;#x53BB;&amp;#xFF0C;&amp;#x76F4;&amp;#x5230;&amp;#x5212;&amp;#x5206;&amp;#x7684;&amp;#x5E8F;&amp;#x5217;&amp;#x53EA;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x6570;&amp;#x636E;&amp;#x65F6;&amp;#xFF0C;&amp;#x8BE5;&amp;#x5212;&amp;#x5206;&amp;#x7684;&amp;#x5E8F;&amp;#x5217;&amp;#x81EA;&amp;#x7136;&amp;#x5C31;&amp;#x6709;&amp;#x5E8F;&amp;#x4E86;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x518D;&amp;#x8FDB;&amp;#x884C;&amp;#x5408;&amp;#x5E76;&amp;#xFF0C;&amp;#x81EA;&amp;#x7136;&amp;#x5408;&amp;#x5E76;&amp;#x7684;&amp;#x5E8F;&amp;#x5217;&amp;#x4E5F;&amp;#x5C31;&amp;#x4E00;&amp;#x76F4;&amp;#x6709;&amp;#x5E8F;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static void mergeSort(int[] arr, int low, int height) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (low &amp;lt; height) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            int mid = (low + height) / 2;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            mergeSort(arr, low, mid);//&amp;#x5DE6;&amp;#x5212;&amp;#x5206;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            mergeSort(arr, mid + 1, height);//&amp;#x53F3;&amp;#x5212;&amp;#x5206;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            merge(arr, low, mid, height);//&amp;#x5DE6;&amp;#x53F3;&amp;#x5F52;&amp;#x5E76;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x7ED3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;/a&gt;&amp;#x603B;&amp;#x7ED3;&lt;/h1&gt;&lt;p&gt;&amp;#x5F52;&amp;#x5E76;&amp;#x6392;&amp;#x5E8F;&amp;#x4E3A;&amp;#x7A33;&amp;#x5B9A;&amp;#x6392;&amp;#x5E8F;&amp;#xFF0C;&amp;#x6392;&amp;#x5E8F;&amp;#x540E;&amp;#x76F8;&amp;#x540C;&amp;#x6570;&amp;#x7684;&amp;#x76F8;&amp;#x5BF9;&amp;#x4F4D;&amp;#x7F6E;&amp;#x4E0D;&amp;#x4F1A;&amp;#x53D1;&amp;#x751F;&amp;#x6539;&amp;#x53D8;&amp;#x3002;&amp;#x7531;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x601D;&amp;#x60F3;&amp;#x53EF;&amp;#x77E5;&amp;#xFF0C;&amp;#x5C06;&amp;#x5E8F;&amp;#x5217;&amp;#x5212;&amp;#x5206;&amp;#x6210;&amp;#x7EC4;&amp;#x9700;&amp;#x8981;&lt;code&gt;logn&lt;/code&gt;&amp;#x6B21;&amp;#xFF0C;&amp;#x5C06;&amp;#x5212;&amp;#x5206;&amp;#x7684;&amp;#x7EC4;&amp;#x5408;&amp;#x5E76;&amp;#x7684;&amp;#x65F6;&amp;#x95F4;&amp;#x590D;&amp;#x6742;&amp;#x5EA6;&amp;#x4E3A;&lt;code&gt;O(n)&lt;/code&gt;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6700;&amp;#x7EC8;&amp;#x7684;&amp;#x65F6;&amp;#x95F4;&amp;#x590D;&amp;#x6742;&amp;#x5EA6;&amp;#x4E3A;&lt;code&gt;O(nlogn)&lt;/code&gt;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x65F6;&amp;#x95F4;&amp;#x590D;&amp;#x6742;&amp;#x5EA6;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x53D1;&amp;#x73B0;&amp;#x5F52;&amp;#x5E76;&amp;#x6392;&amp;#x5E8F;&amp;#x7684;&amp;#x6548;&amp;#x7387;&amp;#x8981;&amp;#x6BD4;&amp;#x5176;&amp;#x4ED6;&amp;#x7684;&lt;a href=&quot;https://idisfkj.github.io/2016/06/18/%E7%AE%97%E6%B3%95-%E4%BA%8C-%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F/&quot;&gt;&amp;#x5192;&amp;#x6CE1;&amp;#x6392;&amp;#x5E8F;&lt;/a&gt;&amp;#x3001;&lt;a href=&quot;https://idisfkj.github.io/2016/06/18/%E7%AE%97%E6%B3%95-%E4%B8%89-%E7%9B%B4%E6%8E%A5%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F/&quot;&gt;&amp;#x76F4;&amp;#x63A5;&amp;#x63D2;&amp;#x5165;&amp;#x6392;&amp;#x5E8F;&lt;/a&gt;&amp;#x3001;&lt;a href=&quot;https://idisfkj.github.io/2016/06/18/%E7%AE%97%E6%B3%95-%E4%B8%80-%E7%9B%B4%E6%8E%A5%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F/&quot;&gt;&amp;#x76F4;&amp;#x63A5;&amp;#x9009;&amp;#x62E9;&amp;#x6392;&amp;#x5E8F;&lt;/a&gt;&amp;#x7B49;&amp;#x8981;&amp;#x9AD8;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x8F6C;&amp;#x8F7D;&amp;#x8BF7;&amp;#x6307;&amp;#x660E;&amp;#x51FA;&amp;#x5904; idisfkj&amp;#x535A;&amp;#x5BA2;&amp;#xFF1A;&lt;a href=&quot;https://idisfkj.github.io&quot;&gt;https://idisfkj.github.io&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x5F52;&amp;#x5E76;&amp;#x6392;&amp;#x5E8F;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x6548;&amp;#x7387;&amp;#x76F8;&amp;#x5BF9;&amp;#x8F83;&amp;#x9AD8;&amp;#x7684;&amp;#x6392;&amp;#x5E8F;&amp;#x7B97;&amp;
    
    </summary>
    
      <category term="java" scheme="https://idisfkj.github.io/categories/java/"/>
    
    
      <category term="算法" scheme="https://idisfkj.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
</feed>
